h1. DSpace System Documentation: JPSUI Configuration and CustomizationThe DSpace digital repository supports two user interfaces: one based on JavaServer Pages (JSP) technologies and one based upon the Apache Cocoon framework. This chapter describes those parameters which are specific to the JPSUI interface.h2. ConfigurationThe user will need to refer to the extensive WebUI/JSPUI configurations that are contained in 5.2.36 JSP Web Interface Settings.h2. Customizing the JSP pagesThe JSPUI interface is implemented using Java Servlets which handle the business logic, and JavaServer Pages (JSPs) which produce the HTML pages sent to an end-user. Since the JSPs are much closer to HTML than Java code, altering the look and feel of DSpace is relatively easy.To make it even easier, DSpace allows you to 'override' the JSPs included in the source distribution with modified versions, that are stored in a separate place, so when it comes to updating your site with a new DSpace release, your modified versions will not be overwritten. It should be possible to dramatically change the look of DSpace to suit your organization by just changing the CSS style file and the site 'skin' or 'layout' JSPs in _jsp/layout_; if possible, it is recommended you limit local customizations to these files to make future upgrades easier.You can also easily edit the text that appears on each JSP page by editing the _Messages.properties_ file. However, note that unless you change the entry in all of the different language message files, users of other languages will still see the default text for their language. See Internationalization in Application Layer.Note that the data (attributes) passed from an underlying Servlet to the JSP may change between versions, so you may have to modify your customized JSP to deal with the new data.Thus, if possible, it is recommended you limit your changes to the 'layout' JSPs and the stylesheet.The JSPs are available in one of two places:* _\[dspace-source\]/dspace-jspui/dspace-jspui-webapp/src/main/webapp/_ - Only exists if you downloaded the full Source Release of DSpace* _\[dspace-source\]/dspace/target/dspace-\[version\].dir/webapps/dspace-jspui-webapp/_ - The location where they are copied after first building DSpace.If you wish to modify a particular JSP, place your edited version in the *_\[dspace-source\]/dspace/modules/jspui/src/main/webapp/_* directory (_this is the replacement for the pre-1.5 _/jsp/local_ directory_), with the same path as the original. If they exist, these will be used in preference to the default JSPs. For example:|*DSpace default*|*Locally-modified version*||_\[jsp.dir\]/community-list.jsp_|_\[jsp.custom-dir\]/dspace/modules/jspui/src/main/webapp/community-list.jsp_||_\[jsp.dir\]/mydspace/main.jsp_|_\[jsp.custom-dir\]/dspace/modules/jspui/src/main/webapp/mydspace/main.jsp_|Heavy use is made of a style sheet, _styles.css.jsp_. If you make edits, copy the local version to _\[jsp.custom-dir\]/dspace/modules/jspui/src/main/webapp/styles.css.jsp_, and it will be used automatically in preference to the default, as described above.Fonts and colors can be easily changed using the stylesheet. The stylesheet is a JSP so that the user's browser version can be detected and the stylesheet tweaked accordingly.The 'layout' of each page, that is, the top and bottom banners and the navigation bar, are determined by the JSPs _/layout/header-*.jsp_ and _/layout/footer-*.jsp_. You can provide modified versions of these (in _\[jsp.custom-dir\]/dspace/modules/jspui/src/main/webapp/layout_), or define more styles and apply them to pages by using the "style" attribute of the _dspace:layout_ tag.# Rebuild the DSpace installation package by running the following command from your _\[dspace-source\]/dspace/_ directory:{code}mvn package{code}# Update all DSpace webapps to _\[dspace\]/webapps_ by running the following command from your _\[dspace-source\]/dspace/target/dspace-\[version\]-build.dir_ directory:{code}ant -Dconfig=[dspace]/config/dspace.cfg update {code}# Deploy the the new webapps: {code}cp -R /[dspace]/webapps/* /[tomcat]/webapps{code}# Restart TomcatÂ When you restart the web server you should see your customized JSPs.