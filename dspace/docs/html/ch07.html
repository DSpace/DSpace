<html><head><META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Chapter&nbsp;7.&nbsp;DSpace System Documentation: Manakin [XMLUI] Configuration and Customization</title><meta content="DocBook XSL Stylesheets V1.75.2" name="generator"><link rel="home" href="index.html" title="DSpace Manual"><link rel="up" href="index.html" title="DSpace Manual"><link rel="prev" href="ch06.html" title="Chapter&nbsp;6.&nbsp;DSpace System Documentation: JPSUI Configuration and Customization"><link rel="next" href="ch08.html" title="Chapter&nbsp;8.&nbsp;DSpace System Documentation: System Administration"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF" marginwidth="5m"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">Chapter&nbsp;7.&nbsp;DSpace System Documentation: Manakin [XMLUI] Configuration and Customization</th></tr><tr><td align="left" width="20%"><a accesskey="p" href="ch06.html">Prev</a>&nbsp;</td><th align="center" width="60%">&nbsp;</th><td align="right" width="20%">&nbsp;<a accesskey="n" href="ch08.html">Next</a></td></tr></table><hr></div><div class="chapter" title="Chapter&nbsp;7.&nbsp;DSpace System Documentation: Manakin [XMLUI] Configuration and Customization"><div class="titlepage"><div><div><h2 class="title"><a name="N154E5"></a>Chapter&nbsp;7.&nbsp;<a name="docbook-xmlui.html"></a>DSpace System Documentation: Manakin [XMLUI] Configuration and Customization</h2></div></div><div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="ch07.html#N154ED">7.1. Manakin Configuration Property Keys</a></span></dt><dt><span class="section"><a href="ch07.html#N156AB">7.2. Configuring Themes and Aspects</a></span></dt><dd><dl><dt><span class="section"><a href="ch07.html#N156C4">7.2.1. Aspects</a></span></dt><dt><span class="section"><a href="ch07.html#N15701">7.2.2. Themes</a></span></dt></dl></dd><dt><span class="section"><a href="ch07.html#N15752">7.3. Multilingual Support</a></span></dt><dt><span class="section"><a href="ch07.html#N15797">7.4. Creating a New Theme</a></span></dt><dt><span class="section"><a href="ch07.html#N1580B">7.5. Customizing the News Document</a></span></dt><dt><span class="section"><a href="ch07.html#N15826">7.6. Adding Static Content</a></span></dt><dt><span class="section"><a href="ch07.html#N15846">7.7. Enabling OAI-ORE Harvester using XMLUI</a></span></dt><dd><dl><dt><span class="section"><a href="ch07.html#N15882">7.7.1. Automatic Harvesting (Scheduler)</a></span></dt></dl></dd></dl></div><p>The DSpace digital repository supports two user interfaces: one based on JavaServer Pages (JSP) technologies and one based upon the Apache Cocoon framework. This chapter describes those parameters which are specific to the Manakin (XMLUI) interface based upon the Cocoon framework.</p><div class="section" title="7.1.&nbsp;Manakin Configuration Property Keys"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N154ED"></a>7.1.&nbsp;<a name="docbook-xmlui.html-configuration"></a>Manakin Configuration Property Keys</h2></div></div><div></div></div><p>In an effort to save the programmer/administrator some time, the configuration table below is taken from 5.3.43. <span class="emphasis"><em>XMLUI Specific Configuration</em></span>.</p><div class="informaltable"><table border="1" width="100%"><colgroup><col><col></colgroup><tbody><tr><td align="right">Property:</td><td><code class="literal">xmlui.supportedLocales</code></td></tr><tr><td align="right">Example Value:</td><td><code class="literal">xmlui.supportedLocales = en, de</code></td></tr><tr><td align="right">Informational Note:</td><td>A list of supported locales for Manakin. Manakin will look at a user's browser configuration for the first language that appears in this list to make available to in the interface. This parameter is a comma separated list of Locales. All types of Locales country, country_language, country_language_variant. Note that if the appropriate files are not present (i.e. Messages_XX_XX.xml) then Manakin will fall back through to a more general language.</td></tr><tr height="5mm"><td colspan="2" align="center">&nbsp;</td></tr><tr><td align="right">Property:</td><td><code class="literal">xmlui.force.ssl</code></td></tr><tr><td align="right">Example Value:</td><td><code class="literal">xmlui.force.ssl = true</code></td></tr><tr><td align="right">Informational Note:</td><td>Force all authenticated connections to use SSL, only non-authenticated connections are allowed over plain http. If set to true, then you need to ensure that the '<code class="literal">dspace.hostname</code>' parameter is set to the correctly.</td></tr><tr height="5mm"><td colspan="2" align="center">&nbsp;</td></tr><tr><td align="right">Property:</td><td><code class="literal">xmlui.user.registration</code></td></tr><tr><td align="right">Example Value:</td><td><code class="literal">xmlui.user.registration = true</code></td></tr><tr><td align="right">Informational Note:</td><td>Determine if new users should be allowed to register. This parameter is useful in conjunction with Shibboleth where you want to disallow registration because Shibboleth will automatically register the user. Default value is true.</td></tr><tr height="5mm"><td colspan="2" align="center">&nbsp;</td></tr><tr><td align="right">Property:</td><td><code class="literal">xmlui.user.editmetadata</code></td></tr><tr><td align="right">Example Value:</td><td><code class="literal">xmlui.user.editmetadata = true</code></td></tr><tr><td align="right">Informational Note:</td><td>Determines if users should be able to edit their own metadata. This parameter is useful in conjunction with Shibboleth where you want to disable the user's ability to edit their metadata because it came from Shibboleth. Default value is true.</td></tr><tr height="5mm"><td colspan="2" align="center">&nbsp;</td></tr><tr><td align="right">Property:</td><td><code class="literal">xmlui.user.assumelogon</code></td></tr><tr><td align="right">Example Value:</td><td><code class="literal">xmlui.user.assumelogon = true</code></td></tr><tr><td align="right">Informational Note:</td><td>Determine if super administrators (those whom are in the Administrators group) can login as another user from the "edit eperson" page. This is useful for debugging problems in a running dspace instance, especially in the workflow process. The default value is false, i.e., no one may assume the login of another user.</td></tr><tr height="5mm"><td colspan="2" align="center">&nbsp;</td></tr><tr><td align="right">Property:</td><td><code class="literal">xmlui.user.loginredirect</code></td></tr><tr><td align="right">Example Value:</td><td><code class="literal">xmlui.user.loginredirect = /profile</code></td></tr><tr><td align="right">Informational Note:</td><td>After a user has logged into the system, which url should they be directed? Leave this parameter blank or undefined to direct users to the homepage, or <code class="literal">/profile</code> for the user's profile, or another reasonable choice is <code class="literal">/submissions</code> to see if the user has any tasks awaiting their attention. The default is the repository home page.</td></tr><tr height="5mm"><td colspan="2" align="center">&nbsp;</td></tr><tr><td align="right">Property:</td><td><code class="literal">xmlui.theme.allowoverrides</code></td></tr><tr><td align="right">Example Value:</td><td><code class="literal">xmlui.theme.allowoverrides = false</code></td></tr><tr><td align="right">Informational Note:</td><td>Allow the user to override which theme is used to display a particular page. When submitting a request add the HTTP parameter "themepath" which corresponds to a particular theme, that specified theme will be used instead of the any other configured theme. Note that this is a potential security hole allowing execution of unintended code on the server, this option is only for development and debugging it should be turned off for any production repository. The default value unless otherwise specified is "false".</td></tr><tr height="5mm"><td colspan="2" align="center">&nbsp;</td></tr><tr><td align="right">Property:</td><td><code class="literal">xmlui.bundle.upload</code></td></tr><tr><td align="right">Example Value:</td><td><code class="literal">xmlui.bundle.upload = ORIGINAL, METADATA, THUMBNAIL, LICENSE, CC_LICENSE</code></td></tr><tr><td align="right">Informational Note:</td><td>Determine which bundles administrators and collection administrators may upload into an existing item through the administrative interface. If the user does not have the appropriate privileges (add and write) on the bundle then that bundle will not be shown to the user as an option.</td></tr><tr height="5mm"><td colspan="2" align="center">&nbsp;</td></tr><tr><td align="right">Property:</td><td><code class="literal">xmlui.community-list.render.full</code></td></tr><tr><td align="right">Example Value:</td><td><code class="literal">xmlui.community-list.render.full = true</code></td></tr><tr><td align="right">Informational Note:</td><td>On the community-list page should all the metadata about a community/collection be available to the theme. This parameter defaults to true, but if you are experiencing performance problems on the community-list page you should experiment with turning this option off.</td></tr><tr height="5mm"><td colspan="2" align="center">&nbsp;</td></tr><tr><td align="right">Property:</td><td><code class="literal">xmlui.community-list.cache</code></td></tr><tr><td align="right">Example Value:</td><td><code class="literal">xmlui.community-list.cache = 12 hours</code></td></tr><tr><td align="right">Informational Note:</td><td>Normally, Manakin will fully verify any cache pages before using a cache copy. This means that when the community-list page is viewed the database is queried for each community/collection to see if their metadata has been modified. This can be expensive for repositories with a large community tree. To help solve this problem you can set the cache to be assumed valued for a specific set of time. The downside of this is that new or editing communities/collections may not show up the website for a period of time.</td></tr><tr height="5mm"><td colspan="2" align="center">&nbsp;</td></tr><tr><td align="right">Property:</td><td><code class="literal">xmlui.bistream.mods</code></td></tr><tr><td align="right">Example Value:</td><td><code class="literal">xmlui.bistream.mods = true</code></td></tr><tr><td align="right">Informational Note:</td><td>Optionally, you may configure Manakin to take advantage of metadata stored as a bitstream. The MODS metadata file must be inside the "METADATA" bundle and named MODS.xml. If this option is set to 'true' and the bitstream is present then it is made available to the theme for display.</td></tr><tr height="5mm"><td colspan="2" align="center">&nbsp;</td></tr><tr><td align="right">Property:</td><td><code class="literal">xmlui.bitstream.mets</code></td></tr><tr><td align="right">Example Value:</td><td><code class="literal">xmlui.bitstream.mets = true</code></td></tr><tr><td align="right">Informational Note:</td><td>Optionally, you may configure Manakin to take advantage of metadata stored as a bitstream. The METS metadata file must be inside the "METADATA" bundle and named METS.xml. If this optino is set to "true" and the bitstream is present then it is made available to the theme for display.</td></tr><tr height="5mm"><td colspan="2" align="center">&nbsp;</td></tr><tr><td align="right">Property:</td><td><code class="literal">xmlui.google.analytics.key</code></td></tr><tr><td align="right">Example Value:</td><td><code class="literal">xmlui.google.analytics.key = UA-XXXXXX-X</code></td></tr><tr><td align="right">Informational Note:</td><td>If you would like to use google analytics to track general website statistics then use the following parameter to provide your analytics key. First sign up for an account at <a class="ulink" href="http://analytics.google.com" target="_top">http://analytics.google.com</a>, then create an entry for your repositories website. Google Analytics will give you a snipit of javascript code to place on your site, inside that snip it is your google analytics key usually found in the line: _uacct = "UA-XXXXXXX-X" Take this key (just the UA-XXXXXX-X part) and place it here in this parameter.</td></tr><tr height="5mm"><td colspan="2" align="center">&nbsp;</td></tr><tr><td align="right">Property:</td><td><code class="literal">xmlui.controlpanel.activity.max</code></td></tr><tr><td align="right">Example Value:</td><td><code class="literal">xmlui.controlpanel.activity.max = 250</code></td></tr><tr><td align="right">Informational Note:</td><td>Assign how many page views will be recorded and displayed in the control panel's activity viewer. The activity tab allows an administrator to debug problems in a running DSpace by understanding who and how their dspace is currently being used. The default value is 250.</td></tr><tr height="5mm"><td colspan="2" align="center">&nbsp;</td></tr><tr><td align="right">Property:</td><td><code class="literal">xmlui.controlpanel.activity.ipheader</code></td></tr><tr><td align="right">Example Value:</td><td><code class="literal">xmlui.controlpanel.activity.ipheader = X-Forward-For</code></td></tr><tr><td align="right">Informational Note:</td><td>Determine where the control panel's activity viewer recieves an events IP address from. If your DSpace is in a load balanced enviornment or otherwise behind a context-switch then you will need to set the paramater to the HTTP parameter that records the original IP address.</td></tr></tbody></table></div></div><div class="section" title="7.2.&nbsp;Configuring Themes and Aspects"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N156AB"></a>7.2.&nbsp;<a name="docbook-xmlui.html-conthemeasp"></a>Configuring Themes and Aspects</h2></div></div><div></div></div><p>The Manakin user interface is composed of two distinct components: <span class="emphasis"><em>aspects</em></span> and <span class="emphasis"><em>themes</em></span>. Manakin aspects are like extensions or plugins for Manakin; they are interactive components that modify existing features or provide new features for the digital repository. Manakin themes stylize the look-and-feel of the repository, community, or collection.</p><p>The repository administrator is able to define which aspects and themes are installed for the particular repository by editing the <code class="literal">[dspace]/config/xmlui.xconf</code> configuration file. The <code class="literal">xmlui.xconf</code> file consists of two major sections: Aspects and Themes.</p><div class="section" title="7.2.1.&nbsp;Aspects"><div class="titlepage"><div><div><h3 class="title"><a name="N156C4"></a>7.2.1.&nbsp;<a name="docbook-xmlui.html-aspects"></a>Aspects</h3></div></div><div></div></div><p>The <code class="literal">&lt;aspects&gt;</code> section defines the "Aspect Chain", or the linear set of aspects that are installed in the repository. For each aspect that is installed in the repository, the aspect makes available new features to the interface. For example, if the "submission" aspect were to be commented out or removed from the <code class="literal">xmlui.xconf</code>, then users would not be able to submit new items into the repository (even the links and language prompting users to submit items are removed). Each <code class="literal">&lt;aspect&gt;</code> element has two attributes, <span class="emphasis"><em>name</em></span> and <span class="emphasis"><em>path</em></span>. The name is used to identify the Aspect, while the path determines the directory where the aspect's code is located. Here is the default aspect configuration:</p><pre class="screen">
    &lt;aspects&gt;
        &lt;aspect name="Artifact Browser" path="resource://aspects/ArtifactBrowser/" /&gt;
        &lt;aspect name="Administration"	path="resource://aspects/Administrative/" /&gt;
        &lt;aspect name="E-Person" path="resource://aspects/EPerson/"	/&gt;
        &lt;aspect name="Submission and Workflow" path="resource://aspects/Submission/" /&gt;
    &lt;/aspects&gt;</pre><p>A standard distribution of Manakin/DSpace includes four "core" aspects: <div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="bold"><strong>Artifact Browser</strong></span></p><p>The Artifact Browser Aspect is responsible for browsing communities, collections, items and bitstreams, viewing an individual item and searching the repository.</p></li><li class="listitem"><p><span class="bold"><strong>E-Person</strong></span></p><p>The E-Person Aspect is responsible for logging in, logging out, registering new users, dealing with forgotten passwords, editing profiles and changing passwords.</p></li><li class="listitem"><p><span class="bold"><strong>Submission</strong></span></p><p>The Submission Aspect is responsible for submitting new items to DSpace, determining the workflow process and ingesting the new items into the DSpace repository.</p></li><li class="listitem"><p><span class="bold"><strong>Administrative</strong></span></p><p>The Administrative Aspect is responsible for administrating DSpace, such as creating, modifying and removing all communities, collections, e-persons, groups, registries and authorizations.</p></li></ul></div></p></div><div class="section" title="7.2.2.&nbsp;Themes"><div class="titlepage"><div><div><h3 class="title"><a name="N15701"></a>7.2.2.&nbsp;<a name="docbook-xmlui.html-themes"></a>Themes</h3></div></div><div></div></div><p>The <code class="literal">&lt;themes&gt;</code> section defines a set of "rules" that determine where themes are installed in the repository. Each rule is processed in the order that it appears, and the first rule that matches determines the theme that is applied (so order is important). Each rule consists of a <code class="literal">&lt;theme&gt;</code> element with several possible attributes:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="bold"><strong>name</strong></span> (<span class="emphasis"><em>always required</em></span>)</p><p>The name attribute is used to document the theme's name.</p></li><li class="listitem"><p><span class="bold"><strong>path</strong></span> (<span class="emphasis"><em>always required</em></span>)</p><p>The path attribute determines where the theme is located relative to the <code class="literal">themes/</code> directory and must either contain a trailing slash or point directly to the theme's <code class="literal">sitemap.xmap</code> file.</p></li><li class="listitem"><p><span class="bold"><strong>regex</strong></span> (<span class="emphasis"><em>either regex and/or handle is required</em></span>)</p><p>The regex attribute determines which URLs the theme should apply to.</p></li><li class="listitem"><p><span class="bold"><strong>handle</strong></span> (<span class="emphasis"><em>either regex and/or handle is required</em></span>)</p><p>The handle attribute determines which community, collection, or item the theme should apply to.</p></li></ul></div><p>If you use the "handle" attribute, the effect is cascading, meaning if a rule is established for a community then all collections and items within that community will also have this theme apply to them as well. Here is an example configuration:</p><pre class="screen">
    &lt;themes&gt;
        &lt;theme name="Theme 1" handle="123456789/23" path="theme1/"/&gt;
        &lt;theme name="Theme 2" regex="community-list"	path="theme2/"/&gt;
        &lt;theme name="Reference Theme" regex=".*" path="Reference/"/&gt;
    &lt;/themes&gt;</pre><p>In the example above three themes are configured: "Theme 1", "Theme 2", and the "Reference Theme". The first rule specifies that "Theme 1" will apply to all communities, collections, or items that are contained under the parent community "123456789/23". The next rule specifies any URL containing the string "community-list" will get "Theme 2". The final rule, using the regular expression ".*", will match <span class="bold"><strong>anything</strong></span>, so all pages which have not matched one of the preceding rules will be matched to the Reference Theme.</p></div></div><div class="section" title="7.3.&nbsp;Multilingual Support"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N15752"></a>7.3.&nbsp;<a name="docbook-xmlui.html-multilingual"></a>Multilingual Support</h2></div></div><div></div></div><p>The XMLUI user interface supports multiple languages through the use of internationalization catalogues as defined by the <a class="ulink" href="http://cocoon.apache.org/2.1/userdocs/i18nTransformer.html" target="_top">Cocoon Internationalization Transformer</a>. Each catalog contains the translation of all user-displayed strings into a particular language or variant. Each catalog is a single xml file whose name is based upon the language it is designated for, thus:</p><p>messages_<span class="emphasis"><em>language</em></span>_<span class="emphasis"><em>country</em></span>_<span class="emphasis"><em>variant</em></span>.xml</p><p>messages_<span class="emphasis"><em>language</em></span>_<span class="emphasis"><em>country</em></span>.xml</p><p>messages_<span class="emphasis"><em>language</em></span>.xml</p><p>messages.xml</p><p>The interface will automatically determine which file to select based upon the user's browser and system configuration. For example, if the user's browser is set to Australian English then first the system will check if <code class="literal">messages_en_au.xml</code> is available. If this translation is not available it will fall back to <code class="literal">messages_en.xml</code>, and finally if that is not available, <code class="literal">messages.xml</code>.</p><p>Manakin supplies an English only translation of the interface. In order to add other translations to the system, locate the <code class="literal">[dspace-source]/dspace/modules/xmlui/src/main/webapp/i18n/</code> directory. By default this directory will be empty; to add additional translations add alternative versions of the <code class="literal">messages.xml</code> file in specific language and country variants as needed for your installation.</p><p>To set a language other than English as the default language for the repository's interface, simply name the translation catalogue for the new default language "<code class="literal">messages.xml</code>"</p></div><div class="section" title="7.4.&nbsp;Creating a New Theme"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N15797"></a>7.4.&nbsp;<a name="docbook-xmlui.html-newtheme"></a>Creating a New Theme</h2></div></div><div></div></div><p>Manakin themes stylize the look-and-feel of the repository, community, or collection and are distributed as self-contained packages. A Manakin/DSpace installation may have multiple themes installed and available to be used in different parts of the repository. The central component of a theme is the sitemap.xmap, which defines what resources are available to the theme such as XSL stylesheets, CSS stylesheets, images, or multimedia files.</p><p>
            <span class="bold"><strong>1) Create theme skeleton</strong></span>
        </p><p>Most theme developers do not create a new theme from scratch; instead they start from the standard theme template, which defines a skeleton structure for a theme. The template is located at: <code class="literal">[dspace-source]/dspace-xmlui/dspace-xmlui-webbapp/src/main/webbapp/themes/template</code>. To start your new theme simply copy the theme template into your locally defined modules directory, <code class="literal">[dspace-source]/dspace/modules/xmlui/src/main/webbapp/themes/[your theme's directory]/</code>.</p><p>
            <span class="bold"><strong>2) Modify theme variables</strong></span>
        </p><p>The next step is to modify the theme's parameters so that the theme knows where it is located. Open the <code class="literal">[your theme's directory]/sitemap.xmap</code> and look for <code class="literal">&lt;global-variables&gt;</code></p><pre class="screen">
    &lt;global-variables&gt;
        &lt;theme-path&gt;[your theme's 	directory]&lt;/theme-path&gt;
        &lt;theme-name&gt;[your theme's name]&lt;/theme-name&gt;
    &lt;/global-variables&gt;</pre><p>Update both the theme's path to the directory name you created in step one. The theme's name is used only for documentation.</p><p>
            <span class="bold"><strong>3) Add your CSS stylesheets</strong></span>
        </p><p>The base theme template will produce a repository interface without any style - just plain XHTML with no color or formatting. To make your theme useful you will need to supply a CSS Stylesheet that creates your desired look-and-feel. Add your new CSS stylesheets:</p><p><code class="literal">[your theme's directory]/lib/style.css</code> (The base style sheet used for all browsers)</p><p><code class="literal">[your theme's directory]/lib/style-ie.css</code> (Specific stylesheet used for internet explorer)</p><p>
            <span class="bold"><strong>4) Install theme and rebuild DSpace</strong></span>
        </p><p>Next rebuild and deploy Dspace (replace &lt;version&gt; with the your current release):</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Rebuild the DSpace installation package by running the following command from your <code class="literal">[dspace-source]/dspace/</code> directory:</p><pre class="screen">mvn package</pre></li><li class="listitem"><p>Update all DSpace webapps to <code class="literal">[dspace]/webapps</code> by running the following command from your <code class="literal">[dspace-source]/dspace/target/dspace-[version]-build.dir</code> directory:</p><pre class="screen">ant -Dconfig=<span class="emphasis"><em>[dspace]</em></span>/config/dspace.cfg update </pre></li><li class="listitem"><p>Deploy the the new webapps: <pre class="screen">cp -R /[dspace]/webapps/* /[tomcat]/webapps</pre></p></li><li class="listitem"><p>Restart Tomcat</p></li></ol></div><p>This will ensure the theme has been installed as described in the previous section "<a class="link" href="ch07.html#docbook-xmlui.html-conthemeasp">Configuring Themes and Aspects</a>".</p></div><div class="section" title="7.5.&nbsp;Customizing the News Document"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N1580B"></a>7.5.&nbsp;<a name="docbook-xmlui.html-news"></a>Customizing the News Document</h2></div></div><div></div></div><p>The XMLUI "news" document is only shown on the root page of your repository.  It was intended to provide the title and introductory message, but you may use it for anything.</p><p>The news document is located at <code class="literal">[dspace]/dspace/config/news-xmlui.xml</code>.  There is only one version; it is localized by inserting "i18n" callouts into the text areas.  It must be a complete and valid XML DRI document (see Chapter 15).</p><p>Its (the News document) exact rendering in the XHTML UI depends, of course, on the theme.  The default content is designed to operate with the reference themes, so when you modify it, be sure to preserve the tag structure and e.g. the exact attributes of the first DIV tag.  Also note that the text is DRI, not HTML, so you must use only DRI tags, such as the XREF tag to construct a link.</p><p>Example 1: a single language:</p><pre class="screen">&lt;document&gt;
      &lt;body&gt;
        &lt;div id="file.news.div.news" n="news" rend="primary"&gt;
          &lt;head&gt; TITLE OF YOUR REPOSITORY HERE &lt;/head&gt;
          &lt;p&gt;
            INTRO MESSAGE HERE
            Welcome to my wonderful repository etc etc ...
            A service of &lt;xref target="http://myuni.edu/"&gt;My University&lt;/xref&gt;
          &lt;/p&gt;
        &lt;/div&gt;
      &lt;/body&gt;
      &lt;options/&gt;
      &lt;meta&gt;
        &lt;userMeta/&gt;
        &lt;pageMeta/&gt;
        &lt;repositoryMeta/&gt;
      &lt;/meta&gt;
   &lt;/document&gt;</pre><p>Example 2: all text replaced by references to localizable message keys:</p><pre class="screen">
&lt;document&gt;
      &lt;body&gt;
        &lt;div id="file.news.div.news" n="news" rend="primary"&gt;
          &lt;head&gt;&lt;i18n:text&gt;myuni.repo.title&lt;/i18n:text&gt;&lt;/head&gt;
          &lt;p&gt;
            &lt;i18n:text&gt;myuni.repo.intro&lt;/i18n:text&gt;
            &lt;i18n:text&gt;myuni.repo.a.service.of&lt;/i18n:text&gt;
            &lt;xref target="http://myuni.edu/"&gt;&lt;i18n:text&gt;myuni.name&lt;/i18n:text&gt;&lt;/xref&gt;
          &lt;/p&gt;
        &lt;/div&gt;
      &lt;/body&gt;
      &lt;options/&gt;
      &lt;meta&gt;
        &lt;userMeta/&gt;
        &lt;pageMeta/&gt;
        &lt;repositoryMeta/&gt;
      &lt;/meta&gt;
    &lt;/document&gt;
</pre></div><div class="section" title="7.6.&nbsp;Adding Static Content"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N15826"></a>7.6.&nbsp;<a name="docbook-xmlui.html-staticcontent"></a>Adding Static Content</h2></div></div><div></div></div><p>The XMLUI user interface supports the addition of globally static content (as well as static content within individual themes).</p><p>Globally static content can be placed in the <code class="literal">[dspace-source]/dspace/modules/xmlui/src/main/webapp/static/</code> directory. By default this directory only contains the default <code class="literal">robots.txt</code> file, which provides helpful site information to web spiders/crawlers. However, you may also add static HTML (<code class="literal">*.html</code>) content to this directory, as needed for your installation.</p><p>Any static HTML content you add to this directory may also reference static content (e.g. CSS, Javascript, Images, etc.) from the same <code class="literal">[dspace-source]/dspace/modules/xmlui/src/main/webapp/static/</code> directory. You may reference other static content from your static HTML files similar to the following:</p><pre class="screen">
  &lt;link href="./static/mystyle.css" rel="stylesheet" type="text/css"/&gt;
  &lt;img src="./static/images/static-image.gif" alt="Static image in /static/images/ directory"/&gt;
  &lt;img src="./static/static-image.jpg" alt="Static image in /static/ directory"/&gt; </pre></div><div class="section" title="7.7.&nbsp;Enabling OAI-ORE Harvester using XMLUI"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="N15846"></a>7.7.&nbsp;<a name="docbook-xmlui.html-oai-ore"></a>Enabling OAI-ORE Harvester using XMLUI</h2></div></div><div></div></div><p>This section will give the necessary steps to set up the OAI-ORE Harvester usig Manakin.</p><p>Setting up a collection (Collection Edit Screen):</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Login and create a new collection.</p></li><li class="listitem"><p>Go to the tab named "Content Source" that now appears next to "Edit Metadata" and "Assign Roles " in the collection edit screens.</p></li><li class="listitem"><p>The two counter source options are standards (selected by default) and harvested.  Select "harvests from external source" and click Save.</p></li><li class="listitem"><p>A new set of menus appear to configure the harvesting settings:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>"OAI Provide" is in the URL of the OAI-PMH provider that the content from this collection should be harvested from.  The PMH provider deployed with DSpace typically has the form:</p><p>"http://dspace.url/oai/reuqest".  For this example use "http://web01.library.tamu.edu/oai-h151/request"</p></li><li class="listitem"><p>"OAI Set id" is the setSpec of the collection you wish to harvest from.</p><p>Use "hdl_1969.1_5671" for this example.</p></li><li class="listitem"><p>"Metadata format" determines the format that the descriptive metdata will be harvested.  Since DSpace stores metadata in its own internal format, not all metadata values might bet harvested if a specific format is specified.  Select "DSpace Intermediate Metadata" if available and "Simple Dublin Core" otherwise.</p></li><li class="listitem"><p>Click the Test Settings button will verify the settings supplied in the previous steps and will usually let you know what, if anything is missing or does not match up.</p></li></ul></div></li><li class="listitem"><p>The list of radio buttons labeled "Content being harvested" allows you to select the harvest level.  The first one requires no OAI-ORE support on the part of the provider and can be used to harvest metadata from any provider compliant with the OAI-PMH 2.0 specifications.  The middle options will harvest the metadata and generate links to bitstreams stored remotely, while the last one will perform full local replication.</p><p>Select the middle option and click Save</p></li></ol></div><p>At this point the settings are saved and the menu changes to provide three options:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>"Change Settings" takes you back to the edit screen.</p></li><li class="listitem"><p>"Import Now" performs a single harvest from the remote collection  into the local one.  Success, notes, and errors encountered in the process will be reflected in the "Last Harvest Result" entry.  More detailed information is available in the dspace log.  Note that the whole harvest cycle is execuited withtin a single HTTP request and will time out for large collections.  For this reason, it is advisable to use the automatic harvest scheduler set up
				either in XMLUI or from the command line.  If the scheduler is running, "Import Now" will handle the harvest task as a separate thread.</p></li><li class="listitem"><p>"Reset and Reimport Collection" will perform the same function as "Import Now", but will clear the collection of all existing items before doing so.</p></li></ul></div><div class="section" title="7.7.1.&nbsp;Automatic Harvesting (Scheduler)"><div class="titlepage"><div><div><h3 class="title"><a name="N15882"></a>7.7.1.&nbsp;<a name="docbook-xmlui.html-oai-ore-scheduler"></a>Automatic Harvesting (Scheduler)</h3></div></div><div></div></div><p>Setting up automatic harvesting in the Control Panel Screen.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>A new tabl, Harvesting, has been added under Administrative —&gt; Control Panel.</p></li><li class="listitem"><p>The panel offers the following information:</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem"><p>Available actions:</p><div class="itemizedlist"><ul class="itemizedlist" type="square"><li class="listitem"><p>STart Harvester: starts the scheduler.  From this point on, all properly configured collections (listed on the next line) will be harvested at regular intervals.  This interval can be changed in the <code class="literal">dspace.cfg</code> using the "<code class="literal">harvester.harvestFrequency</code>" parameter.</p></li><li class="listitem"><p>Pause: the "nice" stop; waits for the active harvests to finish, saves the state/progress and pauses execution.  Can be either resumed or stopped.</p></li><li class="listitem"><p>Stop: the "full stop"; waits for the current item to finish harvesting, and aborts further execution.</p></li><li class="listitem"><p>Reset Harvest Status:  since stoppin in the middle of a harvest is likely to result in collections getting "stuck" in the queue, the button is available to clear all states.</p></li></ul></div></li></ul></div></li></ul></div></div></div></div><HR><p class="copyright">Copyright © 2002-2010 
				<a class="ulink" href="http://www.duraspace.org/" target="_top">DuraSpace</a>
			</p><div class="legalnotice" title="Legal Notice"><a name="N1001D"></a><p>
				<a class="ulink" href="http://creativecommons.org/licenses/by/3.0/us/" target="_top">
					<span class="inlinemediaobject"><img src="http://i.creativecommons.org/l/by/3.0/us/88x31.png"></span>
				</a>
			</p><p>Licensed under a Creative Commons Attribution 3.0 United States License</p></div><div class="navfooter"><hr><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="ch06.html">Prev</a>&nbsp;</td><td align="center" width="20%">&nbsp;</td><td align="right" width="40%">&nbsp;<a accesskey="n" href="ch08.html">Next</a></td></tr><tr><td valign="top" align="left" width="40%">Chapter&nbsp;6.&nbsp;DSpace System Documentation: JPSUI Configuration and Customization&nbsp;</td><td align="center" width="20%"><a accesskey="h" href="index.html">Home</a></td><td valign="top" align="right" width="40%">&nbsp;Chapter&nbsp;8.&nbsp;DSpace System Documentation: System Administration</td></tr></table></div></body></html>