<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <title>DSpace Documentation : Configuration</title>
	    <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">	    
    </head>

    <body>
	    <table class="pagecontent" border="0" cellpadding="0" cellspacing="0" width="100%" bgcolor="#ffffff">
		    <tr>
			    <td valign="top" class="pagebody">
				    <div class="pageheader">
					    <span class="pagetitle">
                            DSpace Documentation : Configuration
                                                    </span>
				    </div>
				    <div class="pagesubheading">
					    This page last changed on Mar 28, 2011 by <font color="#0050B2">kshepherd</font>.
				    </div>

				    <h1><a name="Configuration-DSpaceSystemDocumentation%3AConfiguration"></a>DSpace System Documentation: Configuration</h1>

<p>There are a numbers of ways in which DSpace may be configured and/or customized. This chapter of the documentation will discuss the configuration of the software and will also reference customizations that may be performed in the chapter following.</p>

<p>For ease of use, the Configuration documentation is broken into several parts:</p>

<ul>
	<li><a href="#Configuration-GeneralConfiguration">General Configuration</a> &#45; addresses general conventions used with configuring not only the dspace.cfg file, but other configuration files which use similar conventions.</li>
	<li><a href="#Configuration-Thedspace.cfgConfigurationPropertiesFile">The dspace.cfg Configuration Properties File</a> &#45; specifies the basic <tt>dspace.cfg</tt> file settings</li>
	<li><a href="#Configuration-OptionalorAdvancedConfigurationSettings">Optional or Advanced Configuration Settings</a> &#45; contain other more advanced settings that are optional in the dspace.cfg configuration file.</li>
</ul>


<p>The full table of contents follows:</p>
<style type='text/css'>/*<![CDATA[*/
div.rbtoc1300307475749 {margin-left: 0px;padding: 0px;}
div.rbtoc1300307475749 ul {list-style: none;margin-left: 0px;}
div.rbtoc1300307475749 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='rbtoc1300307475749'>
<ul>
    <li><span class='TOCOutline'>1</span> <a href='#Configuration-DSpaceSystemDocumentation%3AConfiguration'>DSpace System Documentation: Configuration</a></li>
<ul>
    <li><span class='TOCOutline'>1.1</span> <a href='#Configuration-GeneralConfiguration'>General Configuration</a></li>
<ul>
    <li><span class='TOCOutline'>1.1.1</span> <a href='#Configuration-InputConventions'>Input Conventions</a></li>
    <li><span class='TOCOutline'>1.1.2</span> <a href='#Configuration-UpdateReminder'>Update Reminder</a></li>
</ul>
    <li><span class='TOCOutline'>1.2</span> <a href='#Configuration-The%7B%7Bdspace.cfg%7D%7DConfigurationPropertiesFile'>The <tt>dspace.cfg</tt> Configuration Properties File</a></li>
<ul>
    <li><span class='TOCOutline'>1.2.1</span> <a href='#Configuration-Thedspace.cfgfile'>The <em>dspace.cfg</em> file</a></li>
    <li><span class='TOCOutline'>1.2.2</span> <a href='#Configuration-MainDSpaceConfigurations'>Main DSpace Configurations</a></li>
    <li><span class='TOCOutline'>1.2.3</span> <a href='#Configuration-DSpaceDatabaseConfiguration'>DSpace Database Configuration</a></li>
    <li><span class='TOCOutline'>1.2.4</span> <a href='#Configuration-DSpaceEmailSettings'>DSpace Email Settings</a></li>
<ul>
    <li><span class='TOCOutline'>1.2.4.1</span> <a href='#Configuration-WordingofEmailMessages'>Wording of E-mail Messages</a></li>
</ul>
    <li><span class='TOCOutline'>1.2.5</span> <a href='#Configuration-FileStorage'>File Storage</a></li>
    <li><span class='TOCOutline'>1.2.6</span> <a href='#Configuration-SRB%28StorageResourceBrokerage%29FileStorage'>SRB (Storage Resource Brokerage) File Storage</a></li>
    <li><span class='TOCOutline'>1.2.7</span> <a href='#Configuration-LoggingConfiguration'>Logging Configuration</a></li>
    <li><span class='TOCOutline'>1.2.8</span> <a href='#Configuration-ConfiguringLuceneSearchIndexes'>Configuring Lucene Search Indexes</a></li>
    <li><span class='TOCOutline'>1.2.9</span> <a href='#Configuration-HandleServerConfiguration'>Handle Server Configuration</a></li>
    <li><span class='TOCOutline'>1.2.10</span> <a href='#Configuration-DelegationAdministration%3AAuthorizationSystemConfiguration'>Delegation Administration : Authorization System Configuration</a></li>
    <li><span class='TOCOutline'>1.2.11</span> <a href='#Configuration-StackableAuthenticationMethod%28s%29'>Stackable Authentication Method(s)</a></li>
<ul>
    <li><span class='TOCOutline'>1.2.11.1</span> <a href='#Configuration-ShibbolethAuthenticationConfigurationSettings'>Shibboleth Authentication Configuration Settings</a></li>
    <li><span class='TOCOutline'>1.2.11.2</span> <a href='#Configuration-AuthenticationbyPassword'>Authentication by Password</a></li>
    <li><span class='TOCOutline'>1.2.11.3</span> <a href='#Configuration-X.509CertificateAuthentication'>X.509 Certificate Authentication</a></li>
    <li><span class='TOCOutline'>1.2.11.4</span> <a href='#Configuration-ExampleofaCustomAuthenticationMethod'>Example of a Custom Authentication Method</a></li>
    <li><span class='TOCOutline'>1.2.11.5</span> <a href='#Configuration-ConfiguringIPAuthentication'>Configuring IP Authentication</a></li>
    <li><span class='TOCOutline'>1.2.11.6</span> <a href='#Configuration-ConfiguringLDAPAuthentication'>Configuring LDAP Authentication</a></li>
</ul>
    <li><span class='TOCOutline'>1.2.12</span> <a href='#Configuration-RestrictedItemVisibilitySettings'>Restricted Item Visibility Settings</a></li>
    <li><span class='TOCOutline'>1.2.13</span> <a href='#Configuration-ProxySettings'>Proxy Settings</a></li>
    <li><span class='TOCOutline'>1.2.14</span> <a href='#Configuration-ConfiguringMediaFilters'>Configuring Media Filters</a></li>
    <li><span class='TOCOutline'>1.2.15</span> <a href='#Configuration-CrosswalkandPackagerPluginSettings'>Crosswalk and Packager Plugin Settings</a></li>
<ul>
    <li><span class='TOCOutline'>1.2.15.1</span> <a href='#Configuration-ConfigurableMODSDisseminationCrosswalk'>Configurable MODS Dissemination Crosswalk</a></li>
    <li><span class='TOCOutline'>1.2.15.2</span> <a href='#Configuration-XSLTbasedCrosswalks'>XSLT-based Crosswalks</a></li>
<ul>
    <li><span class='TOCOutline'>1.2.15.2.1</span> <a href='#Configuration-TestingXSLTCrosswalks'>Testing XSLT Crosswalks</a></li>
</ul>
    <li><span class='TOCOutline'>1.2.15.3</span> <a href='#Configuration-ConfigurableQualifiedDublinCore%28QDC%29disseminationcrosswalk'>Configurable Qualified Dublin Core (QDC) dissemination crosswalk</a></li>
    <li><span class='TOCOutline'>1.2.15.4</span> <a href='#Configuration-ConfiguringCrosswalkPlugins'>Configuring Crosswalk Plugins</a></li>
    <li><span class='TOCOutline'>1.2.15.5</span> <a href='#Configuration-ConfiguringPackagerPlugins'>Configuring Packager Plugins</a></li>
</ul>
    <li><span class='TOCOutline'>1.2.16</span> <a href='#Configuration-EventSystemConfiguration'>Event System Configuration</a></li>
    <li><span class='TOCOutline'>1.2.17</span> <a href='#Configuration-Embargo'>Embargo</a></li>
<ul>
    <li><span class='TOCOutline'>1.2.17.1</span> <a href='#Configuration-ExtendingEmbargoFunctionality'>Extending Embargo Functionality</a></li>
    <li><span class='TOCOutline'>1.2.17.2</span> <a href='#Configuration-StepbyStepSetupExamples'>Step-by-Step Setup Examples</a></li>
</ul>
    <li><span class='TOCOutline'>1.2.18</span> <a href='#Configuration-ChecksumCheckerSettings'>Checksum Checker Settings</a></li>
    <li><span class='TOCOutline'>1.2.19</span> <a href='#Configuration-ItemExportandDownloadSettings'>Item Export and Download Settings</a></li>
    <li><span class='TOCOutline'>1.2.20</span> <a href='#Configuration-SubscriptionEmails'>Subscription Emails</a></li>
    <li><span class='TOCOutline'>1.2.21</span> <a href='#Configuration-BatchMetadataEditing'>Batch Metadata Editing</a></li>
    <li><span class='TOCOutline'>1.2.22</span> <a href='#Configuration-HidingMetadata'>Hiding Metadata</a></li>
    <li><span class='TOCOutline'>1.2.23</span> <a href='#Configuration-SettingsfortheSubmissionProcess'>Settings for the Submission Process</a></li>
    <li><span class='TOCOutline'>1.2.24</span> <a href='#Configuration-ConfiguringCreativeCommonsLicense'>Configuring Creative Commons License</a></li>
    <li><span class='TOCOutline'>1.2.25</span> <a href='#Configuration-WEBUserInterfaceConfigurations'>WEB User Interface Configurations</a></li>
    <li><span class='TOCOutline'>1.2.26</span> <a href='#Configuration-BrowseIndexConfiguration'>Browse Index Configuration</a></li>
<ul>
    <li><span class='TOCOutline'>1.2.26.1</span> <a href='#Configuration-DefiningtheIndexes.'>Defining the Indexes.</a></li>
    <li><span class='TOCOutline'>1.2.26.2</span> <a href='#Configuration-DefiningSortOptions'>Defining Sort Options</a></li>
    <li><span class='TOCOutline'>1.2.26.3</span> <a href='#Configuration-BrowseIndexNormalizationRuleConfiguration'>Browse Index Normalization Rule Configuration</a></li>
    <li><span class='TOCOutline'>1.2.26.4</span> <a href='#Configuration-OtherBrowseOptions'>Other Browse Options</a></li>
    <li><span class='TOCOutline'>1.2.26.5</span> <a href='#Configuration-BrowseIndexAuthorityControlConfiguration'>Browse Index Authority Control Configuration</a></li>
</ul>
    <li><span class='TOCOutline'>1.2.27</span> <a href='#Configuration-Author%28Multiplemetadatavalue%29Display'>Author (Multiple metadata value) Display</a></li>
    <li><span class='TOCOutline'>1.2.28</span> <a href='#Configuration-LinkstoOtherBrowseContexts'>Links to Other Browse Contexts</a></li>
    <li><span class='TOCOutline'>1.2.29</span> <a href='#Configuration-RecentSubmissions'>Recent Submissions</a></li>
    <li><span class='TOCOutline'>1.2.30</span> <a href='#Configuration-SubmissionLicenseSubstitutionVariables'>Submission License Substitution Variables</a></li>
    <li><span class='TOCOutline'>1.2.31</span> <a href='#Configuration-SyndicationFeed%28RSS%29Settings'>Syndication Feed (RSS) Settings</a></li>
    <li><span class='TOCOutline'>1.2.32</span> <a href='#Configuration-OpenSearchSupport'>OpenSearch Support</a></li>
    <li><span class='TOCOutline'>1.2.33</span> <a href='#Configuration-ContentInlineDispositionThreshold'>Content Inline Disposition Threshold</a></li>
    <li><span class='TOCOutline'>1.2.34</span> <a href='#Configuration-MultifileHTMLDocument%2FSiteSettings'>Multi-file HTML Document/Site Settings</a></li>
    <li><span class='TOCOutline'>1.2.35</span> <a href='#Configuration-SitemapSettings'>Sitemap Settings</a></li>
    <li><span class='TOCOutline'>1.2.36</span> <a href='#Configuration-AuthorityControlSettings'>Authority Control Settings</a></li>
    <li><span class='TOCOutline'>1.2.37</span> <a href='#Configuration-JSPUIUploadFileSettings'>JSPUI Upload File Settings</a></li>
    <li><span class='TOCOutline'>1.2.38</span> <a href='#Configuration-JSPWebInterface%28JSPUI%29Settings'>JSP Web Interface (JSPUI) Settings</a></li>
    <li><span class='TOCOutline'>1.2.39</span> <a href='#Configuration-JSPUIConfiguringMultilingualSupport'>JSPUI Configuring Multilingual Support</a></li>
<ul>
    <li><span class='TOCOutline'>1.2.39.1</span> <a href='#Configuration-SettingtheDefaultLanguagefortheApplication'>Setting the Default Language for the Application</a></li>
    <li><span class='TOCOutline'>1.2.39.2</span> <a href='#Configuration-SupportingMoreThanOneLanguage'>Supporting More Than One Language</a></li>
<ul>
    <li><span class='TOCOutline'>1.2.39.2.1</span> <a href='#Configuration-Changesindspace.cfg'>Changes in dspace.cfg</a></li>
    <li><span class='TOCOutline'>1.2.39.2.2</span> <a href='#Configuration-RelatedFiles'>Related Files</a></li>
</ul>
</ul>
    <li><span class='TOCOutline'>1.2.40</span> <a href='#Configuration-JSPUIItemMapper'>JSPUI Item Mapper</a></li>
    <li><span class='TOCOutline'>1.2.41</span> <a href='#Configuration-DisplayofGroupMembership'>Display of Group Membership</a></li>
    <li><span class='TOCOutline'>1.2.42</span> <a href='#Configuration-JSPUI%2FXMLUISFXServer'>JSPUI / XMLUI SFX Server</a></li>
    <li><span class='TOCOutline'>1.2.43</span> <a href='#Configuration-JSPUIItemRecommendationSetting'>JSPUI Item Recommendation Setting</a></li>
    <li><span class='TOCOutline'>1.2.44</span> <a href='#Configuration-XMLUISpecificConfiguration'>XMLUI Specific Configuration</a></li>
    <li><span class='TOCOutline'>1.2.45</span> <a href='#Configuration-OAIPMHConfigurationandActivation'>OAI-PMH Configuration and Activation</a></li>
<ul>
    <li><span class='TOCOutline'>1.2.45.1</span> <a href='#Configuration-OAIPMHConfiguration'>OAI-PMH Configuration</a></li>
    <li><span class='TOCOutline'>1.2.45.2</span> <a href='#Configuration-ActivatingAdditionalOAIPMHCrosswalks'>Activating Additional OAI-PMH Crosswalks</a></li>
<ul>
    <li><span class='TOCOutline'>1.2.45.2.1</span> <a href='#Configuration-DIDL'>DIDL</a></li>
</ul>
</ul>
    <li><span class='TOCOutline'>1.2.46</span> <a href='#Configuration-OAIOREHarvesterConfiguration'>OAI-ORE Harvester Configuration</a></li>
<ul>
    <li><span class='TOCOutline'>1.2.46.1</span> <a href='#Configuration-OAIOREConfiguration'>OAI-ORE Configuration</a></li>
</ul>
    <li><span class='TOCOutline'>1.2.47</span> <a href='#Configuration-DSpaceSOLRStatisticsConfiguration'>DSpace SOLR Statistics Configuration</a></li>
</ul>
    <li><span class='TOCOutline'>1.3</span> <a href='#Configuration-OptionalorAdvancedConfigurationSettings'>Optional or Advanced Configuration Settings</a></li>
<ul>
    <li><span class='TOCOutline'>1.3.1</span> <a href='#Configuration-TheMetadataFormatandBitstreamFormatRegistries'>The Metadata Format and Bitstream Format Registries</a></li>
<ul>
    <li><span class='TOCOutline'>1.3.1.1</span> <a href='#Configuration-MetadataFormatRegistries'>Metadata Format Registries</a></li>
    <li><span class='TOCOutline'>1.3.1.2</span> <a href='#Configuration-BitstreamFormatRegistry'>Bitstream Format Registry</a></li>
</ul>
    <li><span class='TOCOutline'>1.3.2</span> <a href='#Configuration-XPDFFilter'>XPDF Filter</a></li>
<ul>
    <li><span class='TOCOutline'>1.3.2.1</span> <a href='#Configuration-InstallationOverview'>Installation Overview</a></li>
    <li><span class='TOCOutline'>1.3.2.2</span> <a href='#Configuration-InstallXPDFTools'>Install XPDF Tools</a></li>
    <li><span class='TOCOutline'>1.3.2.3</span> <a href='#Configuration-FetchandinstalljaiimageioJAR'>Fetch and install jai_imageio JAR</a></li>
    <li><span class='TOCOutline'>1.3.2.4</span> <a href='#Configuration-EditDSpaceConfiguration'>Edit DSpace Configuration</a></li>
    <li><span class='TOCOutline'>1.3.2.5</span> <a href='#Configuration-BuildandInstall'>Build and Install</a></li>
</ul>
    <li><span class='TOCOutline'>1.3.3</span> <a href='#Configuration-CreatinganewMedia%2FFormatFilter'>Creating a new Media/Format Filter</a></li>
<ul>
    <li><span class='TOCOutline'>1.3.3.1</span> <a href='#Configuration-CreatingasimpleMediaFilter'>Creating a simple Media Filter</a></li>
    <li><span class='TOCOutline'>1.3.3.2</span> <a href='#Configuration-CreatingaDynamicor%22SelfNamed%22FormatFilter'>Creating a Dynamic or "Self-Named" Format Filter</a></li>
</ul>
    <li><span class='TOCOutline'>1.3.4</span> <a href='#Configuration-ConfiguringUsageInstrumentationPlugins'>Configuring Usage Instrumentation Plugins</a></li>
<ul>
    <li><span class='TOCOutline'>1.3.4.1</span> <a href='#Configuration-ThePassivePlugin'>The Passive Plugin</a></li>
    <li><span class='TOCOutline'>1.3.4.2</span> <a href='#Configuration-TheTabFileLoggerPlugin'>The Tab File Logger Plugin</a></li>
    <li><span class='TOCOutline'>1.3.4.3</span> <a href='#Configuration-TheXMLLoggerPlugin'>The XML Logger Plugin</a></li>
</ul>
    <li><span class='TOCOutline'>1.3.5</span> <a href='#Configuration-SWORDConfiguration'>SWORD Configuration</a></li>
</ul>
</ul>
</ul></div>


<h2><a name="Configuration-GeneralConfiguration"></a>General Configuration</h2>

<p>In the following sections you will learn about the different configuration files that you will need to edit so that you may make your DSpace installation work. Of the several configuration files which you will work with, it is the dspace.cfg file you need to learn to configure first and foremost.</p>

<p>In general, most of the configuration files, namely <tt>dspace.cfg</tt> and <tt>xmlui.xconf</tt> will provide a good source of information not only with configuration but also with customization (cf. Customization chapters)</p>

<h3><a name="Configuration-InputConventions"></a>Input Conventions</h3>

<p>We will use the dspace.cfg as our example for input conventions used throughout the system. It is a basic Java properties file, where lines are either comments, starting with a '#', blank lines, or property/value pairs of the form:</p>

<p><tt>property.name = property value</tt></p>

<p>Some property defaults are "commented out". That is, they have a "#" preceding them, and the DSpace software ignores the config property. This may cause the feature not to be enabled, or, cause a default property to be used when the software is compiled and updated.</p>

<p>The property value may contain references to other configuration properties, in the form <tt>${property.name</tt>}. This follows the ant convention of allowing references in property files. A property may not refer to itself. Examples:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">property.name = word1 ${other.property.name} more words
property2.name = ${dspace.dir}/<span class="code-keyword">rest</span>/of/path
</pre>
</div></div>

<p>Property values can include other, previously defined values, by enclosing the property name in ${...}. For example, if your dspace.cfg contains:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">dspace.dir = /dspace
dspace.history = ${dspace.dir}/history</pre>
</div></div>

<p>Then the value of dspace.history property is expanded to be /dspace/history. This method is especially useful for handling commonly used file paths.</p>


<h3><a name="Configuration-UpdateReminder"></a>Update Reminder</h3>

<p>Things you should know about editing <tt>dspace.cfg</tt> files.<br/>
It is important to remember that there are * two <tt>dspace.cfg</tt> files after an installation of DSpace.&#42;</p>

<ol>
	<li>The "source" file that is found in <tt>[dspace-source]/dspace/config/dspace.cfg</tt></li>
	<li>The "runtime" file that is found in <tt>[dspace]/config/dspace.cfg</tt><br/>
The runtime file is supposed to be the <b>copy</b> of the source file, which is considered the master version. However, the DSpace server and command programs only look at the <em>runtime</em> configuration file, so when you are revising your configuration values, it is tempting to <em>only edit the runtime file</em>. <b>DO NOT</b> do this. Always make the same changes to the source version of <tt>dspace.cfg</tt> in addition to the runtime file. The two files should always be identical, since the source <tt>dspace.cfg</tt> will be the basis of your next upgrade.</li>
</ol>


<p>To keep the two files in synchronization, you can edit your files in <tt>[dspace-source]/dspace/config/</tt> and then you would run the following commands:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">cd [dspace-source]/dspace/target/dspace-&lt;version&gt;-build.dir ant update_configs</pre>
</div></div>

<p>This will copy the source <tt>dspace.cfg</tt> (along with other configuration files) into the runtime (<tt>[dspace]/config</tt>) directory.</p>

<p>You should remember that after editing your configuration file(s), and you are done and wish to implement the changes, you will need to:</p>

<ul>
	<li>Run <tt>ant &#45;Dconfig=[dspace]/config/dspace.cfg update</tt> if you are updating your <tt>dspace.cfg</tt> file and wish to see the changes appear. Follow the usual sequence with copying your webapps.</li>
	<li>If you edit <em>dspace.cfg</em> in <em>[dspace-source]/dspace/config/</em>, you should then run '<em>ant init_configs</em>' in the directory <em>[dspace-source]/dspace/target/dspace-1.5.2-build.dir</em> so that any changes you may have made are reflected in the configuration files of other applications, for example Apache. You may then need to restart those applications, depending on what you changed.</li>
</ul>



<h2><a name="Configuration-The%7B%7Bdspace.cfg%7D%7DConfigurationPropertiesFile"></a>The <tt>dspace.cfg</tt> Configuration Properties File</h2>

<p>The primary way of configuring DSpace is to edit the <em>dspace.cfg</em>. You will definitely have to do this before you can run DSpace properly. <em>dspace.cfg</em> contains basic information about a DSpace installation, including system path information, network host information, and other like items. To assist you in this endeavor, below is a place for you to write down some of the preliminary data so that you may facilitate faster configuration.</p>
<ul>
	<li>Server IP: &#95;_______________________________&#95;</li>
	<li>Host Name (Server name): &#95;_______________________________&#95;</li>
	<li>dspace.url: &#95;_______________________________&#95;</li>
	<li>Administrator's email: &#95;_______________________________&#95;</li>
	<li>handle prefix: &#95;_______________________________&#95;</li>
	<li>assetstore directory: &#95;_______________________________&#95;</li>
	<li>SMTP server: &#95;_______________________________&#95;</li>
</ul>


<h3><a name="Configuration-Thedspace.cfgfile"></a>The <em>dspace.cfg</em> file</h3>

<p>Below is a brief "Properties" table for the dspace.cfg file and the documented details are referenced. Please refer to those sections for the complete details of the parameter you are working with.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> <b>Property</b> </th>
<th class='confluenceTh'> <b>Ref. Sect.</b> </th>
</tr>
<tr>
<td class='confluenceTd'> Basic Information </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">dspace.dir
dspace.hostname
dspace.baseUrl
dspace.url
dspace.oai.url
dspace.name</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.2 </td>
</tr>
<tr>
<td class='confluenceTd'> Database Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">db.name
db.url
db.driver
db.username
db.password</pre>
</div></div> </td>
<td class='confluenceTd'> 4.2.3 or 6.3.3 </td>
</tr>
<tr>
<td class='confluenceTd'> Advanced Database Configuration </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">db.schema
db.maxconnection
db.maxwait
db.maxidle
db.statementpool
db.poolname</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.3 </td>
</tr>
<tr>
<td class='confluenceTd'> Email Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">mail.server
mail.server.username
mail.server.password
mail.server.port
mail.from.address
feedback.recipient
mail.admin
alert.recipient
registration.notify
mail.charset
mail.allowed.referrers
mail.extraproperties
mail.server.disabled</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.4 </td>
</tr>
<tr>
<td class='confluenceTd'> File Storage </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">assetstore.dir
[assetstore.dir.1
assetstore.dir.2
assetstore.incoming]</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.5 </td>
</tr>
<tr>
<td class='confluenceTd'> SRB File Storage </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">srb.hosts.1
srb.port.1
srb.mcatzone.1
srb.mdasdomainname.1
srb.defaultstorageresource.1
srb.username.1
srb.password.1
srb.homedirectory.1
srb.parentdir.1</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.6 </td>
</tr>
<tr>
<td class='confluenceTd'> Logging Configuration </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">log.init.config
log.dir
useProxies</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.7 </td>
</tr>
<tr>
<td class='confluenceTd'> Search Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">search.dir
search.max-clauses
search.analyzer
search.<span class="code-keyword">operator</span>
search.maxfieldlengthsearch.index.n
search.index.1</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.8 </td>
</tr>
<tr>
<td class='confluenceTd'> Handle Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">handle.prefix
handle.dir</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.9 </td>
</tr>
<tr>
<td class='confluenceTd'> Delegation Administration : Authorization System Configuration </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">core.authorization.community-admin.create-subelement
core.authorization.community-admin.delete-subelement
core.authorization.community-admin.policies
core.authorization.community-admin.admin-group
core.authorization.community-admin.collection.policies
core.authorization.community-admin.collection.template-item
core.authorization.community-admin.collection.submitters
core.authorization.community-admin.collection.workflows
core.authorization.community-admin.collection.admin-group
core.authorization.community-admin.item.delete
core.authorization.community-admin.item.withdraw
core.authorization.community-admin.item.reinstatiate
core.authorization.community-admin.item.policies
core.authorization.community-admin.item.create-bitstream
core.authorization.community-admin.item.delete-bitstream
core.authorization.community-admin.item-admin.cc-license
core.authorization.collection-admin.policies
core.authorization.collection-admin.template-item
core.authorization.collection-admin.submitters
core.authorization.collection-admin.workflows
core.authorization.collection-admin.admin-group
core.authorization.collection-admin.item.delete
core.authorization.collection-admin.item.withdraw
core.authorization.collection-admin.item.reinstatiate
core.authorization.collection-admin.item.policies
core.authorization.collection-admin.item.create-bitstream
core.authorization.collection-admin.item.delete-bitstream
core.authorization.collection-admin.item-admin.cc-license
core.authorization.item-admin.policies
core.authorization.item-admin.create-bitstream
core.authorization.item-admin.delete-bitstream
core.authorization.item-admin.cc-license</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.10 </td>
</tr>
<tr>
<td class='confluenceTd'> Stackable Authentication Methods </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.sequence.org.dspace.authenticate.AuthenticationMethod</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.11 </td>
</tr>
<tr>
<td class='confluenceTd'> Shibboleth Authentication Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">authentication.shib.email-header
authentication.shib.firstname-header
authentication.shib.lastname-header
authentication.shib.email-use-tomcat-remote-user
authentication.shib.autoregister
authentication.shib.role-header
authentication.shib.<span class="code-keyword">default</span>-roles
authentication.shib.role.Senior\ Researcher
authentication.shib.role.Librarian</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.11.1 </td>
</tr>
<tr>
<td class='confluenceTd'> Password Authentication Options </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">authentication.password.domain.valid
    password.login.specialgroup</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.11.2 </td>
</tr>
<tr>
<td class='confluenceTd'> X.509 Certificate Authentication </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">authentication.x509.keystore.path
authentication.x509.keystore.password
authentication.x509.keystore.cert
authentication.x509.keystore.autoregister
authentication.x509.chooser.title.key
authentication.x509.chooser.uri</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.11.3 </td>
</tr>
<tr>
<td class='confluenceTd'> IP-based Authentication </td>
</tr>
<tr>
<td class='confluenceTd'> authentication.ip.GROUPNAME </td>
<td class='confluenceTd'> 6.3.11.5 </td>
</tr>
<tr>
<td class='confluenceTd'> LDAP Authentication </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">ldap.enable
ldap.provider_url
ldap.id_field
ldap.object_context
ldap.search_context
ldap.email_field
ldap.surname_field
ldap.givenname_field
ldap.phone_field
webui.ldap.autoregister
ldap.login.specialgroup</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.11.6 </td>
</tr>
<tr>
<td class='confluenceTd'> <em>Hierarchical LDAP Settings:</em>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">ldap.search_scope
ldap.search.user
ldap.netid_email_domain</pre>
</div></div>
<p> </p></td>
<td class='confluenceTd'> 6.3.11.6 </td>
</tr>
<tr>
<td class='confluenceTd'> Restricted Item Visibility Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">harvest.includerestricted.rss
harvest.includerestricted.oai
harvest.includerestricted.subscription</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.12 </td>
</tr>
<tr>
<td class='confluenceTd'> Proxy Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">http.proxy.host
http.proxy.port</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.13 </td>
</tr>
<tr>
<td class='confluenceTd'> Media Filter--Format Filter Plugin Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">filter.plugins
plugin.named.org.dspace.app.mediafilter.FormatFilter
   filter.org.dspace.app.mediafilter.PDFFilter.inputFormats
   filter.org.dspace.app.mediafilter.HTMLFilter.inputFormats
   filter.org.dspace.app.mediafilter.WordFilter.inputFormats
   filter.org.dspace.app.mediafilter.JPEGFilter.inputFormats
   filter.org.dspace.app.mediafilter.BrandedPreviewJPEGFilter.inputFormats</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.14 </td>
</tr>
<tr>
<td class='confluenceTd'> Custom settings for PDFFilter </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">pdffilter.largepdfsdffilter.skiponmemoryexception</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.14 </td>
</tr>
<tr>
<td class='confluenceTd'> Crosswalk and Packager Plugin Settings (MODS, QDC, XSLT, etc.) </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">crosswalk.mods.properties.MODS
crosswalk.mods.properties.mods
crosswalk.submission.MODS.stylesheet</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.15.1 </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">crosswalk.qdc.namespace.QDC.dc
crosswalk.qdc.namespace.QDC.dcterms
crosswalk.qdc.schemaLocation.QDC
crosswalk.qdc.properties.QDC
mets.submission.crosswalk.DC
mets.submission.preserveManifest
mets.submission.useCollectionTemplate</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.15 </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.named.org.dspace.content.crosswalk.IngestionCrosswalk
plugin.selfnamed.org.dspace.content.crosswalk.IngestionCrosswalk
plugin.named.org.dspace.content.crosswalk.DisseminationCrosswalk
plugin.selfnamed.org.dspace.content.crosswalk.DisseminationCrosswalk</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.15.4 </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.named.org.dspace.content.packager.PackageDisseminator
plugin.named.org.dspace.content.packager.PackageIngester</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.15.5 </td>
</tr>
<tr>
<td class='confluenceTd'> Event System Configuration </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">event.dispatcher.<span class="code-keyword">default</span>.class
event.dispatcher.<span class="code-keyword">default</span>.consumers
event.dispatcher.noindex.class
event.dispatcher.noindex.consumers
event.consumer.search.class
event.consumer.search.filters
event.consumer.browse.class
event.consumer.browse.filters
event.consumer.eperson.class
event.consumer.eperson.filters
event.consumer.harvester.class
event.consumer.harvester.filters
event.consumer.test.class
event.consumer.test.filters
testConsumer.verbose</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.16 </td>
</tr>
<tr>
<td class='confluenceTd'> Embargo Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">embargo.field.terms
embargo.field.lift
embargo.field.open
plugin.single.org.dspace.embargo.EmbargoSetter
plugin.single.org.dspace.embargo.EmbargoLifter</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.17 </td>
</tr>
<tr>
<td class='confluenceTd'> Checksum Checker </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.single.org.dspace.checker.BitsreamDispatcher
checker.retention.<span class="code-keyword">default</span>
checker.retention.CHECKSUM-MATCH</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.18 </td>
</tr>
<tr>
<td class='confluenceTd'> Item Export and Download Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">org.dspace.app.itemexport.work.dir
org.dspace.app.itemexport.download.dir
org.dspace.app.itemexport.life.span.hours
org.dspace.app.itemexport.max.size</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.19 </td>
</tr>
<tr>
<td class='confluenceTd'> Subscription Email Option </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">eperson.subscription.onlynew</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.20 </td>
</tr>
<tr>
<td class='confluenceTd'> Bulk (Batch) Metadata Editing </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">bulkedit.valueseparator
bulkedit.fieldseparator
bulkedit.gui-item-limit
bulkedit.ignore-on-export</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.21 </td>
</tr>
<tr>
<td class='confluenceTd'> Hide Item Metadata Fields Setting </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">metadata.hide.dc.description.provenance</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.22 </td>
</tr>
<tr>
<td class='confluenceTd'> Submission Process </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.submit.blocktheses
webui.submit.upload.required</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.23 </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.submit.enable-cc
webui.submit.cc-jurisdiction</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.24 </td>
</tr>
<tr>
<td class='confluenceTd'> Settings for Thumbnail Creation </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.browse.thumbnail.show
webui.browse.thumbnail.max.height
webui.browse.thumbnail.max.width
webui.item.thumbnail.show
webui.browse.thumbnail.linkbehaviour
thumbnail.maxwidth
thumbnail.maxheight</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.25 </td>
</tr>
<tr>
<td class='confluenceTd'> Settings for Item Preview </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.preview.enabled
webui.preview.maxwidth
webui.preview.maxheight
webui.preview.brand
webui.preview.brand.abbrev
webui.preview.brand.height
webui.preview.brand.font
webui.preview.brank.fontpoint
webui.preview.dc</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.25 </td>
</tr>
<tr>
<td class='confluenceTd'> Settings for Content Count/Strength Information </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.strengths.show
webui.strengths.cache</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.25 </td>
</tr>
<tr>
<td class='confluenceTd'> Browse Configuration </td>
</tr>
<tr>
<td class='confluenceTd'> <br class="atl-forced-newline" />
<tt>webui.browse.index.</tt><tt><em>n</em></tt> </td>
<td class='confluenceTd'> 6.3.26 </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>webui.itemlist.sort-option.</tt><tt><em>n</em></tt> </td>
<td class='confluenceTd'> 6.3.26 </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>webui.browse.medata.case-insensitive</tt> </td>
<td class='confluenceTd'> 6.3.26.3 </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.browse.value_columns.max
webui.browse.sort_columns.max
webui.browse.value_columns.omission_mark
plugin.named.org.dspace.sort.OrderFormatDelegate</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.26.4 </td>
</tr>
<tr>
<td class='confluenceTd'> Multiple Metadata Value Display </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.browse.author-field
webui.browse.author-limit</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.27 </td>
</tr>
<tr>
<td class='confluenceTd'> Other Browse Contexts </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>webui.browse.link.</tt><tt><em>n</em></tt> </td>
<td class='confluenceTd'> 6.3.28 </td>
</tr>
<tr>
<td class='confluenceTd'> Recent Submission </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">recent.submission.sort-option
recent.submissions.count
plugin.sequence.org.dspace.plugin.CommunityHomeProcessor
plugin.sequence.org.dspace.plugin.CollectionHomeProcessor</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.29 </td>
</tr>
<tr>
<td class='confluenceTd'> Submission License Substitution Variables </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>plugin.named.org.dspace.content.license.LicenseArgumentFormatter</tt> </td>
<td class='confluenceTd'> 6.3.30 </td>
</tr>
<tr>
<td class='confluenceTd'> Syndication Feed (RSS) Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.feed.enable
webui.feed.items
webui.feed.cache.size
webui.cache.age
webui.feed.formats
webui.feed.localresolve
webui.feed.item.title
webui.feed.item.date
webui.feed.item.description
webui.feed.item.author
webui.feed.item.dc.creator
webui.feed.item.dc.date
webui.feed.item.dc.description
webui.feed.logo.url</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.31 </td>
</tr>
<tr>
<td class='confluenceTd'> OpenSearch Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">websvc.opensearch.enable
websvc.opensearch.uicontext
websvc.opensearch.svccontext
websvc.opensearch.autolink
websvc.opensearch.validity
websvc.opensearch.shortname
websvc.opensearch.longname
websvc.opensearch.description
websvc.opensearch.faviconurl
websvc.opensearch.samplequery
websvc.opensearch.tags
websvc.opensearch.formats</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.32 </td>
</tr>
<tr>
<td class='confluenceTd'> Content Inline Disposition Threshold </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.content_disposition_threshold
xmlui.content_disposition_threshold</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.33 </td>
</tr>
<tr>
<td class='confluenceTd'> Multifile HTML Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.html.max-depth-guess
xmlui.html.max-depth-guess</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.34 </td>
</tr>
<tr>
<td class='confluenceTd'> Sitemap Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">sitemap.dir
sitemap.engineurls</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.35 </td>
</tr>
<tr>
<td class='confluenceTd'> Authority Control Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.named.org.dspace.content.authority.ChoiceAuthority
plugin.selfnamed.org.dspace.content.authority.ChoiceAuthority
lcname.url
sherpa.romeo.url
authority.minconfidence
xmlui.lookup.select.size</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.36 </td>
</tr>
<tr>
<td class='confluenceTd'> JSPUI Upload File Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">upload.temp.dir
upload.max</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.37 </td>
</tr>
<tr>
<td class='confluenceTd'> JSP Web Interface Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.licence_bundle.show
webui.itemdisplay.<span class="code-keyword">default</span>
webui.resolver.1.urn
webui.resolver.1.baseurl
webui.resolver.2.urn
webui.resolver.2.baseurl
plugin.single.org.dspace.app.webui.util.StyleSelection
webui.itemdisplay.thesis.collections
webui.itemdisplay.metadata-style
webui.itemlist.columns
webui.itemlist.widths
webui.itemlist.browse.&lt;&lt;index name&gt;.sort.&lt;sort name&gt;.columns
webui.itemlist.sort&lt;sort name&gt;.columns
webui.itemlist.browse.&lt;browse name&gt;.columns
webui.itemlist.&lt;sort or index name&gt;.columns
webui.itemlist.dateaccessioned.columns
webui.itemlist.dateaccessioned.widths
webui.itemlist.tablewidth</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.38 </td>
</tr>
<tr>
<td class='confluenceTd'> JSPUI i18n Locales / Languages </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> <tt>default.locale</tt> </td>
<td class='confluenceTd'> 6.3.39 </td>
</tr>
<tr>
<td class='confluenceTd'> JSPUI Additional Configuration for Item Mapper </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>itemmap.author.index</tt> </td>
<td class='confluenceTd'> 6.3.40 </td>
</tr>
<tr>
<td class='confluenceTd'> JSPUI MyDSpace Display of Group Membership </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> <tt>webui.mydspace.showgroupmembership</tt> </td>
<td class='confluenceTd'> 6.3.41 </td>
</tr>
<tr>
<td class='confluenceTd'> JSPUI SFX Server Setting </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>sfx.server.url</tt> </td>
<td class='confluenceTd'> 6.3.42 </td>
</tr>
<tr>
<td class='confluenceTd'> JSPUI Item Recommendation Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.suggest.enable
webui.suggest.loggedinusers.only</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.43 </td>
</tr>
<tr>
<td class='confluenceTd'> JSPUI Controlled Vocabulary Settings </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>webui.controlledvocabulary.enable</tt> </td>
<td class='confluenceTd'> 6.3.44 </td>
</tr>
<tr>
<td class='confluenceTd'> JSPUI Session Invalidation </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>webui.session.invalidate</tt> </td>
<td class='confluenceTd'> 6.3.45 </td>
</tr>
<tr>
<td class='confluenceTd'> XMLUI Settings (Manakin) </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">xmlui.supported.locales
xmlui.force.ssl
xmlui.user.registration
xmlui.user.editmetadata
xmlui.user.assumelogin
xmlui.user.logindirect
xmlui.theme.allowoverrides
xmlui.bundle.upload
xmlui.community-list.render.full
xmlui.community-list.cache
xmlui.bitstream.mods
xmlui.bitstream.mets
xmlui.google.analytics.key
xmlui.controlpanel.activity.max
xmlui.controlpanel.activity.ipheader</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.46 </td>
</tr>
<tr>
<td class='confluenceTd'> OAI-PMH Specific Configurations </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">oai.didl.maxresponse
oai.mets.hide-provenance</pre>
</div></div> </td>
<td class='confluenceTd'> 5.2.47 </td>
</tr>
<tr>
<td class='confluenceTd'> SWORD Specific Configurations </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">mets.submission.crosswalk.EPDCX
crosswalk.submission.SWORD.stylesheet
sword.deposit.url
sword.servicedocument.url
sword.media-link.url
sword.generator.url
sword.updated.field
sword.slug.field
sword.accept-packaging.METSDSpaceSIP.identifier
sword.accept-packaging.METSDSpaceSIP.q
sword.accepts
sword.expose-items
sword.expose-communities
sword.max-upload-size
sword.keep-original-<span class="code-keyword">package</span>
sword.bundle.name
sword.identify-version
sword.on-behalf-of.enable</pre>
</div></div> </td>
<td class='confluenceTd'> 6.4.6 </td>
</tr>
<tr>
<td class='confluenceTd'> OAI-ORE Harvester Configurations </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">harvester.oai.metadataformats.dc
harvester.oai.metadataformats.qdc
harvester.oai.metadataformats.dim
harvester.autoStart
harvester.timePadding
harvester.harvestFrequency
harvester.minHeartbeat
harvester.maxHeartbeat
harvester.threadTimeout
harvester.unknownField
harvester.unknownSchema
ore.authoritative.source
harvester.acceptedHandleServer
harvester.rejectedHandlePrefix</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.48 </td>
</tr>
<tr>
<td class='confluenceTd'> SOLR Statistics Configurations </td>
</tr>
<tr>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">solr.log.server
solr.dbfilesolr.resolver.timeout
statistics.item.authorization.adminsolr.statistics.logBots
solr.statistics.query.filter.spiderIP
solr.statistics.query.filter.isBot
solr.spiderips.urls</pre>
</div></div> </td>
<td class='confluenceTd'> 6.3.49 </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-MainDSpaceConfigurations"></a>Main DSpace Configurations</h3>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>dspace.dir</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>/dspace</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Root directory of DSpace installation. Omit the trailing '<em>/</em>'. Note that if you change this, there are several other parameters you will probably want to change to match, e.g. <tt>assetstore.dir</tt> . </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>dspace.hostname</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>dspace.hostname = dspace.mysu.edu</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Fully qualified hostname; do not include port number. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>dspace.baseUrl</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>[http://dspacetest.myu.edu:8080]</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Main URL at which DSpace Web UI webapp is deployed. Include any port number, but do not include the trailing '<tt>/</tt>'. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>dspace.url</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>dspace.url = ${dspace.baseUrl}/jspui</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational note </td>
<td class='confluenceTd'> DSpace base URL. URL that determines whether JSPUI or XMLUI will be loaded by default. Include port number etc., but NOT trailing slash. Change to <tt>/xmlui</tt> if you wish to use the xmlui (Manakin) as the default, or remove "<tt>/jspui</tt>" and set webapp of your choice as the "ROOT" webapp in the servlet engine. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>dspace.oai.url</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>dspace.oai.url = ${dspace.baseUrl}/oai</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational note: </td>
<td class='confluenceTd'> The base URL of the OAI webapp (do not include /request). </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>dspace.name</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>dspace.name = DSpace at My University</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Short and sweet site name, used throughout Web UI, e-mails and elsewhere (such as OAI protocol) </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-DSpaceDatabaseConfiguration"></a>DSpace Database Configuration</h3>

<p>Many of the database configurations are software-dependent. That is, it will be based on the choice of database software being used. Currently, DSpace properly supports PostgreSQL and Oracle.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>db.name</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>db.name = postgres</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Both <tt>postgres</tt> or <tt>oracle</tt> are accepted parameters. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>db.url</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>db.url = jdbc:postgresql://localhost:5432/dspace_-services</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The above value is the default value when configuring with PostgreSQL. When using Oracle, use this value: <tt>jbdc.oracle.thin:@//host:port/dspace</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>db.username</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>db.username = dspace</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> In the installation directions, the administrator is instructed to create the user "dspace" who will own the database "dspace". </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>password</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>password = dspace5</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is the password that was prompted during the installation process (cf. 3.2.3. Installation) </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>db.schema</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>db.schema = vra</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> If your database contains multiple schemas, you can avoid problems with retrieving the definitions of duplicate objects by specifying the schema name here that is used for DSpace by uncommenting the entry. This property is optional. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>db.maxconnections</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>db.maxconnections = 30</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Maximum number of Database connections in the connection pool </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>db.maxwait</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>db.maxwait = 5000</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Maximum time to wait before giving up if all connections in pool are busy (in milliseconds). </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>db.maxidle</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>db.maxidle = &#45;1</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Maximum number of idle connections in pool. (<em>&#45;1</em> = unlimited) </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>db.statementpool</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>db.statementpool = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Determines if prepared statement should be cached. (Default is set to true) </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>db.poolname</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>db.poolname = dspacepool</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Specify a name for the connection pool. This is useful if you have multiple applications sharing Tomcat's database connection pool. If nothing is specified, it will default to 'dspacepool' </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-DSpaceEmailSettings"></a>DSpace Email Settings</h3>

<p>The configuration of email is simple and provides a mechanism to alert the person(s) responsible for different features of the DSpace software.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>mail.server</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>mail.server = smtp.my.edu</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The address on which your outgoing SMTP email server can be reached. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>mail.server.username</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>mail.server.username = myusername</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> SMTP mail server authentication username, if required. This property is optional. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>mail.server.password</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>mail.server.password = mypassword</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> SMTP mail server authentication password, if required. This property is optional/ </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>mail.server.port</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>mail.server.port = 25</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The port on which your SMTP mail server can be reached. By default, port 25 is used. Change this setting if your SMTP mailserver is running on another port. This property is optional. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>mail.from.address</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>mail.from.address = dspace-noreply@myu.edu</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The "From" address for email. Change the 'myu.edu' to the site's host name. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>feedback.recipient</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>feedback.recipient = dspace-help@myu.edu</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> When a user clicks on the feedback link/feature, the information will be send to the email address of choice. This configuration is currently limited to only one recipient. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>mail.admin</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>mail.admin = dspace-help@myu.edu</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Email address of the general site administrator (Webmaster) </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>alert.recipient</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>alert.recipient = john.doe@myu.edu</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Enter the recipient for server errors and alerts. This property is optional. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>registration.notify</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>registration.notify = mike.smith@myu.edu</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Enter the recipient that will be notified when a new user registers on DSpace. This property is optional. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>mail.charset</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>mail.charset = UTF-8</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Set the default mail character set. This may be over-ridden by providing a line inside the email template '<em>charset: &lt;encoding&gt;</em>', otherwise this default is used. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>mail.allowed.referrers</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>mail.allowed.referrers = localhost</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> A comma separated list of hostnames that are allowed to refer browsers to email forms. Default behavior is to accept referrals only from <em>dspace.hostname</em>. This property is optional. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>mail.extraproperties</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">mail.extraproperties = mail.smtp.socketFactory.port=465, \
       mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory, \
       mail.smtp.socketFactory.fallback=<span class="code-keyword">false</span></pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> If you need to pass extra settings to the Java mail library. Comma separated, equals sign between the key and the value. This property is optional. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>mail.server.disabled</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>mail.server.disabled = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> An option is added to disable the mailserver. By default, this property is set to '<tt>false</tt>'. By setting value to '<tt>true</tt>', DSpace will not send out emails. It will instead log the subject of the email which should have been sent. This is especially useful for development and test environments where production data is used when testing functionality. This property is optional. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>default.language</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>default.language = en_US</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> If no other language is explicitly stated in the <em>input-forms.xml</em>, the default language will be attributed to the metadata values. </td>
</tr>
</tbody></table>
</div>


<h4><a name="Configuration-WordingofEmailMessages"></a>Wording of E-mail Messages</h4>

<p>Sometimes DSpace automatically sends e-mail messages to users, for example, to inform them of a new work flow task, or as a subscription e-mail alert. The wording of emails can be changed by editing the relevant file in <tt>[dspace]/config/emails</tt> . Each file is commented. Be careful to keep the right number 'placeholders' (e.g.<em>{2}</em>).</p>

<p><b>Note:</b> You should replace the contact-information "<tt>dspace-help@myu.edu or call us at xxx-555-xxxx</tt>" with your own contact details in:<br/>
<tt>config/emails/change_password</tt>
<br class="atl-forced-newline" />
<tt>config/emails/register</tt></p>


<h3><a name="Configuration-FileStorage"></a>File Storage</h3>

<p>DSpace supports two distinct options for storing your repository bitstreams (uploaded files). The files are not stored in the database in which Metadata, user information, ... are stored. An assetstore is a directory on your server, on which the bitstreams are stored and consulted afterwards. The usage of different assetstore directories is the default "technique" in DSpace. The parameters below define which assetstores are present, and which one should be used for newly incoming items. As an alternative, DSpace can also use SRB (Storage Resource Brokerage) as an alternative. See <a href="#Configuration-SRB%28StorageResourceBrokerage%29FileStorage">SRB File Storage</a> for details regarding SRB.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>assetstore.dir</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>assetstore.dir = ${dspace.dir}/assetstore</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is Asset (bitstream) store number 0 (Zero). You need not place your assetstore under the <em>/dspace</em> directory, but may want to place it on a different logical volume on the server that DSpace resides. So, you might have something like this: <tt>assetstore.dir = /storevgm/assestore</tt> . </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">assetstore.dir.1
assetstore.dir.2</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">assetstore.dir.1 = /second/assetstore
assetstore.dir.2 = /third/assetstore</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This property specifies extra asset stores like the one above, counting from one (1) upwards. This property is commented out (#) until it is needed. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>assetstore.incoming</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>assetstore.incoming = 1</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Informational Note: Specify the number of the store to use for new bitstreams with this property. The default is 0 [zero] which corresponds to the 'assestore.dir' above. As the asset store number is stored in the item metadata (in the database), always keep the assetstore numbering consistent and don't change the asset store number in the item metadata. </td>
</tr>
</tbody></table>
</div>


<div class='panelMacro'><table class='infoMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/information.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Be Careful</b><br />In the examples above, you can see that your storage does not have to be under the <tt>/dspace</tt> directory. For the default installation it needs to reside on the same server (unless you plan to configure SRB (see below)). So, if you added storage space to your server, and it has a different logical volume/name/directory, you could have the following as an example:</td></tr></table></div>
<p><tt>assetstore.dir = /storevgm/assetstore</tt>
<br class="atl-forced-newline" />
<tt>assetstore.dir.1 = /storevgm2/assetstore</tt>
<br class="atl-forced-newline" />
<tt>assetstore.incoming = 1</tt></p>

<p><br class="atl-forced-newline" />
<b>Please Note:</b> When adding additional storage configuration, you will then need to uncomment and declare <tt>assestore.incoming = 1</tt></p>


<h3><a name="Configuration-SRB%28StorageResourceBrokerage%29FileStorage"></a>SRB (Storage Resource Brokerage) File Storage</h3>

<p>An alternate to using the default storage framework is to use Storage Resource Brokerage (SRB). This can provide a different level of storage and disaster recovery. (Storage can take place on storage that is off-site.) Refer to <a href="http://www.sdsc.edu/srb/index.php/Main_Page" title="http://www.sdsc.edu/srb/index.php/Main_Page">http://www.sdsc.edu/srb/index.php/Main_Page</a> for complete details regarding SRB.</p>

<p>The same framework is used to configure SRB storage. That is, the asset store number (0..n) can reference a file system directory as above or it can reference a set of SRB account parameters. But any particular asset store number can reference one or the other but not both. This way traditional and SRB storage can both be used but with different asset store numbers. The same cautions mentioned above apply to SRB asset stores as well. The particular asset store a bitstream is stored in is held in the database, so don't move bitstreams between asset stores, and do not renumber them.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>srb.hosts.1</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example value: </td>
<td class='confluenceTd'> <tt>srb.hosts.1 = mysrbmcathost.myu.edu</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>srb.port.1</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example value: </td>
<td class='confluenceTd'> <tt>srb.port.1 = 5544</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>srb.mcatzone.1</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example value: </td>
<td class='confluenceTd'> <tt>srb.mcatzone.1 = mysrbzone</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Your SRB Metadata Catalog Zone. An SRB Zone (or zone for short) is a set of SRB servers 'brokered' or administered through a single MCAT. Hence a zone consists of one or more SRB servers along with one MCAT-enabled server. Any existing SRB system (version 2.x.x and below) can be viewed as an SRB zone. For more information on zones, please check <a href="http://www.sdsc.edu/srb/index.php/Zones" title="http://www.sdsc.edu/srb/index.php/Zones">http://www.sdsc.edu/srb/index.php/Zones</a>. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>srb.mdasdomainname.1</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>srb.mdasdomainname.1 = mysrbdomain</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Your SRB domain. This domain should be created under the same zone, specified in srb.mcatzone. Information on domains is included here <a href="http://www.sdsc.edu/srb/index.php/Zones" title="http://www.sdsc.edu/srb/index.php/Zones">http://www.sdsc.edu/srb/index.php/Zones</a>. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>srb.defaultstorageresource.1</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>srb.defaultstorageresource.1 = mydefaultsrbresource</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Your default SRB Storage resource. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>srb.username.1</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>srb.username.1 = mysrbuser</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Your SRB Username. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>srb.password.1</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>srb.password.1 = mysrbpassword</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Your SRB Password. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>srb.homedirectory.1</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">srb.homedirectory.1 =
   /mysrbzone/home/ mysrbuser.mysrbdomain</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Your SRB Homedirectory </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>srb.parentdir.1</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>srb.parentdir.1 = mysrbdspaceassetstore</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Several of the terms, such as mcatzone, have meaning only in the SRB context and will be familiar to SRB users. The last, <tt>srb.paratdir.n</tt>, can be used for additional (SRB) upper directory structure within an SRB account. This property value could be blank as well. </td>
</tr>
</tbody></table>
</div>


<p>The 'assetstore.incoming' property is an integer that references where <b>new</b> bitstreams will be stored. The default (say the starting reference) is zero. The value will be used to identify the storage where all new bitstreams will be stored until this number is changed. This number is stored in the Bitstream table (store_number column) in the DSpace database, so older bitstreams that may have been stored when '<em>asset.incoming</em>' had a different value can be found.</p>

<p>In the simple case in which DSpace uses local (or mounted) storage the number can refer to different directories (or partitions). This gives DSpace some level of scalability. The number links to another set of properties 'assetstore.dir', 'assetstore.dir.1' (remember zero is default), assetstore.dir.2', etc., where the values are directories.</p>

<p>To support the use of SRB DSpace uses the same scheme but broaden to support:</p>

<ul>
	<li>using SRB instead of the local file system</li>
	<li>using the local file system (native DSpace)</li>
	<li>using a mix of SRB and local file system<br/>
in this broadened use of the 'asset.incoming' integer will refer to one of the following storage locations:</li>
</ul>


<ul>
	<li>a local file system directory (native DSpace)</li>
	<li>a set of SRB account parameters (host, port, zone, domain, username, password, home directory, and resource<br/>
Should there be any conflict, like '2' referring to a local directory and to a set of SRB parameters, the program will select the local directory.</li>
</ul>


<p>If SRB is chosen from the first install of DSpace, it is suggested that 'assetstore.dir' (no integer appended) be retained to reference a local directory (as above under File Storage) because build.xml uses this value to do a <tt>mkdir</tt>. In this case, 'assetstore.incoming' can be set to 1 (i.e. uncomment the line in File Storage above) and the 'assetstore.dir' will not be used.</p>

<h3><a name="Configuration-LoggingConfiguration"></a>Logging Configuration</h3>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>log.init.config</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>log.init.config = ${dspace.dir}/config/log4j.properties</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is where your logging configuration file is located. You may override the default log4j configuration by providing your own. Existing alternatives are:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">log.init.config = ${dspace.dir}/config/log4j.properties
log.init.config = ${dspace.dir}/config/log4j-console.properties</pre>
</div></div>
<p> </p></td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>log.dir</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example value: </td>
<td class='confluenceTd'> <tt>log.dir = ${dspace.dir}/log</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is where to put the logs. (This is used for initial configuration only) <br class="atl-forced-newline" /> </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>useProxies</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>useProxies = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> If your DSpace instance is protected by a proxy server, in order for log4j&nbsp; to log the correct IP address of the user rather than of the proxy,  it must be configured to look for the X-Forwarded-For header.&nbsp; This  feature can be enabled by ensuring this setting is set to <em>true.&nbsp;</em> This also affects IPAuthentication, and should be enabled for that to work properly if your installation uses a proxy server. </td>
</tr>
</tbody></table>
</div>


<p>Previous releases of DSpace provided an example <em>${dspace.dir}/config/log4j.xml</em> as an alternative to <em>log4j.properties</em>. This caused some confusion and has been removed. log4j continues to support both Properties and XML forms of configuration, and you may continue (or begin) to use any form that log4j supports.</p>


<h3><a name="Configuration-ConfiguringLuceneSearchIndexes"></a>Configuring Lucene Search Indexes</h3>

<p>Search indexes can be configured and customized easily in the <em>dspace.cfg</em> file. This allows institutions to choose which DSpace metadata fields are indexed by Lucene.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>search.dir</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>search.dir = ${dspace.dir}/search</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Where to put the search index files </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>search.max-clauses</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>search.max-clauses = 2048</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> By setting higher values of search.max-clauses will enable prefix searches to work on larger repositories. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>search.index.delay</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>search.index.delay = 5000</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> It is possible to create a 'delayed index flusher'.  If a web application pushes multiple search requests (i.e. a barrage or sword deposits, or multiple quick edits in the user interface), then this will combine them into a single index update.  You set the property key to the number of milliseconds to wait for an update.  The example value will hold a Lucene update in a queue for up to 5 seconds.  After 5 seconds all waiting updates will be written to the Lucene index. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>search.analyzer</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>search.analyzer = org.dspace.search.DSAnalyzer</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Which Lucene Analyzer implementation to use. If this is omitted or commented out, the standard DSpace analyzer (designed for English) is used by default. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>search.analyzer</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>search.analyzer = org.apache.lucene.analysis.cn.ChineseAnalyzer</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Instead of the standard English analyzer, the Chinese analyzer is used. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>search.operator</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>search.operator = OR</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note </td>
<td class='confluenceTd'> Boolean search operator to use. The currently supported values are OR and AND. If this configuration item is missing or commented out, OR is used. AND requires all the search terms to be present. OR requires one or more search terms to be present. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>search.maxfieldlength</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>search.maxfieldlength = 10000</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is the maximum number of terms indexed for a single field in Lucene. The default is 10,000 words often not enough for full-text indexing. If you change this, you will need to re-index for the change to take effect on previously added items. <em>&#45;1</em> = unlimited (Integer.MAG_VALUE) </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>search.index.</tt><tt><em>n</em></tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>search.index.1 = author:dc.contributor.&#42;</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note </td>
<td class='confluenceTd'> This property determines which of the metadata fields are being indexed for search. As an example, if you do not include the title field here, searching for a word in the title will not be matched with the titles of your items.. </td>
</tr>
</tbody></table>
</div>


<p>For example, the following entries appear in the default DSpace installation:<br/>
<tt>search.index.1 = author:dc.contributor.&#42;</tt><br/>
<tt>search.index.2 = author:dc.creator.&#42;</tt><br/>
<tt>search.index.3 = title:dc.title.&#42;</tt><br/>
<tt>search.index.4 = keyword:dc.subject.&#42;</tt><br/>
<tt>search.index.5 = abstract:dc.description.abstract</tt><br/>
<tt>search.index.6 = author:dc.description.statementofresponsibility</tt><br/>
<tt>search.index.7 = series:dc.relation.ispartofseries</tt><br/>
<tt>search.index.8 = abstract:dc.description.tableofcontents</tt><br/>
<tt>search.index.9 = mime:dc.format.mimetype</tt><br/>
<tt>search.index.10 = sponsor:dc.description.sponsorship</tt><br/>
<tt>search.index.11 = id:dc.identifier.&#42;</tt><br/>
<tt>search.index.11 = language:dc.language.iso</tt></p>

<p>The format of each entry is <tt>search.index.&lt;id&gt; = &lt;search label&gt; : &lt;schema&gt; . &lt;metadata field&gt;</tt> where:</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> <tt>&lt;id&gt;</tt> </td>
<td class='confluenceTd'> is an incremental number to distinguish each search index entry </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;search label&gt;</tt> </td>
<td class='confluenceTd'> is the identifier for the search field this index will correspond to </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;schema&gt;</tt> </td>
<td class='confluenceTd'> is the schema used. Dublin Core (DC) is the default. Others are possible. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;metadata field&gt;</tt> </td>
<td class='confluenceTd'> is the DSpace metadata field to be indexed. </td>
</tr>
</tbody></table>
</div>


<p>In the example above, <tt>search.index.1</tt> and <tt>search.index.2</tt> and <tt>search.index.3</tt> are configured as the <tt>author</tt> search field. The <tt>author</tt> index is created by Lucene indexing all <tt>dc.contributor.&#42;</tt>,<tt>dc.creator.&#42;</tt> and <tt>description.statementofresponsibility</tt> metadata fields.</p>

<p>After changing the configuration run <tt>/[dspace]/bin/dspace index-init</tt> to regenerate the indexes.</p>

<p>While the indexes are created, this only affects the search results and has no effect on the search components of the user interface. One will need to customize the user interface to reflect the changes, for example, to add the a new search category to the Advanced Search.</p>

<p>In the above examples, notice the asterisk (<tt>&#42;</tt>). The metadata field (at least for Dublin Core) is made up of the "element" and the "qualifier". The asterisk is used as the "wildcard". So, for example, <tt>keyword.dc.subject.&#42;</tt> will index all subjects regardless if the term resides in a qualified field. (subject versus subject.lcsh). One could customize the search and only index LCSH (Library of Congress Subject Headings) with the following entry <tt>keyword:dc.subject.lcsh</tt> <em>instead of</em> <tt>keyword:dc.subject.&#42;</tt></p>

<p><b>Authority Control Note:</b></p>

<p>Although DSIndexer automatically builds a separate index for the authority keys of any index that contains authority-controlled metadata fields, the "Advanced Search" UIs does not allow direct access to it. Perhaps it will be added in the future. Fortunately, the OpenSearch API lets you submit a query directly to the Lucene search engine, and this may include the authority-controlled indexes.</p>


<h3><a name="Configuration-HandleServerConfiguration"></a>Handle Server Configuration</h3>

<p>The CNRI Handle system is a 3rd party service for maintaining persistent URL's. For a nominal fee, you can register a handle prefix for your repository. As a result, your repository items will be also available under the links <a href="http://handle.net/">http://handle.net/</a>&lt;&lt;handle prefix&gt;&gt;/&lt;&lt;item id&gt;&gt;. As the base url of your repository might change or evolve, the persistent handle.net URL's secure the consistency of links to your repository items. For complete information regarding the Handle server, the user should consult Section 3.4.4.. The Handle Server section of Installing DSpace.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>handle.prefix</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value </td>
<td class='confluenceTd'> <tt>handle.prefix = 1234.56789</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The default installed by DSpace is <tt>123456789</tt> but you will replace this upon receiving a handle from CNRI. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>handle.dir</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>handle.dir = ${dspace.dir}/handle-server</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The default files, as shown in the Example Value is where DSpace will install the files used for the Handle Server. </td>
</tr>
</tbody></table>
</div>


<p>For complete information regarding the Handle server, the user should consult 3.3.4. The Handle Server section of Installing DSpace.</p>


<h3><a name="Configuration-DelegationAdministration%3AAuthorizationSystemConfiguration"></a>Delegation Administration : Authorization System Configuration</h3>

<p>(Authorization System Configuration)<br/>
It is possible to delegate the administration of Communities and Collections. This functionality eliminates the need for an Administrator Superuser account for these purposes. An EPerson that will be attributed Delegate Admin rights for a certain community or collection will also "inherit" the rights for underlying collections and items. As a result, a community admin will also be collection admin for all underlying collections. Likewise, a collection admin will also gain admin rights for all the items owned by the collection.</p>

<p>Authorization to execute the functions that are allowed to user with WRITE permission on an object will be attributed to be the ADMIN of the object (e.g. community/collection/admin will be always allowed to edit metadata of the object). The default will be "<em>true</em>" for all the configurations.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Community Administration: Subcommunities and Collections </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.create-subelement</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.create-subelement = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to create subcommunities or collections. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.delete-subelement</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.delete-subelement = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to delete subcommunities or collections. </td>
</tr>
<tr>
<td class='confluenceTd'> Community Administration: Policies and The group of administrators </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.policies</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.policies = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to administrate the community policies. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.admin-group</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.admin-group = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to edit the group of community admins. </td>
</tr>
<tr>
<td class='confluenceTd'> Community Administration: Collections in the above Community </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.collection.policies</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.collection.policies = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to administrate the policies for underlying collections. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.collection.template-item</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.collection.template-item = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to administrate the item template for underlying collections. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.collection.submitters</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.collection.submitters = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to administrate the group of submitters for underlying collections. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.collection.workflows</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.collection.workflows = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to administrate the workflows for underlying collections. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.collection.admin-group</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.collection.admin-group = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to administrate the group of administrators for underlying collections. </td>
</tr>
<tr>
<td class='confluenceTd'> Community Administration: Items Owned by Collections in the Above Community </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.item.delete</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.item.delete = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to delete items in underlying collections. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.item.withdraw</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.item.withdraw = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to withdraw items in underlying collections. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.item.reinstate</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.item.reinstate = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to reinstate items in underlying collections. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.item.policies</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.item.policies = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to administrate item policies in underlying collections. </td>
</tr>
<tr>
<td class='confluenceTd'> Community Administration: Bundles of Bitstreams, related to items owned by collections in the above Community </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.item.create-bitstream</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.item.create-bitstream = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to create additional bitstreams in items in underlying collections. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.item.delete-bitstream</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.item.delete-bitstream = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to delete bitstreams from items in underlying collections. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.item.cc-license</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>core.authorization.community-admin.item.cc-license = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Authorization for a delegated community administrator to administer licenses from items in underlying collections. </td>
</tr>
<tr>
<td class='confluenceTd'> Community Administration: <br class="atl-forced-newline" />
The properties for collection administrators work similar to those <br class="atl-forced-newline" />
of community administrators, <br class="atl-forced-newline" />
with respect to collection administration. </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">core.authorization.collection-admin.policies
core.authorization.collection-admin.template-item
core.authorization.collection-admin.submitters
core.authorization.collection-admin.workflows
core.authorization.collection-admin.admin-group</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Collection Administration: <br class="atl-forced-newline" />
Item owned by the above CollectionThe properties for collection <br class="atl-forced-newline" />
administrators work similar to those of <br class="atl-forced-newline" />
community administrators, <br class="atl-forced-newline" />
with respect to administration of <br class="atl-forced-newline" />
items in underlying collections. </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">core.authorization.collection-admin.item.delete
core.authorization.collection-admin.item.withdraw
core.authorization.collection-admin.item.reinstatiate
core.authorization.collection-admin.item.policies</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Collection Administration: <br class="atl-forced-newline" />
Bundles of bitstreams, related to items owned by collections in the <br class="atl-forced-newline" />
above Community.  The properties for collection administrators <br class="atl-forced-newline" />
work similar to those of community administrators, with respect to <br class="atl-forced-newline" />
administration of bitstreams related to items in underlying collections. </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">core.authorization.collection-admin.item.create-bitstream
core.authorization.collection-admin.item.delete-bitstream
core.authorization.collection-admin.item-admin.cc-license</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Item Administration. <br class="atl-forced-newline" />
The properties for item administrators work similar to those <br class="atl-forced-newline" />
of community and collection administrators, with respect to administration of <br class="atl-forced-newline" />
items in underlying collections. </td>
<td class='confluenceTd'> <tt>core.authorization.item-admin.policies</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Item Administration: <br class="atl-forced-newline" />
Bundles of bitstreams, related to items owned by collections in the <br class="atl-forced-newline" />
above Community. The properties for item administrators work <br class="atl-forced-newline" />
similar to those of community and collection administrators, <br class="atl-forced-newline" />
with respect to administration of bitstreams <br class="atl-forced-newline" />
related to items in underlying collections. </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">core.authorization.item-admin.create-bitstream
core.authorization.item-admin.delete-bitstream
core.authorization.item-admin.cc-license</pre>
</div></div> </td>
</tr>
</tbody></table>
</div>


<p>Oracle users should consult <em>Chapter 4 Updating a DSpace Installation</em> regarding the necessary database changes that need to take place.</p>


<h3><a name="Configuration-StackableAuthenticationMethod%28s%29"></a>Stackable Authentication Method(s)</h3>

<p>(formally Custom Authentication)</p>

<p>Since many institutions and organizations have existing authentication systems, DSpace has been designed to allow these to be easily integrated into an existing authentication infrastructure. It keeps a series, or "stack", of <em>authentication methods</em>, so each one can be tried in turn. This makes it easy to add new authentication methods or rearrange the order without changing any existing code. You can also share authentication code with other sites.</p>
<table class="sectionMacroWithBorder" border="0" cellpadding="5" cellspacing="0" width="100%"><tbody><tr>
<td class="confluenceTd" valign="top" width="25%">
<p>Property:</p></td>
<td class="confluenceTd" valign="top" width="70%">
<p><tt>plugin.sequence.org.dspace.authenticate.AuthenticationMethod</tt></p></td></tr></tbody></table>
<table class="sectionMacroWithBorder" border="0" cellpadding="5" cellspacing="0" width="100%"><tbody><tr>
<td class="confluenceTd" valign="top" width="25%">
<p>Example Value:</p></td>
<td class="confluenceTd" valign="top" width="75%">
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.sequence.org.dspace.authenticate.AuthenticationMethod = \
 org.dspace.authenticate.PasswordAuthentication</pre>
</div></div></td></tr></tbody></table>

<p>The configuration property <tt>plugin.sequence.org.dspace.authenticate.AuthenticationMethod</tt> defines the authentication stack. It is a comma-separated list of class names. Each of these classes implements a different <tt>authentication method</tt>, or way of determining the identity of the user. They are invoked in the order specified until one succeeds.</p>

<p>An authentication method is a class that implements the interface <tt>org.dspace.authenticate.AuthenticationMethod</tt>. It <tt>authenticates</tt> a user by evaluating the <em>credentials</em> (e.g. username and password) he or she presents and checking that they are valid.</p>

<p>The basic authentication procedure in the DSpace Web UI is this:</p>

<ol>
	<li>A request is received from an end-user's browser that, if fulfilled, would lead to an action requiring authorization taking place.</li>
	<li>If the end-user is already authenticated:
	<ul>
		<li>If the end-user is allowed to perform the action, the action proceeds</li>
		<li>If the end-user is NOT allowed to perform the action, an authorization error is displayed.</li>
		<li>If the end-user is NOT authenticated, i.e. is accessing DSpace anonymously:</li>
	</ul>
	</li>
	<li>The parameters etc. of the request are stored.</li>
	<li>The Web UI's <tt>startAuthentication</tt> method is invoked.</li>
	<li>First it tries all the authentication methods which do <tt>implicit</tt> authentication (i.e. they work with just the information already in the Web request, such as an X.509 client certificate). If one of these succeeds, it proceeds from Step 2 above.</li>
	<li>If none of the implicit methods succeed, the UI responds by putting up a "login" page to collect credentials for one of the <tt>explicit</tt> authentication methods in the stack. The servlet processing that page then gives the proffered credentials to each authentication method in turn until one succeeds, at which point it retries the original operation from Step 2 above.<br/>
Please see the source files <tt>AuthenticationManager.java</tt> and <tt>AuthenticationMethod.java</tt> for more details about this mechanism.</li>
</ol>


<h4><a name="Configuration-ShibbolethAuthenticationConfigurationSettings"></a>Shibboleth Authentication Configuration Settings</h4>

<p>Detailed instructions for installing Shibboleth on DSpace may be found at <a href="https://mams.melcoe.mq.edu.au/zope/mams/pub/Installation/dspace15" title="https://mams.melcoe.mq.edu.au/zope/mams/pub/Installation/dspace15">https://mams.melcoe.mq.edu.au/zope/mams/pubs/Installation/dspace15</a>.</p>

<p>DSpace requires email as the user's credentials. There are two ways of providing email to DSpace:</p>

<ol>
	<li>By explicitly specifying to the user which attribute (header) carries the email address.</li>
	<li>By turning on the user-email-using-tomcat=true which means the software will attempt to acquire the user's email from Tomcat.<br/>
The first option takes <b>Precedence</b> when specified. both options can be enabled to allow for fallback.
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>authentication.shib.email-header</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>authentication.shib.email-header = MAIL</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The option specifies that the email comes from the mentioned header. This value is CASE-Sensitive. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>authentication.shib.firstname-header</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>authentication.shib.firstname-header = SHIB-EP-GIVENNAME</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Optional. Specify the header that carries the user's first name. This is going to be used for the creation of new-user. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>authentication.shib.lastname-header</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>authentication.shib.lastname-header = SHIB-EP-SURNAME</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Optional. Specify the header that carries user's last name. This is used for creation of new user. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>authentication.shib.email-use-tomcat-remote-user</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>authentication.shib.email-use-tomcat-remote-user = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This option forces the software to acquire the email from Tomcat. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>authentication.shib.autoregister</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>authentication.shib.autoregister = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Option will allow new users to be registered automatically if the IdP provides sufficient information (and the user does not exist in DSpace). </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">authentication.shib.role-header
authentication.shib-role.header.ignore-scope</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> 
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">authentication.shib.role-header = Shib-EP-ScopedAffiliation
authentication.shib-role.header.ignore-scope = <span class="code-keyword">true</span></pre>
</div></div>
<p> or </p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">authentication.shib.role-header = Shib-EP-UnscopedAffiliation
 authentication.shib-role.header.ignore-scope = <span class="code-keyword">false</span></pre>
</div></div>
<p> </p></td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> These two options specify which attribute that is responsible for providing user's roles to DSpace and unscope the attributes if needed. When not specified, it is defaulted to 'Shib-EP-UnscopedAffiliation', and ignore-scope is defaulted to 'false'. The value is specified in <em>AAP.xml</em> (Shib 1.3.x) or <em>attribute-filter.xml</em> (Shib 2.x). The value is CASE-Sensitive. The values provided in this header are separated by semi-colon or comma. If your service provider (SP) only provides scoped role header, you need to set <em>authentication.shib.role-header.ignore-Scope</em> as '<em>true</em>'. For example if you only get Shib-EP-ScopedAffiliation instead of Shib-EP-ScopedAffiliation, you name to make your settings as in the example value above. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>authentication.shib.default-roles</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>authentication.shib.default-roles = Staff, Walk-ins</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> When user is fully authN or IdP but would not like to release his/her roles to DSpace (for privacy reasons?), what should the default roles be given to such user. The values are separated by semi-colon or comma. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">authentication.shib.role.Senior\ Researcher
authentication.shib.role.Librarian</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">authentication.shib.role.Senior\ Researcher = Researcher, Staff
authentication.shib.role.Librarian = Administrator</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The following mappings specify role mapping between IdP and Dspace. The left side of the entry is IdP's role (prefixed with 'authentication.shib.role.') which will be mapped to the right entry from DSpace. DSpace's group as indicated on the right entry has to EXIST in DSpace, otherwise user will be identified as 'anonymous'. Multiple values on the right entry should be separated by comma. The values are CASE-Sensitive. Heuristic one-to-one mapping will be done when the IdP groups entry are not listed below (i.e. if 'X' group in IdP is not specified here, then it will be mapped to 'X' group in DSpace if it exists, otherwise it will be mapped to simply 'anonymous'). Given sufficient demand, future release could support regex for the mapping special characters need to be escaped by '\' </td>
</tr>
</tbody></table>
</div>
</li>
</ol>



<h4><a name="Configuration-AuthenticationbyPassword"></a>Authentication by Password</h4>

<p>The default method <tt>org.dspace.authenticate.PasswordAuthentication</tt> has the following properties:</p>

<ul>
	<li>Use of inbuilt e-mail address/password-based log-in. This is achieved by forwarding a request that is attempting an action requiring authorization to the password log-in servlet, <tt>/password-login</tt>. The password log-in servlet (<tt>org.dspace.app.webui.servlet.PasswordServlet</tt>) contains code that will resume the original request if authentication is successful, as per step 3. described above.</li>
	<li>Users can register themselves (i.e. add themselves as e-people without needing approval from the administrators), and can set their own passwords when they do this</li>
	<li>Users are not members of any special (dynamic) e-person groups</li>
	<li>You can restrict the domains from which new users are able to register. To enable this feature, uncomment the following line from dspace.cfg: <tt>authentication.password.domain.valid = example.com</tt> Example options might be '<tt>@example.com</tt>' to restrict registration to users with addresses ending in @example.com, or '<tt>@example.com, .ac.uk</tt>' to restrict registration to users with addresses ending in @example.com or with addresses in the .ac.uk domain.</li>
</ul>


<h4><a name="Configuration-X.509CertificateAuthentication"></a>X.509 Certificate Authentication</h4>

<p>The X.509 authentication method uses an X.509 certificate sent by the client to establish his/her identity. It requires the client to have a personal Web certificate installed on their browser (or other client software) which is issued by a Certifying Authority (CA) recognized by the web server.</p>

<ol>
	<li>See the HTTPS installation instructions to configure your Web server. If you are using HTTPS with Tomcat, note that the <tt>&lt;Connector&gt;</tt> tag <em>must</em> include the attribute <tt>clientAuth="true"</tt> so the server requests a personal Web certificate from the client.</li>
	<li>Add the <tt>org.dspace.authenticate.X509Authentication</tt> plugin <tt>first</tt> to the list of stackable authentication methods in the value of the configuration key <tt>plugin.sequence.org.dspace.authenticate.AuthenticationMethod</tt> <em>e.g.:</em>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.sequence.org.dspace.authenticate.AuthenticationMethod = \
     org.dspace.authenticate.X509Authentication, \
     org.dspace.authenticate.PasswordAuthentication  </pre>
</div></div></li>
</ol>


<ol>
	<li>You must also configure DSpace with the same CA certificates as the web server, so it can accept and interpret the clients' certificates. It can share the same keystore file as the web server, or a separate one, or a CA certificate in a file by itself. Configure it by <em>one</em> of these methods, either the Java keystore
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">authentication.x509.keystore.path =  path to Java keystore file
 authentication.x509.keystore.password =  password to access the keystore</pre>
</div></div>
<p>...or the separate CA certificate file (in PEM or DER format):</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">authentication.x509.ca.cert =  path to certificate file <span class="code-keyword">for</span> CA
                                     whose client certs to accept.</pre>
</div></div></li>
	<li>Choose whether to enable auto-registration: If you want users who authenticate successfully to be automatically registered as new E-Persons if they are not already, set the <tt>authentication.x509.autoregister</tt> configuration property to <tt>true</tt>. This lets you automatically accept all users with valid personal certificates. The default is <tt>false</tt>.</li>
</ol>


<h4><a name="Configuration-ExampleofaCustomAuthenticationMethod"></a>Example of a Custom Authentication Method</h4>

<p>Also included in the source is an implementation of an authentication method used at MIT, <em>edu.mit.dspace.MITSpecialGroup</em>. This does not actually authenticate a user, it <em>only</em> adds the current user to a special (dynamic) group called 'MIT Users' (which must be present in the system&#33;). This allows us to create authorization policies for MIT users without having to manually maintain membership of the MIT users group.</p>

<p>By keeping this code in a separate method, we can customize the authentication process for MIT by simply adding it to the stack in the DSpace configuration. None of the code has to be touched.</p>

<p>You can create your own custom authentication method and add it to the stack. Use the most similar existing method as a model, e.g. <tt>org.dspace.authenticate.PasswordAuthentication</tt> for an "explicit" method (with credentials entered interactively) or <tt>org.dspace.authenticate.X509Authentication</tt> for an implicit method.</p>


<h4><a name="Configuration-ConfiguringIPAuthentication"></a>Configuring IP Authentication</h4>

<p>You can enable IP authentication by adding its method to the stack in the DSpace configuration, e.g.:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.sequence.org.dspace.authenticate.AuthenticationMethod = org.dspace.authenticate.IPAuthentication</pre>
</div></div>
<p>You are then able to map DSpace groups to IP addresses in dspace.cfg by setting <tt>authentication.ip.GROUPNAME = iprange[, iprange ...]</tt>, e.g:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">authentication.ip.MY_UNIVERSITY = 10.1.2.3, \                  # Full IP
                                  13.5, \                      # Partial IP
                                  11.3.4.5/24, \               # with CIDR
                                  12.7.8.9/255.255.128.0,      # with netmask
                                  2001:18e8::/32               # IPv6 too</pre>
</div></div>
<p>Negative matches can be set by prepending the entry with a '-'. For example if you want to include all of a class B network except for users of a contained class c network, you could use: 111.222,-111.222.333.</p>

<p><b>Notes:</b></p>
<ul>
	<li>If the Groupname contains blanks you must escape the, e.g. Department\ of\ Statistics</li>
	<li>If your DSpace installation is hidden behind a web proxy, remember to set the 'useProxies' configuration option within the 'Logging' section of dspace.cfg to use the IP address of the user rather than the IP address of the proxy server.</li>
</ul>



<h4><a name="Configuration-ConfiguringLDAPAuthentication"></a>Configuring LDAP Authentication</h4>

<p>You can enable LDAP authentication by adding its method to the stack in the DSpace configuration, e.g.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.sequence.org.dspace.authenticate.AuthenticationMethod =
                     org.dspace.authenticate.LDAPAuthentication</pre>
</div></div>
<p>If LDAP is enabled in the dspace.cfg file, then new users will be able to register by entering their username and password without being sent the registration token. If users do not have a username and password, then they can still register and login with just their email address the same way they do now.</p>

<p>If you want to give any special privileges to LDAP users, create a stackable authentication method to automatically put people who have a netid into a special group. You might also want to give certain email addresses special privileges. Refer to the Custom Authentication Code section above for more information about how to do this.</p>

<p>Here is an explanation of what each of the different configuration parameters are for:</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Standard LDAP Configuration </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>ldap.enable</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>ldap.enable = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This setting will enable or disable LDAP authentication in DSpace. With the setting off, users will be required to register and login with their email address. With this setting on, users will be able to login and register with their LDAP user ids and passwords. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>ldap.provider_url</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>ldap.provider_url = ldap://ldap.myu.edu/o=myu.edu</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is the url to your institution's LDAP server. You may or may not need the /o=myu.edu part at the end. Your server may also require the ldaps:// protocol. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>ldap.id_field</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>ldap.id_field = uid</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Explanation: </td>
<td class='confluenceTd'> This is the unique identifier field in the LDAP directory where the username is stored. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>ldap.object_context</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>ldap.object_context = ou=people, o=myu.edu</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is the object context used when authenticating the user. It is appended to the <em>ldap.id_field</em> and username. For example <tt>uid=username,ou=people,o=myu.edu</tt>. You will need to modify this to match your LDAP configuration. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>ldap.search_context</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>ldap.search_context = ou=people</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is the search context used when looking up a user's LDAP object to retrieve their data for autoregistering. With ldap.autoregister turned on, when a user authenticates without an EPerson object we search the LDAP directory to get their name and email address so that we can create one for them. So after we have authenticated against <em>uid=username,ou=people,o=byu.edu</em> we now search in ou=people for filtering on [uid=username]. Often the <tt>ldap.search_context</tt> is the same as the <tt>ldap.object_context</tt> parameter. But again this depends on your LDAP server configuration. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>ldap.email_field</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>ldap.email_field = mail</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is the LDAP object field where the user's email address is stored. "mail" is the default and the most common for LDAP servers. If the mail field is not found the username will be used as the email address when creating the eperson object. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>ldap.surname_field</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>ldap.surname_field = sn</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is the LDAP object field where the user's last name is stored. "sn" is the default and is the most common for LDAP servers. If the field is not found the field will be left blank in the new eperson object. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>ldap.givenname_field</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>ldap.givenname_field = givenName</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is the LDAP object field where the user's given names are stored. I'm not sure how common the givenName field is in different LDAP instances. If the field is not found the field will be left blank in the new eperson object. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>ldap.phone_field</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>ldap.phone_field = telephoneNumber</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is the field where the user's phone number is stored in the LDAP directory. If the field is not found the field will be left blank in the new eperson object. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.ldap.autoregister</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.ldap.autoregister = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This will turn LDAP autoregistration on or off. With this on, a new EPerson object will be created for any user who successfully authenticates against the LDAP server when they first login. With this setting off, the user must first register to get an EPerson object by entering their ldap username and password and filling out the forms. </td>
</tr>
<tr>
<td class='confluenceTd'> LDAP Users Group </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>ldap.login.specialgroup</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>ldap.login.specialgroup = group-name</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> If required, a group name can be given here, and all users who log into LDAP will automatically become members of this group. This is useful if you want a group made up of all internal authenticated users. (Remember to log on as the administrator, add this to the "Groups" with read rights). </td>
</tr>
</tbody></table>
</div>


<p><b>Hierarchical LDAP Settings.</b> If your users are spread out across a hierarchical tree on your LDAP server, you will need to use the following stackable authentication class:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.sequence.org.dspace.authenticate.AuthenticationMethod = \
       org.dspace.authenticate.LDAPHierarchicalAuthentication</pre>
</div></div>
<p>You can optionally specify the search scope. If anonymous access is not enabled on your LDAP server, you will need to specify the full DN and password of a user that is allowed to bind in order to search for the users.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>ldap.search_scope</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>ldap.search_scope = 2</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is the search scope value for the LDAP search during autoregistering. This will depend on your LDAP server setup. This value must be one of the following integers corresponding to the following values: <br class="atl-forced-newline" />
<tt>object scope : 0</tt> <br class="atl-forced-newline" />
<tt>one level scope : 1</tt> <br class="atl-forced-newline" />
<tt>subtree scope : 2</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>ldap.search.user</tt> <br class="atl-forced-newline" />
<tt>ldap.search.password</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>ldap.search.user = cn=admin,ou=people,o=myu.edu</tt> <br class="atl-forced-newline" />
{{ ldap.search.password = password}} </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The full DN and password of a user allowed to connect to the LDAP server and search for the DN of the user trying to log in. If these are not specified, the initial bind will be performed anonymously. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>ldap.netid_email_domain</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>ldap.netid_email_domain = @example.com</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> If your LDAP server does not hold an email address for a user, you can use the following field to specify your email domain. This value is appended to the netid in order to make an email address. E.g. a netid of 'user' and <tt>ldap.netid_email_domain</tt> as <tt>@example.com</tt> would set the email of the user to be <tt>user@example.com</tt> </td>
</tr>
</tbody></table>
</div>




<h3><a name="Configuration-RestrictedItemVisibilitySettings"></a>Restricted Item Visibility Settings</h3>

<p>By default RSS feeds, OAI-PMH and subscription emails will include ALL items regardless of permissions set on them. If you wish to only expose items through these channels where the ANONYMOUS user is granted READ permission, then set the following options to false.</p>

<p>In large repositories, setting harvest.includerestricted.oai to false may cause performance problems as all items will need to have their authorization permissions checked, but because DSpace has not implemented resumption tokens in ListIdentifiers, ALL items will need checking whenever a ListIdentifers request is made.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvest.includerestricted.rss</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>harvest.includerestricted.rss = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> When set to 'true' (default), items that haven't got the READ permission for the ANONYMOUS user, will be included in RSS feeds anyway. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvest.includerestricted.oai</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>harvest.includerestricted.oai = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> When set to true (default), items that haven't got the READ permission for the ANONYMOUS user, will be included in OAI sets anyway. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvest.includerestricted.subscription</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>harvest.includerestricted.subscription = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> When set to true (default), items that haven't got the READ permission for the ANONYMOUS user, will be included in Subscription emails anyway. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-ProxySettings"></a>Proxy Settings</h3>

<p>These settings for proxy are commented out by default. Uncomment and specify both properties if proxy server is required for external http requests. Use regular host name without port number.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>http.proxy.host</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value </td>
<td class='confluenceTd'> <tt>http.proxy.host = proxy.myu.edu</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note </td>
<td class='confluenceTd'> Enter the host name without the port number. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>http.proxy.port</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value </td>
<td class='confluenceTd'> <tt>http.proxy.port = 2048</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note </td>
<td class='confluenceTd'> Enter the port number for the proxy server. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-ConfiguringMediaFilters"></a>Configuring Media Filters</h3>

<p>Media or Format Filters are classes used to generate derivative or alternative versions of content or bitstreams within DSpace. For example, the PDF Media Filter will extract textual content from PDF bitstreams, the JPEG Media Filter can create thumbnails from image bitstreams.</p>

<p>Media Filters are configured as Named Plugins, with each filter also having a separate configuration setting (in <em>dspace.cfg</em>) indicating which formats it can process. The default configuration is shown below.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>filter.plugins</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">filter.plugins = PDF Text Extractor, Html Text Extractor, \
                         Word Text Extractor, JPEG Thumbnail</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Place the names of the enabled MediaFilter or FormatFilter plugins. To enable Branded Preview, comment out the previous one line and then uncomment the two lines in found in <em>dspace.cfg</em>: 
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">Word Text Extractor, JPEG Thumbnail,\
     Branded Preview JPEG</pre>
</div></div>
<p> </p></td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>plugin.named.org.dspace.app.mediafilter.FormatFilter</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.named.org.dspace.app.mediafilter.FormatFilter = \
         org.dspace.app.mediafilter.PDFFilter = PDF Text Extractor, \
         org.dspace.app.mediafilter.HTMLFilter = HTML Text Extractor, \
         org.dspace.app.mediafilter.WordFilter = Word Text Extractor, \
         org.dspace.app.mediafilter.JPEGFilter = JPEG Thumbnail, \
         org.dspace.app.mediafilter.BrandedPreviewJPEGFilter = Branded Preview JPEG</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Assign "human-understandable" names to each filter </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">filter.org.dspace.app.mediafilter.PDFFilter.inputFormats
filter.org.dspace.app.mediafilter.HTMLFilter.inputFormats
filter.org.dspace.app.mediafilter.WordFilter.inputFormats
filter.org.dspace.app.mediafilter.JPEGFilter.inputFormats
filter.org.dspace.app.mediafilter.BrandedPreviewJPEGFilter.inputFormats</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">filter.org.dspace.app.mediafilter.PDFFilter.inputFormats = Adobe PDF
filter.org.dspace.app.mediafilter.HTMLFilter.inputFormats = HTML, Text
filter.org.dspace.app.mediafilter.WordFilter.inputFormats = Microsoft Word
filter.org.dspace.app.mediafilter.JPEGFilter.inputFormats = BMP, GIF, JPEG, \
                                                            image/png
filter.org.dspace.app.mediafilter.BrandedPreviewJPEGFilter.inputFormats = BMP, \
                                                   GIF, JPEG, image/png</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Configure each filter's input format(s) </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>pdffilter.largepdfs</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>pdffilter.largepdfs = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> It this value is set for "true", all PDF extractions are written to temp files as they are indexed. This is slower, but helps to ensure that PDFBox software DSpace uses does not eat up all your memory. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>pdffilter.skiponmemoryexception</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>pdffilter.skiponmemoryexception = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> If this value is set for "true", PDFs which still result in an "Out of Memory" error from PDFBox are skipped over. These problematic PDFs will never be indexed until memory usage can be decreased in the PDFBox software. </td>
</tr>
</tbody></table>
</div>


<p>Names are assigned to each filter using the <tt>plugin.named.org.dspace.app.mediafilter.FormatFilter</tt> field (e.g. by default the PDFilter is named "PDF Text Extractor".</p>

<p>Finally, the appropriate <tt>filter.&lt;class path&gt;.inputFormats</tt> defines the valid input formats which each filter can be applied. These format names <b>must match</b> the <tt>short description</tt> field of the Bitstream Format Registry.</p>

<p>You can also implement more dynamic or configurable Media/Format Filters which extend <tt>SelfNamedPlugin</tt> .</p>


<h3><a name="Configuration-CrosswalkandPackagerPluginSettings"></a>Crosswalk and Packager Plugin Settings</h3>

<p>The subsections below give configuration details based on the types of crosswalks and packager plugins you need to implement.</p>

<h4><a name="Configuration-ConfigurableMODSDisseminationCrosswalk"></a>Configurable MODS Dissemination Crosswalk</h4>

<p>The MODS crosswalk is a self-named plugin. To configure an instance of the MODS crosswalk, add a property to the DSpace configuration starting with "<tt>crosswalk.mods.properties.</tt>"; the final word of the property name becomes the plugin's name. For example, a property name <tt>crosswalk.mods.properties.MODS</tt> defines a crosswalk plugin named "<tt>MODS</tt>".</p>

<p>The value of this property is a path to a separate properties file containing the configuration for this crosswalk. The pathname is relative to the DSpace configuration directory, i.e. the <tt>config</tt> subdirectory of the DSpace install directory. Example from the <tt>dspace.cfg</tt> file:</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>crosswalk.mods.properties.MODS</tt> <br class="atl-forced-newline" />
<tt>crosswalk.mods.properties.mods</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Values: </td>
<td class='confluenceTd'> <tt>crosswalk.mods.properties.MODS = crosswalks/mods.properties</tt> <br class="atl-forced-newline" />
<tt>crosswalk.mods.properties.mods = crosswalks/mods.properties</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This defines a crosswalk named MODS whose configuration comes from the file <tt>[dspace]/config/crosswalks/mods.properties</tt> . (In the above example, the lower-case name was added for OAI-PMH) </td>
</tr>
</tbody></table>
</div>


<p>The MODS crosswalk properties file is a list of properties describing how DSpace metadata elements are to be turned into elements of the MODS XML output document. The property name is a concatenation of the metadata schema, element name, and optionally the qualifier. For example, the <em>contributor.author</em> element in the native Dublin Core schema would be: <em>dc.contributor.author</em>. The value of the property is a line containing two segments separated by the vertical bar ("<tt>&#124;</tt>"_): The first part is an XML fragment which is copied into the output document. The second is an XPath expression describing where in that fragment to put the value of the metadata element. For example, in this property:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">dc.contributor.author = &lt;mods:name&gt;
				&lt;mods:role&gt;
					&lt;mods:roleTerm type=<span class="code-quote">"text"</span>&gt;author&lt;/mods:roleTerm&gt;
                        	&lt;/mods:role&gt;
                             		&lt;mods:namePart&gt;%s&lt;/mods:namePart&gt;
                        &lt;/mods:name&gt; </pre>
</div></div>
<p>Some of the examples include the string "<tt>%s</tt>" in the prototype XML where the text value is to be inserted, but don't pay any attention to it, it is an artifact that the crosswalk ignores. For example, given an author named <em>Jack Florey</em>, the crosswalk will insert</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;mods:name&gt;
   &lt;mods:role&gt;
     &lt;mods:roleTerm type=<span class="code-quote">"text"</span>&gt;author&lt;/mods:roleTerm&gt;
   &lt;/mods:role&gt;
   &lt;mods:namePart&gt;Jack Florey&lt;/mods:namePart&gt;
&lt;/mods:name&gt;</pre>
</div></div>
<p>into the output document. Read the example configuration file for more details.</p>


<h4><a name="Configuration-XSLTbasedCrosswalks"></a>XSLT-based Crosswalks</h4>

<p>The XSLT crosswalks use XSL stylesheet transformation (XSLT) to transform an XML-based external metadata format to or from DSpace's internal metadata. XSLT crosswalks are much more powerful and flexible than the configurable MODS and QDC crosswalks, but they demand some esoteric knowledge (XSL stylesheets). Given that, you can create all the crosswalks you need just by adding stylesheets and configuration lines, without touching any of the Java code.</p>

<p>The default settings in the <tt>dspace.cfg</tt> file for submission crosswalk:</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>crosswalk.submission.MODS.stylesheet</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>crosswalk.submission.MODS.stylesheet = crosswalks/mods-submission.xsl</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Configuration XSLT-driven submission crosswalk for MODS </td>
</tr>
</tbody></table>
</div>


<p>As shown above, there are three (3) parts that make up the properties "key":</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">   crosswalk.submissionPluginName.stylesheet =
          1        2        3               4   </pre>
</div></div>
<p><tt>crosswalk</tt> first part of the property key.<br/>
<tt>submission</tt> second part of the property key.<br/>
<tt>PluginName</tt> is the name of the plugin. The <em>path</em> value is the path to the file containing the crosswalk stylesheet (relative to <tt>/[dspace]/config</tt>).<br/>
Here is an example that configures a crosswalk named "LOM" using a stylesheet in <tt>[dspace]/config/crosswalks/d-lom.xsl</tt>:<br/>
<tt>crosswalk.submission.LOM.stylesheet = crosswalks/d-lom.xsl</tt><br/>
A dissemination crosswalk can be configured by starting with the property key <em>crosswalk.dissemination</em>. Example:<br/>
<tt>crosswalk.dissemination.PluginName.stylesheet = path</tt><br/>
The <em>PluginName</em> is the name of the plugin (&#33;) . The <em>path</em> value is the path to the file containing the crosswalk stylesheet (relative to <tt>/[dspace]/config</tt>).</p>

<p>You can make two different plugin names point to the same crosswalk, by adding two configuration entries with the same path:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">     crosswalk.submission.MyFormat.stylesheet = crosswalks/myformat.xslt
     crosswalk.submission.almost_DC.stylesheet = crosswalks/myformat.xslt</pre>
</div></div>
<p>The dissemination crosswalk must also be configured with an XML Namespace (including prefix and URI) and an XML schema for its output format. This is configured on additional properties in the DSpace configuration:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">     crosswalk.dissemination.PluginName.namespace.Prefix = namespace-URI
     crosswalk.dissemination.PluginName.schemaLocation = schemaLocation value</pre>
</div></div>
<p>For example:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">     crosswalk.dissemination.qdc.namespace.dc = http:<span class="code-comment">//purl.org/dc/elements/1.1/
</span>     crosswalk.dissemination.qdc.namespace.dcterms = http:<span class="code-comment">//purl.org/dc/terms/
</span>     crosswalk.dissemination.qdc.schemalocation = http:<span class="code-comment">//purl.org/dc/elements/1.1/ \
</span>     http:<span class="code-comment">//dublincore.org/schemas/xmls/qdc/2003/04/02/qualifieddc.xsd</span></pre>
</div></div>

<h5><a name="Configuration-TestingXSLTCrosswalks"></a>Testing XSLT Crosswalks</h5>

<p>The XSLT crosswalks will automatically reload an XSL stylesheet that has been modified, so you can edit and test stylesheets without restarting DSpace. You can test a dissemination crosswalk by hooking it up to an OAI-PMH crosswalk and using an OAI request to get the metadata for a known item.</p>

<p>Testing the submission crosswalk is more difficult, so we have supplied a command-line utility to help. It calls the crosswalk plugin to translate an XML document you submit, and displays the resulting intermediate XML (DIM). Invoke it with:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">[dspace]/bin/dsrun
     org.dspace.content.crosswalk.XSLTIngestionCrosswalk [-l] plugin input-file</pre>
</div></div>
<p>where <em>plugin</em> is the name of the crosswalk plugin to test (e.g. "LOM"), and <em>input-file</em> is a file containing an XML document of metadata in the appropriate format.</p>

<p>Add the <tt>&#45;l</tt> option to pass the ingestion crosswalk a list of elements instead of a whole document, as if the List form of the ingest() method had been called. This is needed to test ingesters for formats like DC that get called with lists of elements instead of a root element.</p>



<h4><a name="Configuration-ConfigurableQualifiedDublinCore%28QDC%29disseminationcrosswalk"></a>Configurable Qualified Dublin Core (QDC) dissemination crosswalk</h4>

<p>The QDC crosswalk is a self-named plugin. To configure an instance of the QDC crosswalk, add a property to the DSpace configuration starting with "<tt>crosswalk.qdc.properties.</tt>"; the final word of the property name becomes the plugin's name. For example, a property name <tt>crosswalk.qdc.properties.QDC</tt> defines a crosswalk plugin named "<tt>QDC</tt>".</p>

<p>The following is from <em>dspace.cfg</em> file:</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>crosswalk.qdc.namspace.qdc.dc</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>crosswalk.qdc.namspace.qdc.dc =</tt> <tt><a href="http://purl.org/dc/elements/1.1">http://purl.org/dc/elements/1.1&#95;</a></tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>crosswalk.qdc.namspace.qdc.dcterms</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>crosswalk.qdc.namspace.qdc.dc =</tt> <tt><a href="http://purl.org/dc/terms/">http://purl.org/dc/terms/&#95;</a></tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>crosswalk.qdc.schemaLocation.QDC</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">crosswalk.qdc.schemaLocation.QDC = http:<span class="code-comment">//www.purl.org/dc/terms \
</span>      http:<span class="code-comment">//dublincore.org/schemas/xmls/qdc/2006/01/06/dcterms.xsd \
</span>      http:<span class="code-comment">//purl.org/dc/elements/1.1 \
</span>      http:<span class="code-comment">//dublincore.org/schemas/xmls/qdc/2006/01/06/dc.xsd</span></pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>crosswalk.qdc.properties.QDC</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>crosswalk.qdc.properties.QDC = crosswalks/QDC.properties</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Configuration of the QDC Crosswalk dissemination plugin for Qualified DC. <em>(Add lower-case name for OAI-PMH. That is, change QDC to qdc.)</em>}} </td>
</tr>
</tbody></table>
</div>


<p>In the property key "<tt>crosswalk.qdc.properties.QDC</tt>" the value of this property is a path to a separate properties file containing the configuration for this crosswalk. The pathname is relative to the DSpace configuration directory <tt>/[dspace]/config</tt> . Referring back to the "Example Value" for this property key, one has <tt>crosswalks/qdc.properties</tt> which defines a crosswalk named <tt>QDC</tt> whose configuration comes from the file <tt>[dspace]/config/crosswalks/qdc.properties</tt> .</p>

<p>You will also need to configure the namespaces and schema location strings for the XML output generated by this crosswalk. The namespaces properties names are formatted:</p>

<p><tt>crosswalk.qdc.namespace</tt>.<em>prefix = uri</em></p>

<p>where <em>prefix</em> is the namespace prefix and <em>uri</em> is the namespace URI. See the above Property and Example Value keys as the default dspace.cfg has been configured.</p>

<p>The QDC crosswalk properties file is a list of properties describing how DSpace metadata elements are to be turned into elements of the Qualified DC XML output document. The property name is a concatenation of the metadata schema, element name, and optionally the qualifier. For example, the <tt>contributor.author</tt> element in the native Dublin Core schema would be: <tt>dc.contributor.author</tt> . The value of the property is an XML fragment, the element whose value will be set to the value of the metadata field in the property key.</p>

<p>For example, in this property:</p>

<p><tt>dc.coverage.temporal = &lt;dcterms:temporal /&gt;</tt></p>

<p>the generated XML in the output document would look like, e.g.:<br/>
<tt>&lt;dcterms:temporal&gt;Fall, 2005&lt;/dcterms:temporal&gt;</tt></p>


<h4><a name="Configuration-ConfiguringCrosswalkPlugins"></a>Configuring Crosswalk Plugins</h4>

<p>Ingestion crosswalk plugins are configured as named or self-named plugins for the interface <tt>org.dspace.content.crosswalk.IngestionCrosswalk</tt>. Dissemination crosswalk plugins are configured as named or self-named plugins for the interface <tt>org.dspace.content.crosswalk.DisseminationCrosswalk</tt>.</p>

<p>You can add names for existing crosswalks, add new plugin classes, and add new configurations for the configurable crosswalks as noted below.</p>


<h4><a name="Configuration-ConfiguringPackagerPlugins"></a>Configuring Packager Plugins</h4>

<p>Package ingester plugins are configured as named or self-named plugins for the interface <tt>org.dspace.content.packager.PackageIngester</tt> . Package disseminator plugins are configured as named or self-named plugins for the interface <tt>org.dspace.content.packager.PackageDisseminator</tt> .</p>

<p>You can add names for the existing plugins, and add new plugins, by altering these configuration properties. See the Plugin Manager architecture for more information about plugins.</p>



<h3><a name="Configuration-EventSystemConfiguration"></a>Event System Configuration</h3>

<p>If you are unfamiliar with the Event System in DSpace, and require additional information with terms like "Consumer" and "Dispatcher" please refer to:<a href="http://wiki.dspace.org/index.php/EventSystemPrototype" title="http://wiki.dspace.org/index.php/EventSystemPrototype">http://wiki.dspace.org/index.php/EventSystemPrototype</a></p>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>event.dispatcher.default.class</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>event.dispatcher.default.class = org.dspace.event.BasicDispatcher</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is the default synchronous dispatcher (Same behavior as traditional DSpace). </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>event.dispatcher.default.consumers</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>event.dispatcher.default.consumers = search, browse, eperson</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is the default synchronous dispatcher (Same behavior as traditional DSpace). </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>event.dispatcher.noindex.class</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>event.dispatcher.noindex.class = org.dspace.event.BasicDispatcher</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The noindex dispatcher will not create search or browse indexes (useful for batch item imports). </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>event.dispatcher.noindex.consumers</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>event.dispatcher.noindex.consumers = eperson</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The noindex dispatcher will not create search or browse indexes (useful for batch item imports). </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>event.consumer.search.class</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>event.consumer.search.class = org.dspace.search.SearchConsumer</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Consumer to maintain the search index. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>event.consumer.search.filters</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> {{event.consumer.search.filters =  }} <br class="atl-forced-newline" />
<tt>Community &#124; Collection &#124; Item &#124; Bundle+Add &#124; Create &#124; Modify &#124; Modify_Metadata &#124; Delete &#124; Remove</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Consumer to maintain the search index. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>event.consumer.browse.class</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>event.consumer.browse.class = org.dspace.browse.BrowseConsumer</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Consumer to maintain the browse index. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>event.consumer.browse.filters</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>event.consumer.browse.filters =</tt> <br class="atl-forced-newline" />
<tt>Community &#124; Collection &#124; Item &#124; Bundle+Add &#124; Create &#124; Modify &#124; Modify_Metadata &#124; Delete &#124; Remove</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Consumer to maintain the browse index. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>event.consumer.eperson.class</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>event.consumer.eperson.class = org.dspace.eperson.EPersonConsumer</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Consumer related to EPerson changes </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>event.consumer.eperson.filters</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>event.consumer.eperson.filters = EPerson+Create</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Consumer related to EPerson changes </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>event.consumer.test.class</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>event.consumer.test.class = org.dspace.event.TestConsumer</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Test consumer for debugging and monitoring. <b>Commented out by default.</b> </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>event.consumer.test.filters</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>event.consumer.test.filters = All+All</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Test consumer for debugging and monitoring. <b>Commented out by default.</b> </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>testConsumer.verbose</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>testConsumer.verbose = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Set this to true to enable testConsumer messages to standard output. <b>Commented out by default.</b> </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-Embargo"></a>Embargo</h3>

<p>DSpace embargoes utilize standard metadata fields to hold both the 'terms' and the 'lift date'. Which fields you use are configurable, and no specific metadata element is dedicated or predefined for use in embargo. Rather, you specify exactly what field you want the embargo system to examine when it needs to find the terms or assign the lift date.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>embargo.field.terms</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>embargo.field.terms = SCHEMA.ELEMENT.QUALIFIER</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Embargo terms will be stored in the item metadata. This property determines in which metadata field these terms will be stored. An example could be dc.embargo.terms </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>embargo.field.lift</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>embargo.field.lift = SCHEMA.ELEMENT.QUALIFIER</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The Embargo lift date will be stored in the item metadata. This property determines in which metadata field the computed embargo lift date will be stored. You may need to create a DC metadata field in your Metadata Format Registry if it does not already exist. An example could be dc.embargo.liftdate </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>embargo.terms.open</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>embargo.terms.open = forever</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> You can determine your own values for the embargo.field.terms property (see above). This property determines what the string value will be for indefinite embargos. The string in terms field to indicate indefinite embargo. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>plugin.single.org.dspace.embargo.EmbargoSetter</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>plugin.single.org.dspace.embargo.EmbargoSetter = org.dspace.embargo.DefaultEmbargoSetter</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> To implement the business logic to set your embargos, you need to override the EmbargoSetter class. If you use the value DefaultEmbargoSetter, the default implementation will be used. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>plugin.single.org.dspace.embargo.EmbargoLifter</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>plugin.single.org.dspace.embargo.EmbargoLifter = org.dspace.embargo.DefaultEmbargoLifter</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> To implement the business logic to lift your embargos, you need to override the EmbargoLifter class. If you use the value DefaultEmbargoLifter, the default implementation will be used. </td>
</tr>
</tbody></table>
</div>


<p>Key Recommendations:</p>

<ol>
	<li>If using existing metadata fields, avoid any that are automatically managed by DSpace. For example, fields like '<em>date.issued</em>' or '<em>date.accessioned</em>' are normally automatically assigned, and thus must not be recruited for embargo use.</li>
	<li>Do not place the field for '<em>lift date</em>' in submission screens. This can potentially confuse submitters because they may feel that they can directly assign values to it. As noted in the life-cycle above, this is erroneous: the lift date gets assigned by the embargo system based on the terms. Any pre-existing value will be over-written. But see next recommendation for an exception.</li>
	<li>As the life-cycle discussion above makes clear, after the terms are applied, that field is no longer actionable in the embargo system. Conversely, the 'lift date' field is not actionable <b>until</b> the application. Thus you may want to consider configuring both the 'terms' and 'lift date' to use the same metadata field. In this way, during workflow you would see only the terms, and after item installation, only the lift date. If you wish the metadata to retain the terms for any reason, use two distinct fields instead.<br/>
. Detailed Operation</li>
</ol>


<p>After the fields defined for terms and lift date have been assigned in <em>dspace.cfg</em>, and created and configured wherever they will be used, you can begin to embargo items simply by entering data (dates, if using the default setter) in the terms field. They will automatically be embargoed as they exit workflow. For the embargo to be lifted on any item, however, a new administrative procedure must be added: the 'embargo lifter' must be invoked on a regular basis. This task examines all embargoed items, and if their 'lift date' has passed, it removes the access restrictions on the item. Good practice dictates automating this procedure using cron jobs or the like, rather than manually running it. The lifter is available as a target of the 1.6 DSpace launcher: see Section 8.</p>


<h4><a name="Configuration-ExtendingEmbargoFunctionality"></a>Extending Embargo Functionality</h4>

<p>The 1.6 Embargo system supplies a default 'interpreter/imposition' class (the 'Setter') as well as a 'Lifter', but they are fairly rudimentary in several aspects.</p>

<ol>
	<li>Setter.  The default setter recognizes only two expressions of terms: either a literal, non-relative date in the fixed format 'yyyy-mm-dd' (known as ISO 8601), or a special string used for open-ended embargo (the default configured value for this is 'forever', but this can be changed in dspace.cfg to 'toujours', 'unendlich', etc). It will perform a minimal sanity check that the date is not in the past. Similarly, the default setter will only remove all read policies as noted above, rather than applying more nuanced rules (e.g allow access to certain IP groups, deny the rest). Fortunately, the setter class itself is configurable and you can 'plug in' any behavior you like, provided it is written in java and conforms to the setter interface. The dspace.cfg property:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java"># implementation of embargo setter plugin - replace with local implementation <span class="code-keyword">if</span> applicable
plugin.single.org.dspace.embargo.EmbargoSetter = org.dspace.embargo.DefaultEmbargoSetter</pre>
</div></div>
<p>controls which setter to use.</p></li>
	<li>Lifter.The default lifter behavior as described above essentially applying the collection policy rules to the item might also not be sufficient for all purposes. It also can be replaced with another class:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java"># implementation of embargo lifter plugin--replace with local implementation <span class="code-keyword">if</span> applicable
plugin.single.org.dspace.embargo.EmbargoLifter = org.dspace.embargo.DefaultEmbargoLifter</pre>
</div></div></li>
</ol>


<h4><a name="Configuration-StepbyStepSetupExamples"></a>Step-by-Step Setup Examples</h4>

<ol>
	<li>Simple Dates.If you want to enter simple calendar dates for when an embargo will expire, follow these steps.
	<ol>
		<li>Select a metadata field. Let's use <em>dc.description.embargo</em>. This field does not exist in in the default DSpace metadata directory, so login as an administrator, go the metadata registry page, select the 'dc' schema, then add the metadata field.</li>
		<li>Expose the metadata field. Edit <em>[dspace]/config/input-forms.xml</em> . If you have only one form usually 'traditional', add it there. If you have multiple forms, add it only to the forms linked to collections for which embargo applies:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;form name=<span class="code-quote">"traditional"</span>&gt;
    &lt;page number=<span class="code-quote">"1"</span>&gt;
      ...
       &lt;field&gt;
         &lt;dc-schema&gt;dc&lt;/dc-schema&gt;
         &lt;dc-element&gt;description&lt;/dc-element&gt;
         &lt;dc-qualifier&gt;embargo&lt;/dc-qualifier&gt;
         &lt;repeatable&gt;<span class="code-keyword">false</span>&lt;/repeatable&gt;
         &lt;label&gt;Embargo Date&lt;/label&gt;
         &lt;input-type&gt;onebox&lt;/input-type&gt;
         &lt;hint&gt;If required, enter date 'yyyy-mm-dd' when embargo expires or 'forever'.&lt;/hint&gt;
         &lt;required&gt;&lt;/required&gt;
       &lt;/field&gt;
</pre>
</div></div>
<p>Note: if you want to require embargo terms for every item, put a phrase in the &lt;required&gt; element. Example:<em>&lt;required&gt;You must enter an embargo date&lt;/required&gt;</em></p></li>
		<li>Configure Embargo. Edit <em>[dspace]/config/dspace.cfg</em>. Find the Embargo properties and set these two:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java"># DC metadata field to hold the user-supplied embargo terms
embargo.field.terms = dc.description.embargo

# DC metadata field to hold computed <span class="code-quote">"lift date"</span> of embargo
embargo.field.lift = dc.description.embargo</pre>
</div></div></li>
		<li>Restart DSpace application. This will pick up these changes. Now just enter future dates (if applicable) in web submission and the items will be placed under embargo. You can enter years ('2020'), years and months ('2020-12'), or also days ('2020-12-15').</li>
		<li>Periodically run the lifter. Run the task:_[dspace]/bin/dspace embargo-lifter_You will want to run this task in a cron-scheduled or other repeating way. Item embargoes will be lifted as their dates pass.</li>
	</ol>
	</li>
	<li>Period Sets. If you wish to use a fixed set of time periods (e.g. 90 days, 6 months and 1 year) as embargo terms, follow these steps, which involve using a custom 'setter'.
	<ol>
		<li>Select two metadata fields. Let's use '<em>dc.embargo.terms</em>' and '<em>dc.embargo.lift</em>'. These fields do not exist in the default DSpace metadata registry. Login as an administrator, go the metadata registry page, select the 'dc' schema, then add the metadata fields.</li>
		<li>Expose the 'term' metadata field. The lift field will be assigned by the embargo system, so it should not be exposed directly. Edit <em>[dspace]/config/input-forms.xml</em> . If you have only one form (usually 'traditional') add it there. If you have multiple forms, add it only to the form(s) linked to collection(s) for which embargo applies. First, add the new field to the 'form definition':
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;form name=<span class="code-quote">"traditional"</span>&gt;
    &lt;page number=<span class="code-quote">"1"</span>&gt;
      ...
       &lt;field&gt;
         &lt;dc-schema&gt;dc&lt;/dc-schema&gt;
         &lt;dc-element&gt;embargo&lt;/dc-element&gt;
         &lt;dc-qualifier&gt;terms&lt;/dc-qualifier&gt;
         &lt;repeatable&gt;<span class="code-keyword">false</span>&lt;/repeatable&gt;
         &lt;label&gt;Embargo Terms&lt;/label&gt;
         &lt;input-type value-pairs-name=<span class="code-quote">"embargo_terms"</span>&gt;dropdown&lt;/input-type&gt;
         &lt;hint&gt;If required, select embargo terms.&lt;/hint&gt;
         &lt;required&gt;&lt;/required&gt;
         &lt;/field&gt;</pre>
</div></div>
<p>Note: If you want to require embargo terms for every item, put a phrase in the <em>&lt;required&gt;</em> element, e.g._&lt;required&gt;You must select embargo terms&lt;/required&gt;_Observe that we have referenced a new value-pair list: "embargo_terms'. We must now define that as well (only once even if references by multiple forms):</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;form-value-pairs&gt;
   ...
   &lt;value-pairs value-pairs-name=<span class="code-quote">"embargo_terms"</span> dc-term=<span class="code-quote">"embargo.terms"</span>&gt;
     &lt;pair&gt;
       &lt;displayed-value&gt;90 days&lt;/displayed-value&gt;
       &lt;stored-value&gt;90 days&lt;/stored-value&gt;
     &lt;/pair&gt;
     &lt;pair&gt;
       &lt;displayed-value&gt;6 months&lt;/displayed-value&gt;
       &lt;stored-value&gt;6 months&lt;/stored-value&gt;
     &lt;/pair&gt;
     &lt;pair&gt;
       &lt;displayed-value&gt;1 year&lt;/displayed-value&gt;
       &lt;stored-value&gt;1 year&lt;/stored-value&gt;
     &lt;/pair&gt;
   &lt;/value-pairs&gt;
</pre>
</div></div>
<p>Note: if desired, you could localize the language of the displayed value.</p></li>
		<li>Configure Embargo. Edit /dspace/config/dspace.cfg. Find the Embargo properties and set the following properties:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">    # DC metadata field to hold the user-supplied embargo terms
    embargo.field.terms = dc.embargo.terms

    # DC metadata field to hold computed <span class="code-quote">"lift date"</span> of embargo
    embargo.field.lift = dc.embargo.lift

    # implementation of embargo setter plugin - replace with local implementation <span class="code-keyword">if</span> applicable
    plugin.single.org.dspace.embargo.EmbargoSetter = org.dspace.embargo.DayTableEmbargoSetter</pre>
</div></div></li>
	</ol>
	</li>
</ol>


<p>Now add a new property called '<em>embargo.terms.days</em>' as follows:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">    # DC metadata field to hold computed <span class="code-quote">"lift date"</span> of embargo
    embargo.terms.days = 90 days:90, 6 months:180, 1 year:365</pre>
</div></div>

<ol>
	<li>
	<ol>
		<li>This step is the same as Step A.4 above, except that instead of entering a date, the submitter will select a value form a drop-down list.</li>
	</ol>
	</li>
</ol>


<ol>
	<li>
	<ol>
		<li>Periodically run the lifter. Run the task:<br/>
<tt>[dspace]/bin/dspace embargo-lifter</tt> .<br/>
You will want to run this task in a cron-scheduled or other repeating way. Item embargoes will be lifted as their dates pass.</li>
	</ol>
	</li>
</ol>



<h3><a name="Configuration-ChecksumCheckerSettings"></a>Checksum Checker Settings</h3>

<p>DSpace now comes with a Checksum Checker script (<tt>[dspace]/bin/dspace checker</tt>) which can be scheduled to verify the checksum of every item within DSpace. Since DSpace calculates and records the checksum of every file submitted to it, this script is able to determine whether or not a file has been changed (either manually or by some sort of corruption or virus). The idea being that the earlier you can identify a file has changed, the more likely you'd be able to recover it (assuming it was not a wanted change).</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>plugin.single.org.dspace.checker.BitstreamDispatcher</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>plugin.single.org.dspace.checker.BitstreamDispatcher = org.dspace.checker.SimpleDispatcher</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The Default dispatcher is case non is specified. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>checker.retention.default</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>checker.retention.default = 10y</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This option specifies the default time frame after which all checksum checks are removed from the database (defaults to 10 years). This means that after 10 years, all successful or unsuccessful matches are removed from the database. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>checker.retention.CHECKSUM_MATCH</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>checker.retention.CHECKSUM_MATCH = 8w</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This option specifies the time frame after which a successful match will be removed from your DSpace database (defaults to 8 weeks). This means that after 8 weeks, all successful matches are automatically deleted from your database (in order to keep that database table from growing too large). </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-ItemExportandDownloadSettings"></a>Item Export and Download Settings</h3>

<p>It is possible for an authorized user to request a complete export and download of a DSpace item in a compressed zip file. This zip file may contain the following:<br/>
dublin_core.xml<br/>
license.txt<br/>
contents <em>(listing of the contents)</em><br/>
handle <em>file itself and the extract file if available</em></p>

<p>The configuration settings control several aspects of this feature:</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>org.dspace.app.itemexport.work.dir</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>org.dspace.app.itemexport.work.dir = ${dspace.dir}/exports</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The directory where the exports will be done and compressed. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>org.dspace.app.itemexport.download.dir</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>org.dspace.app.itemexport.download.dir = ${dspace.dir}/exports/download</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note </td>
<td class='confluenceTd'> The directory where the compressed files will reside and be read by the downloader. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>org.dspace.app.itemexport.life.span.hours</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>org.dspace.app.itemexport.life.span.hours = 48</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note </td>
<td class='confluenceTd'> The length of time in hours each archive should live for. When new archives are created this entry is used to delete old ones. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>org.dspace.app.itemexport.max.size</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>org.dspace.app.itemexport.max.size = 200</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note </td>
<td class='confluenceTd'> The maximum size in Megabytes (Mb) that the export should be. This is enforced before the compression. Each bitstream's size in each item being exported is added up, if their cumulative sizes are more than this entry the export is not kicked off. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-SubscriptionEmails"></a>Subscription Emails</h3>

<p>DSpace, through some advanced installation and setup, is able to send out an email to collections that a user has subscribed. The user who is subscribed to a collection is emailed each time an item id added or modified. The following property key controls whether or not a user should be notified of a modification.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>eperson.subscription.onlynew</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>eperson.subscription.onlynew = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> For backwards compatibility, the subscription emails by default include any modified items. The property key is COMMENTED OUT by default. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-BatchMetadataEditing"></a>Batch Metadata Editing</h3>

<p>The following configurations allow the administrator extract from the DSpace database a set of records for editing by a metadata export. It provides an easier way of editing large collections.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>bulkedit.valueseparator</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>bulkedit.valueseparator = &#124;&#124;</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational note </td>
<td class='confluenceTd'> The delimiter used to separate values within a single field. For example, this will place the double pipe between multiple authors appearing in one record (Smith, William &#124;&#124; Johannsen, Susan). This applies to any metadata field that appears more than once in a record. The user can change this to another character. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>bulkedit.fieldseparator</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>bulkedit.fieldseparator = ,</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational note </td>
<td class='confluenceTd'> The delimiter used to separate fields (defaults to a comma for CSV). Again, the user could change it something like '$'. If you wish to use a tab, semicolon, or hash (#) sign as the delimiter, set the value to be <tt>tab</tt>, <tt>semicolon</tt> or <tt>hash</tt>. 
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">bulkedit.fieldseparator = tab</pre>
</div></div>
<p> </p></td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>bulkedit.gui-item-limit</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>bulkedit.gui-item-limit = 20</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational note </td>
<td class='confluenceTd'> When using the WEBUI, this sets the limit of the number of items allowed to be edited in one processing. There is no limit when using the CLI. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>bulkedit.ignore-on-export</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">bulkedit.ignore-on-export = dc.date.accessioned, \
                            dc.date.available, \
                            dc.date.updated, dc.description.provenance</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational note </td>
<td class='confluenceTd'> Metadata elements to exclude when exporting via the user interfaces, or when using the command line version and not using the &#45;a (all) option. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-HidingMetadata"></a>Hiding Metadata</h3>

<p>It is now possible to hide metadata from public consumption that is only available to the Administrator.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>metadata.hide.dc.description.provenance</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>metadata.hide.dc.description.provenance = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Hides the metadata in the property key above except to the administrator. Fields named here are hidden in the following places UNLESS the logged-in user is an Administrator:
<ol>
	<li>XMLUI metadata XML view, and Item splash pages (long and short views).</li>
	<li>JSPUI Item splash pages</li>
	<li>OAI-PMH server, "oai_dc" format. (Note: Other formats are *<b>not</b>&#42; affected.)To designate a field as hidden, add a property here in the form: <tt>metadata.hide.SCHEMA.ELEMENT.QUALIFIER = true</tt>.  This default configuration hides the <tt>dc.description.provenance</tt> field, since that usually contains email addresses which ought to be kept private and is mainly of interest to administrators.</li>
</ol>
</td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-SettingsfortheSubmissionProcess"></a>Settings for the Submission Process</h3>

<p>These settings control two aspects of the submission process: thesis submission permission and whether or not a bitstream file is required when submitting to a collection.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.submit.blocktheses</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.submit.blocktheses = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Controls whether or not that the submission should be marked as a thesis. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.submit.upload.required</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.submit.upload.required = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Whether or not a file is <b>required</b> to be uploaded during the "Upload" step in the submission process. The default is true. If set to "false", then the submitter (human being) has the option to skip the uploading of a file. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-ConfiguringCreativeCommonsLicense"></a>Configuring Creative Commons License</h3>

<p>This enables the Creative Commons license step in the submission process of the JSP User Interface (JSPUI). Submitters are given an opportunity to select a Creative Common license to accompany the item. Creative Commons license govern the use of the content. For further details, refer to the Creative Commons website at <a href="http://creativecommons.org" title="http://creativecommons.org">http://creativecommons.org</a> .</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.submit.enable-cc</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.submit.enable-cc = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> <tt>Set key to "false" if you are not using CC License. Set key to "true" if you are using CC License.</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.submit.cc-jurisdiction</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.submit.cc-jurisdiction = nz</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Should a jurisdiction be used? If so, which one? See <a href="http://creativecommons.org/international/" title="http://creativecommons.org/international/">http://creativecommons.org/international/</a> for a list of possible codes (e.g. nz = New Zealand, uk = England and Wales, jp = Japan) </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-WEBUserInterfaceConfigurations"></a>WEB User Interface Configurations</h3>

<p>General Web User Interface Configurations<br/>
In this section of Configuration, we address the agnostic WEB User Interface that is used for JSP UI and XML UI. Some of the configurations will give information towards customization or refer you to the appropriate documentation.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.browse.thubnail.show</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.browse.thubnail.show = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Controls whether to display thumbnails on browse and search result pages. If you have customized the Browse columnlist, then you must also include a "thumbnail" column in your configuration. &#95;(This configuration property key is not used by XMLUI. To show thumbnails using XMLUI, you need to create a theme which displays them).&#95; </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.browse.thumbnail.maxheight</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.browse.thumbnail.maxheight = 80</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This property determines the maximum height of the browse/search thumbnails in pixels (px). This only needs to be set if the thumbnails are required to be smaller than the dimensions of thumbnails generated by MediaFilter. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.browse.thumbnail.maxwidth</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.browse.thumbnail.maxwidth = 80</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This determines the maximum width of the browse/search thumbnails in pixels (px). This only needs to be set if the thumbnails are required to be smaller than the dimensions of thumbnails generated by MediaFilter. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.item.thumbnail.show</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.item.thumbnail.show = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This determines whether or not to display the thumbnail against each bitstream. <em>(This configuration property key is not used by XMLUI. To show thumbnails using XMLUI, you need to create a theme which displays them).</em> </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.browse.thumbnail.linkbehavior</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.browse.thumbnail.linkbehavior = item</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This determines where clicks on the thumbnail in browse and search screens should lead. The only values currently supported are "item" or "bitstream", which will either take the user to the item page, or directly download the bitstream. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>thumbnail.maxwidth</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>thumbnail.maxwidth = 80</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This property sets the maximum width of generated thumbnails that are being displayed on item pages. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>thumbnail.maxheight</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>thumbnail.maxheight = 80</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This property sets the maximum height of generated thumbnails that are being displayed on item pages. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.preview.enabled</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.preview.enabled = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Whether or not the user can "preview" the image. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.preview.maxwidth</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.preview.maxwidth = 600</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This property sets the maximum width for the preview image. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.preview.maxheight</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.preview.maxheight = 600</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This property sets the maximum height for the preview image. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.preview.brand</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.preview.brand = My Institution Name</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is the brand text that will appear with the image. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.preview.brand.abbrev</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.preview.brand.abbrev = MyOrg</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> An abbreviated form of the full Branded Name. This will be used when the preview image cannot fit the normal text. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.preview.brand.height</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.preview.brand.height = 20</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The height (in px) of the brand. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.preview.brand.font</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.preview.brand.font = SansSerif</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This property sets the font for your Brand text that appears with the image. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.preview.brand.fontpoint</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.preview.brand.fontpoint = 12</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This property sets the font point (size) for your Brand text that appears with the image. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.preview.dc</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.preview.dc = rights</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The Dublin Core field that will display along with the preview. This field is optional. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.strengths.show</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.strengths.show = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Determines if communities and collections should display item counts when listed. The default behavior if omitted, is true. <em>(This configuration property key is not used by XMLUI. To show thumbnails using XMLUI, you need to create a theme which displays them).</em> </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.strengths.cache</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.strengths.cache = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> When showing the strengths, should they be counted in real time, or fetched from the cache. Counts fetched in real time will perform an actual count of the database contents every time a page with this feature is requested, which will not scale. If you set the property key is set to cache ("true") you must run the following command periodically to update the count: <tt>/[dspace]/bin/dspace itemcounter</tt>. The default is to count in real time (set to "false"). </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-BrowseIndexConfiguration"></a>Browse Index Configuration</h3>

<p>The browse indexes for DSpace can be extensively configured. This section of the configuration allows you to take control of the indexes you wish to browse, and how you wish to present the results. The configuration is broken into several parts: defining the indexes, defining the fields upon which users can sort results, defining truncation for potentially long fields (e.g. authors), setting cross-links between different browse contexts (e.g. from an author's name to a complete list of their items), how many recent submissions to display, and configuration for item mapping browse.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.browse.index.</tt>&lt;<em>n</em><tt>&gt;</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> {{webui.browse.index.1 = dateissued:metadata:dc.date.issued:date:full }} </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is an example of how one "Defines the Indexes". See Defining the Indexes in the next sub-section. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.itemlist.sort-option.</tt>&lt;<em>n</em><tt>&gt;</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.itemlist.sort-option.1 = title:dc.title:title</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is an example of how one "Defines the Sort Options". See Defining Sort Options in the following sub-section. </td>
</tr>
</tbody></table>
</div>


<h4><a name="Configuration-DefiningtheIndexes."></a>Defining the Indexes.</h4>

<p>DSpace arrives with four default indexes already defined: author, title, date issued, and subjects. Users may also define additional indexes or re-configure the current indexes for different levels of specificity. For example, the default entries that appear in the <em>dspace.cfg</em> as default installation:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.browse.index.1 = dateissued:metadata:dc.date.issued:date:full
webui.browse.index.2 = author:metadata:dc.contributor.*:text
webui.browse.index.3 = title:metadata:dc.title:title:full
webui.browse.index.4 = subject:metadata:dc.subject.*:text
#webui.browse.index.5 = dateaccessioned:item:dateaccessioned</pre>
</div></div>
<p>The format of each entry is <tt>webui.browse.index.&lt;n&gt; = &lt;index name&gt;:&lt;metadata&gt;:&lt;schema prefix&gt;.&lt;element&gt;.&lt;qualifier&gt;:&lt;data-type field&gt;:&lt;sort option&gt;</tt>. Please notice that the punctuation is paramount in typing this property key in the <tt>dspace.cfg</tt> file. The following table explains each element:</p>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> <b>Element</b> </th>
<th class='confluenceTh'> <b>Definition and Options (if available)</b> </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>webui.browse.index.</tt>{&lt;<em>n</em><tt>&gt;</tt> </td>
<td class='confluenceTd'> <em>n</em> is the index number. The index numbers must start from 1 and increment continuously by 1 thereafter. Deviation from this will cause an error during install or a configuration update. So anytime you add a new browse index, remember to increase the number. (Commented out index numbers may be used over again). </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;index name&gt;</tt> </td>
<td class='confluenceTd'> The name by which the index will be identified. You will need to update your Messages.properties file to match this field. (The form used in the Messages.properties file is: <tt>browse.type.metadata.&lt;index name&gt;</tt> . </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;metadata&gt;</tt> </td>
<td class='confluenceTd'> Only two options are available: "<tt>metadata</tt>" or "<tt>item</tt>" </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;schema prefix&gt;</tt> </td>
<td class='confluenceTd'> The schema used for the field to be index. The default is dc (for Dublin Core). </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;element&gt;</tt> </td>
<td class='confluenceTd'> The schema element. In Dublin Core, for example, the author element is referred to as "Contributor". The user should consult the default Dublin Core Metadata Registry table in Appendix A. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;qualifier&gt;</tt> </td>
<td class='confluenceTd'> This is the qualifier to the &lt;element&gt; component. The user has two choices: an asterisk "<b>" or a proper qualifier of the element. The asterisk is a wildcard and causes DSpace to index all types of the schema element. For example, if you have the element "contributor" and the qualifier "</b>" then you would index all contributor data regardless of the qualifier. Another example, you have the element "subject" and the qualifier "lcsh" would cause the indexing of only those fields that have the qualifier "lcsh". (This means you would only index Library of Congress Subject Headings and not all data elements that are subjects. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;datatype field&gt;</tt> </td>
<td class='confluenceTd'> This refers to the datatype of the field: <br class="atl-forced-newline" />
<tt>date</tt> the index type will be treated as a date object <br class="atl-forced-newline" />
<tt>title</tt> the index type will be treated like a title, which will include a link to the item page <br class="atl-forced-newline" />
<tt>text</tt> the index type will be treated as plain text. If single mode is specified then this will link to the full mode list </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;index display&gt;</tt> </td>
<td class='confluenceTd'> Choose <tt>full</tt> or <tt>single</tt>. This refers to the way that the index will be displayed in the browse listing. "Full" will be the full item list as specified by <tt>webui.itemlist.columns</tt> ; "single" will be a single list of only the indexed term. </td>
</tr>
</tbody></table>
</div>


<p>If you are customizing this list beyond the default, you will need to insert the text you wish to appear in the navigation and on link and buttons. You need to edit the <tt>Messages.properties</tt> file. The form of the parameter(s) in the file:<br/>
<tt>browse.type.&lt;index name&gt;</tt></p>

<h4><a name="Configuration-DefiningSortOptions"></a>Defining Sort Options</h4>

<p>Sort options will be available when browsing a list of items (i.e. only in "full" mode, not "single" mode). You can define an arbitrary number of fields to sort on, irrespective of which fields you display using <em>web.itemlist.columns</em>. For example, the default entries that appear in the <em>dspace.cfg</em> as default installation:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.itemlist.sort-option.1 = title:dc.title:title
webui.itemlist.sort-option.2 = dateissued:dc.date.issued:date
webui.itemlist.sort-option.3 = dateaccessioned:dc.date.accessioned:date</pre>
</div></div>
<p>The format of each entry is <tt>web.browse.sort-option.&lt;n&gt; = &lt;option name&gt;:&lt;schema prefix&gt;.&lt;element&gt;.&lt;qualifier&gt;:&lt;datatype&gt;</tt>. Please notice the punctuation used between the different elements. The following table explains the each element:</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> <b>Element</b> </th>
<th class='confluenceTh'> <b>Definition and Options (if available)</b> </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>webui.browse.index.</tt><tt><em>n</em></tt> </td>
<td class='confluenceTd'> <em>n</em> is an arbitrary number you choose. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;option name&gt;</tt> </td>
<td class='confluenceTd'> The name by which the sort option will be identified. This may be used in later configuration or to locate the message key (found in <em>Messages.properties</em> file) for this index. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;schema prefix&gt;</tt> </td>
<td class='confluenceTd'> The schema used for the field to be index. The default is dc (for Dublin Core). </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;element&gt;</tt> </td>
<td class='confluenceTd'> The schema element. In Dublin Core, for example, the author element is referred to as "Contributor". The user should consult the default Dublin Core Metadata Registry table in Appendix A. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;qualifier&gt;</tt> </td>
<td class='confluenceTd'> This is the qualifier to the &lt;element&gt; component. The user has two choices: an asterisk "*" or a proper qualifier of the element. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;datatype field&gt;</tt> </td>
<td class='confluenceTd'> This refers to the datatype of the field: <br class="atl-forced-newline" />
<tt>date</tt> the sort type will be treated as a date object <br class="atl-forced-newline" />
<tt>text</tt> the sort type will be treated as plain text. </td>
</tr>
</tbody></table>
</div>



<h4><a name="Configuration-BrowseIndexNormalizationRuleConfiguration"></a>Browse Index Normalization Rule Configuration</h4>

<p>Normalization Rules are those rules that make it possible for the indexes to intermix entries without regard to case sensitivity. By default, the display of metadata in the browse indexes are case-sensitive. In the example below, you retrieve separate entries:<br/>
Twain, Marktwain, markTWAIN, MARK<br/>
However, clicking through from either of these will result in the same set of items (i.e., any item that contains either representation in the correct field).</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.browse.metadata.case-insensitive</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.browse.metadata.case-insensitive = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This controls the normalization of the index entry. Uncommenting the option (which is commented out by default) will make the metadata items case-insensitive. This will result in a single entry in the example above. However, the value displayed may be any one of the above depending on what representation was present in the first item indexed. </td>
</tr>
</tbody></table>
</div>


<p>At the present time, you would need to edit your metadata to clean up the index presentation.</p>


<h4><a name="Configuration-OtherBrowseOptions"></a>Other Browse Options</h4>

<p>We set other browse values in the following section.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.browse.value_columns.max</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.browse.value_columns.max = 500</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This sets the options for the size (number of characters) of the fields stored in the database. The default is 0, which is unlimited size for fields holding indexed data. Some database implementations (e.g. Oracle) will enforce their own limit on this field size. Reducing the field size will decrease the potential size of your database and increase the speed of the browse, but it will also increase the chance of mis-ordering of similar fields. The values are commented out, but proposed values for reasonably performance versus result quality. This affects the size of field for the browse value (this will affect display, and value sorting ) </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.browse.sort_columns.max</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.browse.sort_columns.max = 200</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Size of field for hidden sort columns (this will affect only sorting, not display). Commented out as default. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.browse.value_columns.omission_mark</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.browse.value_columns.omission_mark = ...</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Omission mark to be placed after truncated strings in display. The default is "...". </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>plugin.named.org.dspace.sort.OrderFormatDelegate</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.named.org.dspace.sort.OrderFormatDelegate = \
org.dspace.sort.OrderFormatTitleMarc21=title</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This sets the option for how the indexes are sorted. All sort normalizations are carried out by the OrderFormatDelegate. The plugin manager can be used to specify your own delegates for each datatype. The default datatypes (and delegates) are:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">author = org.dspace.sort.OrderFormatAuthor
title  = org.dspace.sort.OrderFormatTitle
text   = org.dspace.sort.OrderFormatText</pre>
</div></div>
<p>If you redefine a default datatype here, the configuration will be used in preferences to the default. However, if you do not explicitly redefine a datatype, then the default will still be used in addition to the datatypes you do specify. As of DSpace release 1.5.2, the multi-lingual MARC21 title ordering is configured as default, as shown in the example above. To use the previous title ordering (before release 1.5.2), comment out the configuration in your <em>dspace.cfg</em> file. </p></td>
</tr>
</tbody></table>
</div>



<h4><a name="Configuration-BrowseIndexAuthorityControlConfiguration"></a>Browse Index Authority Control Configuration</h4>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.browse.index.</tt>&lt;<em>n</em><tt>&gt;</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.browse.index.5 = lcAuthor:metadataAuthority:dc.contributor.author:authority</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'>&nbsp;</td>
</tr>
</tbody></table>
</div>


<h3><a name="Configuration-Author%28Multiplemetadatavalue%29Display"></a>Author (Multiple metadata value) Display</h3>

<p>This section actually applies to any field with multiple values, but authors are the define case and example here.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.browse.author-field</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.browse.author-field = dc.contributor.&#42;</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This defines which field is the author/editor, etc. listing. </td>
</tr>
</tbody></table>
</div>


<p>Replace <tt>dc.contributor.&#42;</tt> with another field if appropriate. The field should be listed in the configuration for <tt>webui.itemlist.columns</tt>, otherwise you will not see its effect. It must also be defined in <tt>webui.itemlist.columns</tt> as being of the datatype <em>text</em> otherwise the functionality will be overridden by the specific data type feature. (This setting is not used by the XMLUI as it is controlled by your theme).</p>

<p>Now that we know which field is our author or other multiple metadata value field we can provide the option to truncate the number of values displayed by default. We replace the remaining list of values with "et al" or the language pack specific alternative. Note that this is just for the default, and users will have the option of changing the number displayed when they browse the results. See the following table:</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.browse.author-limit</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.browse.author-limit = &lt;</tt><tt><em>n</em></tt><tt>&gt;</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: &#124; Where <tt>&lt;</tt><tt><em>n</em></tt><tt>&gt;</tt> is an integer number of values to be displayed. Use <tt>&#45;1</tt> for unlimited (the default value). </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-LinkstoOtherBrowseContexts"></a>Links to Other Browse Contexts</h3>

<p>We can define which fields link to other browse listings. This is useful, for example, to link an author's name to a list of just that author's items. The effect this has is to create links to browse views for the item clicked on. If it is a "single" type, it will link to a view of all the items which share that metadata element in common (i.e. all the papers by a single author). If it is a "full" type, it will link to a view of the standard full browse page, starting with the value of the link clicked on.</p>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.browse.link.</tt><tt><em>n</em></tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.browse.link.1 = author:dc.contributor.&#42;</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is used to configure which fields should link to other browse listings. This should be associated with the name of one of the browse indexes (<tt>webui.browse.index.n</tt>) with a metadata field listed in <tt>webui.itemlist.columns</tt> above. If this condition is not fulfilled, cross-linking will not work. Note also that crosslinking only works for metadata fields not tagged as <tt>title</tt> in <tt>webui.itemlist.columns</tt>. </td>
</tr>
</tbody></table>
</div>


<p>The format of the property key is <em>webui.browse.link.&lt;n&gt; = &lt;index name&gt;:&lt;display column metadata&gt;</em> Please notice the punctuation used between the elements.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<th class='confluenceTh'> <b>Element</b> </th>
<th class='confluenceTh'> <b>Definition and Options (if available)</b> </th>
</tr>
<tr>
<td class='confluenceTd'> <tt>webui.browse.link.</tt><tt><em>n</em></tt> </td>
<td class='confluenceTd'> {{<em>n</em> is an arbitrary number you choose </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;index name&gt;</tt> </td>
<td class='confluenceTd'> This need to match your entry for the index name from <em>webui.browse.index</em> property key. </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>&lt;display column metadata&gt;</tt> </td>
<td class='confluenceTd'> Use the DC element (and qualifier) </td>
</tr>
</tbody></table>
</div>


<p>Examples of some browse links used in a real DSpace installation instance:</p>
<table class="sectionMacro" border="0" cellpadding="5" cellspacing="0" width="100%"><tbody><tr>
<td class="confluenceTd" valign="top" width="60%">
<p><tt>webui.browse.link.1 = author:dc.contributor.&#42;</tt></p></td>
<td class="confluenceTd" valign="top" width="40%"><p>Creates a link for all types of contributors (authors, editors, illustrators, others, etc.)</p></td></tr></tbody></table>
<table class="sectionMacro" border="0" cellpadding="5" cellspacing="0" width="100%"><tbody><tr>
<td class="confluenceTd" valign="top" width="60%">
<p><tt>webui.browse.link.2 = subject:dc.subject.lcsh</tt></p></td>
<td class="confluenceTd" valign="top" width="40%"><p>Creates a link to subjects that are Library of Congress only. In this case, you have a browse index that contains only LC Subject Headings</p></td></tr></tbody></table>
<table class="sectionMacro" border="0" cellpadding="5" cellspacing="0" width="100%"><tbody><tr>
<td class="confluenceTd" valign="top" width="60%"><p><tt>webui.browse.link.3 = series:dc.relation.ispartofseries</tt></p></td>
<td class="confluenceTd" valign="top" width="40%"><p>Creates a link for the browse index "Series". Please note this is again, a customized browse index and not part of the DSpace distributed release.</p></td></tr></tbody></table>

<h3><a name="Configuration-RecentSubmissions"></a>Recent Submissions</h3>

<p>This allows us to define which index to base Recent Submission display on, and how many we should show at any one time. This uses the PluginManager to automatically load the relevant plugin for the Community and Collection home pages. Values given in examples are the defaults supplied in <em>dspace.cfg</em></p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>recent.submission.sort-option</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>recent.submission.sort-option = dateaccessioned</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> First is to define the sort name (from <em>webui.browse.sort-options</em>) to use for displaying recent submissions. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>recent.submissions.count</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>recent.submissions.count = 5</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Defines how many recent submissions should be displayed at any one time. </td>
</tr>
</tbody></table>
</div>


<p>There will be the need to set up the processors that the PluginManager will load to actually perform the recent submissions query on the relevant pages. This is already configured by default <em>dspace.cfg</em> so there should be no need for the administrator/programmer to worry about this.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.sequence.org.dspace.plugin.CommunityHomeProcessor = \
        org.dspace.app.webui.components.RecentCommunitySubmissions

plugin.sequence.org.dspace.plugin.CollectionHomeProcessor = \
        org.dspace.app.webui.components.RecentCollectionSubmissions</pre>
</div></div>


<h3><a name="Configuration-SubmissionLicenseSubstitutionVariables"></a>Submission License Substitution Variables</h3>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> 
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.named.org.dspace.content.license.
     LicenseArgumentFormatter</pre>
</div></div>
<p> (property key broken up for display purposes only) </p></td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.named.org.dspace.content.license.LicenseArgumentFormatter = \
	org.dspace.content.license.SimpleDSpaceObjectLicenseFormatter = collection, \
	org.dspace.content.license.SimpleDSpaceObjectLicenseFormatter = item, \
	org.dspace.content.license.SimpleDSpaceObjectLicenseFormatter = eperson</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> It is possible include contextual information in the submission license using substitution variables. The text substitution is driven by a plugin implementation. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-SyndicationFeed%28RSS%29Settings"></a>Syndication Feed (RSS) Settings</h3>

<p>This will enable syndication feeds links display on community and collection home pages. This setting is not used by the XMLUI, as you enable feeds in your theme.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.feed.enable</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.feed.enable = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> By default, RSS feeds are set to true &#40;on) . Change key to "false" to disable. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.feed.items</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.feed.items = 4</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Defines the number of DSpace items per feed (the most recent submissions) </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.feed.cache.size</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.feed.cache.size = 100</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Defines the maximum number of feeds in memory cache. Value of "<tt>0</tt>" will disable caching. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.feed.cache.age</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.feed.cache.age = 48</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Defines the number of hours to keep cached feeds before checking currency. The value of "<em>0</em>" will force a check with each request. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.feed.formats</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.feed.formats = rss_1.0,rss_2.0,atom_1.0</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Defines which syndication formats to offer. You can use more than one; use a comma-separated list. The following list are the available values: rss_0.90, rss_0.91, rss_0.92, rss_0.93, rss_0.94, rss_1.0, rss_2.0, atom_1.0. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.feed.localresolve</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.feed.localresolve = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> By default, (set to false), URLs returned by the feed will point at the global handle resolver (e.g. <a href="http://hdl.handle.net/123456789/1">http://hdl.handle.net/123456789/1</a>). If set to <b><em>true</em></b> the local server URLs are used (e.g. <a href="http://myserver.myorg/handle/123456789/1">http://myserver.myorg/handle/123456789/1</a>). </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.feed.item.title</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.feed.item.title = dc.title</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This property customizes each single-value field displayed in the feed information for each item. Each of the fields takes a <b>single</b> metadata field. The form of the key is &lt;scheme prefix&gt;.&lt;element&gt;.&lt;qualifier&gt; In place of the qualifier, one may leave it blank to exclude any qualifiers or use the wildcard "*" to include all qualifiers for a particular element. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.feed.item.date</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.feed.item.date = dc.date.issued</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This property customizes each single-value field displayed in the feed information for each item. Each of the fields takes a <b>single</b> metadata field. The form of the key is &lt;scheme prefix&gt;.&lt;element&gt;.&lt;qualifier&gt; In place of the qualifier, one may leave it blank to exclude any qualifiers or use the wildcard "*" to include all qualifiers for a particular element. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.feed.item.description</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.feed.item.description = dc.title, dc.contributor.author, \
           dc.contributor.editor, dc.description.<span class="code-keyword">abstract</span>, \
           dc.description</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> One can customize the metadata fields to show in the feed for each item's description. Elements are displayed in the order they are specified in <em>dspace.cfg</em>.Like other property keys, the format of this property key is: <em>webui.feed.item.description = &lt;scheme prefix&gt;.&lt;element&gt;.&lt;qualifier&gt;</em>. In place of the qualifier, one may leave it blank to exclude any qualifiers or use the wildcard "*" to include all qualifiers for a particular element. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.feed.item.author</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.feed.item.author = dc.contributor.author</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The name of field to use for authors (Atom only); repeatable. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.feed.logo.url</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.feed.logo.url = ${dspace.url}/themes/mysite/images/mysite-logo.png</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Customize the image icon included with the site-wide feeds. This must be an absolute URL. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.feed.item.dc.creator</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.feed.item.dc.creator = dc.contributor.author</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This optional property adds <em>structured</em> DC elements as XML elements to the feed description. They are not the same thing as, for example, <em>webui.feed.item.description</em>. Useful when a program or stylesheet will be transforming a feed and wants separate author, description, date, etc. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.feed.item.dc.date</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.feed.item.dc.date = dc.date.issued</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This optional property adds <em>structured</em> DC elements as XML elements to the feed description. They are not the same thing as, for example, <em>webui.feed.item.description</em>. Useful when a program or stylesheet will be transforming a feed and wants separate author, description, date, etc. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.feed.item.dc.description</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.feed.item.dc.description = dc.description.abstract</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This optional property adds <em>structured</em> DC elements as XML elements to the feed description. They are not the same thing as, for example, <em>webui.feed.item.description</em>. Useful when a program or stylesheet will be transforming a feed and wants separate author, description, date, etc. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-OpenSearchSupport"></a>OpenSearch Support</h3>

<p>OpenSearch is a small set of conventions and documents for describing and using "search engines", meaning any service that returns a set of results for a query. See extensive description in the <em>Business Layer section</em> of the documentation.</p>

<p>Please note that for result data formatting, OpenSearch uses Syndication Feed Settings (RSS). So, even if Syndication Feeds <b>are not</b> enable, they <b>must</b> be configured to enable OpenSearch. OpenSearch uses all the configuration properties for DSpace RSS to determine the mapping of metadata fields to feed fields. Note that a new field for authors has been added (used in Atom format only).</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.enable</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.enable = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Whether or not OpenSearch is enabled. By default, the feature is disabled. Change the property key to 'true' to enable. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.uicontext</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.uicontext = simple-search</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> <tt>Context for HTML request URLs. Change only for non-standard servlet mapping.</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.svccontext</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.svccontext = open-search/</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Context for RSS/Atom request URLs. Change only for non-standard servlet mapping. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.autolink</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.autolink = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Present autodiscovery link in every page head. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.validity</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.validity = 48</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Number of hours to retain results before recalculating. This applies to the Manakin interface only. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.shortname</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.shortname = DSpace</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> A short name used in browsers for search service. It should be sixteen (16) or fewer characters. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.longname</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.longname = ${dspace.name</tt>} </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> A longer name up to 48 characters. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.description</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.description = ${dspace.name} DSpace repository</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> <tt>Brief service description</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.faviconurl</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> &#95;websvc.opensearch.faviconurl = <a href="http://www.dspace.org/images/favicon.ico_">http://www.dspace.org/images/favicon.ico&#95;</a> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Location of favicon for service, if any. They must by 16 x 16 pixels. You can provide your own local favicon instead of the default. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.samplequery</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.samplequery = photosynthesis</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Sample query. This should return results. You can replace the sample query with search terms that should actually yield results in your repository. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.tags</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>websc.opensearch.tags = IR DSpace</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Tags used to describe search service. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.formats</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>websvc.opensearch.formats = html,atom,rss</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Result formats offered. Use one or more comma-separated from the list: html, atom, rss. Please note that html is required for auto discovery in browsers to function, and must be the first in the list if present. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-ContentInlineDispositionThreshold"></a>Content Inline Disposition Threshold</h3>

<p>The following configuration is used to change the disposition behavior of the browser. That is, when the browser will attempt to open the file or download it to the user-specified location. For example, the default size is 8MB. When an item being viewed is larger than 8MB, the browser will download the file to the desktop (or wherever you have it set to download) and the user will have to open it manually.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.content_disposition_threshold</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example value: </td>
<td class='confluenceTd'> <tt>webui.content_disposition_threshold = 8388608</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The default value is set to 8MB. This property key applies to the JSPUI interface. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.content_disposition_threshold</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.content_disposition_threshold = 8388608</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The default value is set to 8MB. This property key applies to the XMLUI (Manakin) interface. </td>
</tr>
</tbody></table>
</div>


<p>Other values are possible:<br/>
4 MB = 41943048 MB = 838860816 MB = 16777216</p>

<h3><a name="Configuration-MultifileHTMLDocument%2FSiteSettings"></a>Multi-file HTML Document/Site Settings</h3>

<p>The setting is used to configure the "depth" of request for html documents bearing the same name.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.html.max-depth-guess</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.html.max-depth-guess = 3</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> When serving up composite HTML items in the JSP UI, how deep can the request be for us to serve up a file with the same name? For example, if one receives a request for "<em>foo/bar/index.html</em>" and one has a bitstream called just "<em>index.html</em>", DSpace will serve up the former bitstream (<em>foo/bar/index.html</em>) for the request if <em>webui.html.max-depth-guess</em> is 2 or greater. If <em>webui.html.max-depth-guess</em> is 1 or less, then DSpace would not serve that bitstream, as the depth of the file is greater. If webui.html.max-depth-guess is zero, the request filename and path must always exactly match the bitstream name. The default is set to 3. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.html.max-depth-guess</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.html.max-depth-guess = 3</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> When serving up composite HTML items in the XMLUI, how deep can the request be for us to serve up a file with the same name? For example, if one receives a request for "<em>foo/bar/index.html</em>" and one has a bitstream called just "<em>index.html</em>", DSpace will serve up the former bitstream (<em>foo/bar/index.html</em>) for the request if <em>webui.html.max-depth-guess</em> is 2 or greater. If <em>xmlui.html.max-depth-guess</em> is 1 or less, then DSpace would not serve that bitstream, as the depth of the file is greater. If &#95;webui.html.max-depth-guess &#95;is zero, the request filename and path must always exactly match the bitstream name. The default is set to 3. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-SitemapSettings"></a>Sitemap Settings</h3>

<p>To aid web crawlers index the content within your repository, you can make use of sitemaps.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>sitemap.dir</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sitemap.dir = ${dspace.dir}/sitemaps</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The directory where the generate sitemaps are stored. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>sitemap.engineurls</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> &#95;sitemap.engineurls = <a href="http://www.google.com/webmasters/sitemaps/ping?sitemap=_">http://www.google.com/webmasters/sitemaps/ping?sitemap=&#95;</a> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Comma-separated list of search engine URLs to 'ping' when a new Sitemap has been created. Include everything except the Sitemap UL itself (which will be URL-encoded and appended to form the actual URL 'pinged').Add the following to the above parameter if you have an application ID with Yahoo: <em><a href="http://search.yahooapis.com/SiteExplorererService/V1/updateNotification?appid=REPLACE_ME?url=_">http://search.yahooapis.com/SiteExplorererService/V1/updateNotification?appid=REPLACE_ME?url=&#95;</a></em><em>. (Replace the component &#95;REPLACE_ME</em> with your application ID). There is no known 'ping' URL for MSN/Live search. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-AuthorityControlSettings"></a>Authority Control Settings</h3>

<p>Two new features of DSpace 1.6 fall under the header of Authority Control: Choice Management and Authority Control of Item ("DC") metadata values. Authority control is a fully optional feature in DSpace 1.6. Implemented out of the box are the Library of Congress Names service, and the Sherpa Romeo authority plugin.</p>

<p>For an in-depth description of this feature, please consult: <a href="http://wiki.dspace.org/index.php/Authority_Control_of_Metadata_Values" title="http://wiki.dspace.org/index.php/Authority_Control_of_Metadata_Values">http://wiki.dspace.org/index.php/Authority_Control_of_Metadata_Values</a></p>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>plugin.named.org.dspace.content.authority.ChoiceAuthority</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.named.org.dspace.content.authority.ChoiceAuthority = \
	org.dspace.content.authority.SampleAuthority = Sample, \
 	org.dspace.content.authority.LCNameAuthority = LCNameAuthority, \
 	org.dspace.content.authority.SHERPARoMEOPublisher = SRPublisher, \
 	org.dspace.content.authority.SHERPARoMEOJournalTitle = SRJournalTitle</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> <tt>&#45;&#45;</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>plugin.selfnamed.org.dspace.content.authority.ChoiceAuthority</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.selfnamed.org.dspace.content.authority.ChoiceAuthority = \
	org.dspace.content.authority.DCInputAuthority</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>lcname.url</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>lcname.url =</tt> <tt><a href="http://alcme.oclc.org/srw/search/lcnaf_">http://alcme.oclc.org/srw/search/lcnaf&#95;</a></tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Location (URL) of the Library of Congress Name Service </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>sherpa.romeo.url</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sherpa.romeo.url =</tt> <tt><a href="http://www.sherpa.ac.uk/romeo/api24.php_">http://www.sherpa.ac.uk/romeo/api24.php&#95;</a></tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Location (URL) of the SHERPA/RoMEO authority plugin </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>authority.minconfidence</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>authority.minconfidence = ambiguous</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This sets the default lowest confidence level at which a metadata value is included in an authority-controlled browse (and search) index. It is a symbolic keyword, one of the following values (listed in descending order): accepted, uncertain, ambiguous, notfound, failed, rejected, novalue, unset. See <tt>org.dspace.content.authority.Choices</tt> source for descriptions. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.lookup.select.size</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.lookup.select.size = 12</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This property sets the number of selectable choices in the Choices lookup popup </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-JSPUIUploadFileSettings"></a>JSPUI Upload File Settings</h3>

<p>To alter these properties for the XMLUI, please consult the Cocoon specific configuration at /WEB-INF/cocoon/properties/core.properties.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>upload.temp.dir</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>upload.temp.dir = ${dspace.dir}/upload</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This property sets where DSpace temporarily stores uploaded files. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>upload.max</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>upload.max = 536870912</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Maximum size of uploaded files in bytes. A negative setting will result in no limit being set. The default is set for 512Mb. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-JSPWebInterface%28JSPUI%29Settings"></a>JSP Web Interface (JSPUI) Settings</h3>

<p>The following section is limited to JSPUI. If the user wishes to use XMLUI settings, please refer to Chapter 7: XMLUI Configuration and Customization.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.licence_bundle.show</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.licence_bundle.show = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Sets whether to display the contents of the license bundle (often just the deposit license in the standard DSpace installation). </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.itemdisplay.default</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.itemdisplay.<span class="code-keyword">default</span> = dc.title, dc.title.alternative, \
           dc.contributor.*, dc.subject, dc.data.issued(date), \
           dc.publisher, dc.identifier.citation, \
           dc.relation.ispartofseries, dc.description.<span class="code-keyword">abstract</span>, \
           dc.description, dc.identifier.govdoc, \
           dc.identifier.uri(link), dc.identifier.isbn, \
           dc.identifier.issn, dc.identifier.ismn, dc.identifier </pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This is used to customize the DC metadata fields that display in the item display (the brief display) when pulling up a record. The format is: <tt>&lt;schema&gt;.&lt;element&gt;.&lt;_optional_qualifier&gt;</tt> .  In place of the qualifier, one can use the wildcard "*" to include all fields of the same element, or, leave it blank for unqualified elements. Additionally, two additional options are available for behavior/rendering: (date) and (link). See the following examples: <br class="atl-forced-newline" />
<br class="atl-forced-newline" />
<tt>dc.title</tt> = Dublin Core element 'title' (unqualified) <br class="atl-forced-newline" />
<tt>dc.title.alternative</tt> = DC element 'title', qualifier 'alternative' <br class="atl-forced-newline" />
<tt>dc.title.&#42;</tt> = All fields with Dublin Core element 'title' (any or no qualifier) <br class="atl-forced-newline" />
<tt>dc.identifier.uri(link)</tt> = DC identifier.uri, rendered as a link <br class="atl-forced-newline" />
<tt>dc.date.issued(date)</tt> = DC date.issued, rendered as a date <br class="atl-forced-newline" />
The <tt>Messages.properties</tt> file controls how the fields defined above will display to the user. If the field is missing from the &#95;Messages.properties&#95; file, it will not be displayed. Look in <tt>Messages.properties}}under {{metadata.dc.&lt;field&gt;</tt>. Example: <br class="atl-forced-newline" />
<tt>metadata.dc.contributor.other       = Authors</tt> <br class="atl-forced-newline" />
<tt>metadata.dc.contributor.author      = Authors</tt> <br class="atl-forced-newline" />
<tt>metadata.dc.title.&#42;                 = Title</tt> <br class="atl-forced-newline" />
<b>Please note:</b> The order in which you place the values to the property key control the order in which they will display to the user on the outside world. (See the Example Value above). </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.resolver.1.urn
webui.resolver.1.baseurl
webui.resolver.2.urn
webui.resolver.2.baseurl</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.resolver.1.urn = doi
webui.resolver.1.baseurl = http:<span class="code-comment">//dx.doi.org/
</span>webui.resolver.2.urn = hdl
webui.resolver.2.baseurl = http:<span class="code-comment">//hdl.handle.net/</span></pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> When using "resolver" in <em>webui.itemdisplay</em> to render identifiers as resolvable links, the base URL is take from &lt;code&gt;webui.resolver.&lt;n&gt;.baseurl&lt;code&gt; where &lt;code&gt;webui.resolver.&lt;n&gt;.baseurl&lt;code&gt; matches the urn specified in the metadata value. The value is appended to the "baseurl" as is, so the baseurl needs to end with the forward slash almost in any case. If no urn is specified in the value it will be displayed as simple text. For the doi and hdl urn defaults values are provided, respectively <a href="http://dc.doi.org">http://dc.doi.org</a> and <a href="http://hdl.handle.net">http://hdl.handle.net</a> are used. If a metadata value with style "doi", "handle" or "resolver" matches a URL already, it is simply rendered as a link with no other manipulation. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>plugin.single.org.dspace.app.webui.util.StyleSelection</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.single.org.dspace.app.webui.util.StyleSelection = \
  org.dspace.app.web.util.CollectionStyleSelection
  #org.dspace.app.web.util.MetadataStyleSelection</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Specify which strategy to use for select the style for an item. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.itemdisplay.thesis.collections</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.itemdisplay.thesis.collections = 123456789/24, 123456789/35</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Specify which collections use which views by Handle. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.itemdisplay.metadata-style
webui.itemdisplay.metadata-style</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.itemdisplay.metadata-style = schema.element[.qualifier|.*]
webui.itemdisplay.metadata-style = dc.type</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Specify which metadata to use as name of the style </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.itemlist.columns</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.itemlist.columns = thumbnail, dc.date.issued(date), dc.title, \
          dc.contributor.*</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Customize the DC fields to use in the item listing page. Elements will be displayed left to right in the order they are specified here. The form is &lt;schema prefix&gt;.&lt;element&gt;[.&lt;qualifier&gt; &#124; .*][(date)], ... <br class="atl-forced-newline" />
Although not a requirement, it would make sense to include among the listed fields at least the date and title fields as specified by the&#42; <b><em>webui.browse.index.</em></b> configuration options in the next section mentioned. (cf.) <br class="atl-forced-newline" />
If you have enabled thumbnails (webui.browse.thumbnail.show), you must also include a 'thumbnail' entry in your columns this is where the thumbnail will be displayed. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.itemlist.width</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.itemlist.width = &#42;, 130, 60%, 40%</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> You can customize the width of each column with the following line--you can have numbers (pixels) or percentages. For the 'thumbnail' column, a setting of '*' will use the max width specified for browse thumbnails (cf. <tt>webui.browse.thumbnail.maxwidth, thumbnail.maxwidth</tt>) </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">webui.itemlist.browse.&lt;index name&gt;.sort.&lt;sort name&gt;.columns
webui.itemlist.sort.&lt;sort name&gt;.columns
webui.itemlist.browse.&lt;browse name&gt;.columns
webui.itemlist.&lt;sort or index name&gt;.columns</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> &#95;}} </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> You can override the DC fields used on the listing page for a given browse index and/or sort option. As a sort option or index may be defined on a field that isn't normally included in the list, this allows you to display the fields that have been indexed/sorted on. There are a number of forms the configuration can take, and the order in which they are listed below is the priority in which they will be used (so a combination of an index name and sort name will take precedence over just the browse name).In the last case, a sort option name will always take precedence over a browse index name. Note also, that for any additional columns you list, you will need to ensure there is an <em>itemlist.&lt;field name&gt;</em> entry in the messages file. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.itemlist.dateaccessioned.columns</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.itemlist.dateaccessioned.columns = thumbnail, dc.date.accessioned(date), dc.title, dc.contributor.&#42;</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This would display the date of the accession in place of the issue date whenever the dateaccessioned browsed index or sort option is selected. Just like <em>webui.itemlist.columns</em>, you will need to include a 'thumbnail' entry to display the thumbnails in the item list. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.itemlist.dateaccessioned.widths</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.itemlist.dateaccessioned.widths = &#42;, 130, 60%, 40%</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> As in the aforementioned property key, you can customize the width of the columns for each configured column list, substituting '<em>.widths</em>' for '<em>.columns</em>' in the property name. See the setting for <em>webui.itemlist.widths</em> for more information. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.itemlist.tablewidth</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.itemlist.tablewidth = 100%</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> You can also set the overall size of the item list table with the following setting. It can lead to faster table rendering when used with the column widths above, but not generally recommended. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.session.invalidate</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.session.invalidate = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Enable or disable session invalidation upon login or logout. This feature is enabled by default to help prevent session hijacking but may cause problems for shibboleth, etc. If omitted, the default value is '<em>true</em>'. [Only used for JSPUI authentication]. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-JSPUIConfiguringMultilingualSupport"></a>JSPUI Configuring Multilingual Support</h3>

<p>[i18n &#8211; Locales]</p>

<h4><a name="Configuration-SettingtheDefaultLanguagefortheApplication"></a>Setting the Default Language for the Application</h4>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>default.locale</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>default.locale = en</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The default language for the application is set with this property key. This is a locale according to i18n and might consist of country, country_language or country_language_variant. If no default locale is defined, then the server default locale will be used. The format of a local specifier is described here: <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/Locale.html">http://java.sun.com/j2se/1.4.2/docs/api/java/util/Locale.html</a> </td>
</tr>
</tbody></table>
</div>



<h4><a name="Configuration-SupportingMoreThanOneLanguage"></a>Supporting More Than One Language</h4>

<h5><a name="Configuration-Changesindspace.cfg"></a>Changes in dspace.cfg</h5>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.supported.locale</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.supported.locale = en, de</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> <tt>or perhaps</tt> </td>
<td class='confluenceTd'> <tt>webui.supported.locals = en, en_ca, de</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> All the locales that are supported by this instance of DSpace. Comma separated list. </td>
</tr>
</tbody></table>
</div>


<p>The table above, if needed and is used will result in:</p>

<ul>
	<li>a language switch in the default header</li>
	<li>the user will be enabled to choose his/her preferred language, this will be part of his/her profile</li>
	<li>wording of emails
	<ul>
		<li>mails to registered users, e.g. alerting service will use the preferred language of the user</li>
		<li>mails to unregistered users, e.g. suggest an item will use the language of the session</li>
	</ul>
	</li>
	<li>according to the language selected for the session, using dspace-admin Edit News will edit the news file of the language according to session</li>
</ul>


<h5><a name="Configuration-RelatedFiles"></a>Related Files</h5>

<p>If you set webui.supported.locales make sure that all the related additional files for each language are available. <em>LOCALE</em> should correspond to the locale set in <em>webui.supported.locales</em>, e. g.: for webui.supported.locales = en, de, fr, there should be:</p>

<ul>
	<li><tt>[dspace-source]/dspace/modules/jspui/src/main/resources/Messages.properties</tt></li>
	<li><tt>[dspace-source]/dspace/modules/jspui/src/main/resources/Messages_en.properties</tt></li>
	<li><tt>[dspace-source]/dspace/modules/jspui/src/main/resources/Messages_de.properties</tt></li>
	<li><tt>[dspace-source]/dspace/modules/jspui/src/main/resources/Messages_fr.properties</tt>
<br class="atl-forced-newline" />
Files to be localized:</li>
</ul>


<ul>
	<li><tt>[dspace-source]/dspace/modules/jspui/src/main/resources/Messages_LOCALE.properties</tt></li>
	<li><tt>[dspace-source]/dspace/config/input-forms_LOCALE.xml</tt></li>
	<li><tt>[dspace-source]/dspace/config/default_LOCALE.license - should be pure ASCII</tt></li>
	<li><tt>[dspace-source]/dspace/config/news-top_LOCALE.html</tt></li>
	<li><tt>[dspace-source]/dspace/config/news-side_LOCALE.html</tt></li>
	<li><tt>[dspace-source]/dspace/config/emails/change_password_LOCALE</tt></li>
	<li><tt>[dspace-source]/dspace/config/emails/feedback_LOCALE</tt></li>
	<li><tt>[dspace-source]/dspace/config/emails/internal_error_LOCALE</tt></li>
	<li><tt>[dspace-source]/dspace/config/emails/register_LOCALE</tt></li>
	<li><tt>[dspace-source]/dspace/config/emails/submit_archive_LOCALE</tt></li>
	<li><tt>[dspace-source]/dspace/config/emails/submit_reject_LOCALE</tt></li>
	<li><tt>[dspace-source]/dspace/config/emails/submit_task_LOCALE</tt></li>
	<li><tt>[dspace-source]/dspace/config/emails/subscription_LOCALE</tt></li>
	<li><tt>[dspace-source]/dspace/config/emails/suggest_LOCALE</tt></li>
	<li><tt>[dspace]/webapps/jspui/help/collection-admin_LOCALE.html - in html keep the jump link as original; must be copied to [dspace-source]/dspace/modules/jspui/src/main/webapp/help</tt></li>
	<li><tt>[dspace]/webapps/jspui/help/index_LOCALE.html - must be copied to [dspace-source]/dspace/modules/jspui/src/main/webapp/help</tt></li>
	<li><tt>[dspace]/webapps/jspui/help/site-admin_LOCALE.html - must be copied to [dspace-source]/dspace/modules/jspui/src/main/webapp/help</tt></li>
</ul>




<h3><a name="Configuration-JSPUIItemMapper"></a>JSPUI Item Mapper</h3>

<p>Because the item mapper requires a primitive implementation of the browse system to be present, we simply need to tell that system which of our indexes defines the author browse (or equivalent) so that the mapper can list authors' items for mapping</p>

<p>Define the index name (from <em>webui.browse.index</em>) to use for displaying items by author.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>itemmap.author.index</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>itemmap.author.index = author</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> If you change the name of your author browse field, you will also need to update this property key. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-DisplayofGroupMembership"></a>Display of Group Membership</h3>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.mydspace.showgroupmembership</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.mydspace.showgroupmembership = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> To display group membership set to "true". If omitted, the default behavior is false. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-JSPUI%2FXMLUISFXServer"></a>JSPUI / XMLUI  SFX Server</h3>

<p>SFX Server is an OpenURL Resolver.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>sfx.server.url</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sfx.server.url</tt> = <tt><a href="http://sfx.myu.edu:8888/sfx?">http://sfx.myu.edu:8888/sfx?</a></tt> </td>
</tr>
<tr>
<td class='confluenceTd'>&nbsp;</td>
<td class='confluenceTd'> <tt>sfx.server.url</tt> = <tt><a href="http://worldcatlibraries.org/registry/gateway?">http://worldcatlibraries.org/registry/gateway?</a></tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> SFX query is appended to this URL. If this property is commented out or omitted, SFX support is switched off. </td>
</tr>
</tbody></table>
</div>


<p>All the parameters mapping are defined in <tt>[dspace]/config/sfx.xml</tt> file. The program will check the parameters in <tt>sfx.xml</tt> and retrieve the correct metadata of the item.  It will then parse the string to your resolver.</p>

<p>For the following example, the program will search the first query-pair which is DOI of the item. If there is a DOI for that item, your retrieval results will be, for example:<br/>
<tt><a href="http://researchspace.auckland.ac.nz/handle/2292/5763">http://researchspace.auckland.ac.nz/handle/2292/5763</a></tt></p>

<p>Example. For setting DOI in <tt>sfx.xml</tt></p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java"> &lt;query-pairs&gt;
          &lt;field&gt;
                &lt;querystring&gt;rft_id=info:doi/&lt;/querystring&gt;
                &lt;dc-schema&gt;dc&lt;/dc-schema&gt;
                &lt;dc-element&gt;identifier&lt;/dc-element&gt;
                &lt;dc-qualifier&gt;doi&lt;/dc-qualifier&gt;
          &lt;/field&gt;
        &lt;/query-pairs&gt;</pre>
</div></div>

<p>If there is no DOI for that item, it will search next query-pair based on the <tt>[dspace]/config/sfx.xml</tt> and then so on.</p>

<p>Example of using ISSN, volume, issue for item without DOI<br/>
<tt>[http://researchspace.auckland.ac.nz/handle/2292/4947]</tt></p>

<p>For parameter passing to the <tt>&lt;querystring&gt;</tt></p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;querystring&gt;rft_id=info:doi/&lt;/querystring&gt;</pre>
</div></div>

<p>Please refer to these:<br/>
<tt>[http://ocoins.info/cobgbook.html]</tt><br/>
<tt>[http://ocoins.info/cobg.html]</tt></p>

<p>Program assume wont get empty string for the item, as there will at least author, title for the item to pass to the resolver.</p>

<p>For contributor author, program maintains original DSpace SFX function of extracting authors first and last name.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">  &lt;field&gt;
  	  &lt;querystring&gt;rft.aulast=&lt;/querystring&gt;
  	  &lt;dc-schema&gt;dc&lt;/dc-schema&gt;
  	  &lt;dc-element&gt;contributor&lt;/dc-element&gt;
  	   	&lt;dc-qualifier&gt;author&lt;/dc-qualifier&gt;
 	&lt;/field&gt;
 	&lt;field&gt;
  		&lt;querystring&gt;rft.aufirst=&lt;/querystring&gt;
  	  &lt;dc-schema&gt;dc&lt;/dc-schema&gt;
          &lt;dc-element&gt;contributor&lt;/dc-element&gt;
          &lt;dc-qualifier&gt;author&lt;/dc-qualifier&gt;
 	&lt;/field&gt;</pre>
</div></div>


<h3><a name="Configuration-JSPUIItemRecommendationSetting"></a>JSPUI Item Recommendation Setting</h3>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.suggest.enable</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> webui.suggest.enable = true </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Show a link to the item recommendation page from item display page. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.suggest.loggedinusers.only</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.suggest.loggedinusers.only = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Enable only if the user is logged in. If this key commented out, the default value is false. </td>
</tr>
</tbody></table>
</div>



<p>H3. Controlled Vocabulary Settings</p>

<p>DSpace now supports controlled vocabularies to confine the set of keywords that users can use while describing items.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.controlledvocabulary.enable</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.controlledvocabulary.enable = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Enable or disable the controlled vocabulary add-on. WARNING: This feature is not compatible with WAI (it requires JavaScript to function). </td>
</tr>
</tbody></table>
</div>


<p>The need for a limited set of keywords is important since it eliminates the ambiguity of a free description system, consequently simplifying the task of finding specific items of information.</p>

<p>The controlled vocabulary add-on allows the user to choose from a defined set of keywords organized in an tree (taxonomy) and then use these keywords to describe items while they are being submitted.</p>

<p>We have also developed a small search engine that displays the classification tree (or taxonomy) allowing the user to select the branches that best describe the information that he/she seeks.</p>

<p>The taxonomies are described in XML following this (very simple) structure:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;node id=<span class="code-quote">"acmccs98"</span> label=<span class="code-quote">"ACMCCS98"</span>&gt;
    &lt;isComposedBy&gt;
        &lt;node id=<span class="code-quote">"A."</span> label=<span class="code-quote">"General Literature"</span>&gt;
            &lt;isComposedBy&gt;
                &lt;node id=<span class="code-quote">"A.0"</span> label=<span class="code-quote">"GENERAL"</span>/&gt;
                &lt;node id=<span class="code-quote">"A.1"</span> label=<span class="code-quote">"INTRODUCTORY AND SURVEY"</span>/&gt;
            &lt;/isComposedBy&gt;
        &lt;/node&gt;
    &lt;/isComposedBy&gt;
&lt;/node&gt;</pre>
</div></div>

<p>You are free to use any application you want to create your controlled vocabularies. A simple text editor should be enough for small projects. Bigger projects will require more complex tools. You may use Proteg to create your taxonomies, save them as OWL and then use a XML Stylesheet (XSLT) to transform your documents to the appropriate format. Future enhancements to this add-on should make it compatible with standard schemas such as OWL or RDF.</p>

<p>In order to make DSpace compatible with WAI 2.0, the add-on is <b>turned off</b> by default (the add-on relies strongly on JavaScript to function). It can be activated by setting the following property in <tt>dspace.cfg</tt>:</p>

<p><tt>webui.controlledvocabulary.enable = true</tt></p>

<p>New vocabularies should be placed in <tt>[dspace]/config/controlled-vocabularies/</tt> and must be according to the structure described. A validation XML Schema can be downloaded here.</p>

<p>Vocabularies need to be associated with the correspondent DC metadata fields. Edit the file <tt>[dspace]/config/input-forms.xml</tt> and place a <em>"vocabulary"</em> tag under the <em>"field"</em> element that you want to control. Set value of the <em>"vocabulary"</em> element to the name of the file that contains the vocabulary, leaving out the extension (the add-on will only load files with extension "*.xml"). For example:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;field&gt;
    &lt;dc-schema&gt;dc&lt;/dc-schema&gt;
    &lt;dc-element&gt;subject&lt;/dc-element&gt;
    &lt;dc-qualifier&gt;&lt;/dc-qualifier&gt;
    &lt;!-- An input-type of twobox MUST be marked as repeatable --&gt;
    &lt;repeatable&gt;<span class="code-keyword">true</span>&lt;/repeatable&gt;
    &lt;label&gt;Subject Keywords&lt;/label&gt;
    &lt;input-type&gt;twobox&lt;/input-type&gt;
    &lt;hint&gt; Enter appropriate subject keywords or phrases below. &lt;/hint&gt;
    &lt;required&gt;&lt;/required&gt;
    &lt;vocabulary [closed=<span class="code-quote">"<span class="code-keyword">false</span>"</span>]&gt;nsi&lt;/vocabulary&gt;
&lt;/field&gt;</pre>
</div></div>

<p>The vocabulary element has an optional boolean attribute <b>closed</b> that can be used to force input only with the javascript of controlled-vocabulary add-on. The default behavior (i.e. without this attribute) is as set <b>closed="false"</b>. This allow the user also to enter the value in free way.</p>

<p>The following vocabularies are currently available by default:</p>

<ul>
	<li><b>nsi</b> &#45; <em>nsi.xml</em> &#45; The Norwegian Science Index</li>
	<li><b>srsc</b> &#45; <em>srsc.xml</em> &#45; Swedish Research Subject Categories</li>
</ul>


<p>3. JSPUI Session Invalidation</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>webui.session.invalidate</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>webui.session.invalidate = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Enable or disable session invalidation upon login or logout. This feature is enabled by default to help prevent session hijacking but may cause problems for shibboleth, etc. If omitted, the default value is 'true'. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-XMLUISpecificConfiguration"></a>XMLUI Specific Configuration</h3>

<p>The DSpace digital repository supports two user interfaces: one based upon JSP technologies and the other based upon the Apache Cocoon framework. This section describes those configurations settings which are specific to the XMLUI interface based upon the Cocoon framework. <em>(Prior to DSpace Release 1.5.1 XMLUI was referred to Manakin. You may still see references to "Manakin")</em></p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.supported.locales</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.supported.locales = en, de</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> A list of supported locales for Manakin. Manakin will look at a user's browser configuration for the first language that appears in this list to make available to in the interface. This parameter is a comma separated list of Locales. All types of Locales country, country_language, country_language_variant. Note that if the appropriate files are not present (i.e. Messages_XX_XX.xml) then Manakin will fall back through to a more general language. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.force.ssl</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.force.ssl = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Force all authenticated connections to use SSL, only non-authenticated connections are allowed over plain http. If set to true, then you need to ensure that the '<em>dspace.hostname</em>' parameter is set to the correctly. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.user.registration</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.user.registration = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Determine if new users should be allowed to register. This parameter is useful in conjunction with Shibboleth where you want to disallow registration because Shibboleth will automatically register the user. Default value is true. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.user.editmetadata</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.user.editmetadata = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Determines if users should be able to edit their own metadata. This parameter is useful in conjunction with Shibboleth where you want to disable the user's ability to edit their metadata because it came from Shibboleth. Default value is true. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.user.assumelogon</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.user.assumelogon = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Determine if super administrators (those whom are in the Administrators group) can login as another user from the "edit eperson" page. This is useful for debugging problems in a running dspace instance, especially in the workflow process. The default value is false, i.e., no one may assume the login of another user. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.user.loginredirect</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.user.loginredirect = /profile</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> After a user has logged into the system, which url should they be directed? Leave this parameter blank or undefined to direct users to the homepage, or <em>/profile</em> for the user's profile, or another reasonable choice is <em>/submissions</em> to see if the user has any tasks awaiting their attention. The default is the repository home page. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.theme.allowoverrides</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.theme.allowoverrides = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Allow the user to override which theme is used to display a particular page. When submitting a request add the HTTP parameter "themepath" which corresponds to a particular theme, that specified theme will be used instead of the any other configured theme. Note that this is a potential security hole allowing execution of unintended code on the server, this option is only for development and debugging it should be turned off for any production repository. The default value unless otherwise specified is "false". </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.bundle.upload</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.bundle.upload = ORIGINAL, METADATA, THUMBNAIL, LICENSE, CC_LICENSE</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Determine which bundles administrators and collection administrators may upload into an existing item through the administrative interface. If the user does not have the appropriate privileges (add and write) on the bundle then that bundle will not be shown to the user as an option. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.community-list.render.full</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.community-list.render.full = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> On the community-list page should all the metadata about a community/collection be available to the theme. This parameter defaults to true, but if you are experiencing performance problems on the community-list page you should experiment with turning this option off. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.community-list.cache</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.community-list.cache = 12 hours</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Normally, Manakin will fully verify any cache pages before using a cache copy. This means that when the community-list page is viewed the database is queried for each community/collection to see if their metadata has been modified. This can be expensive for repositories with a large community tree. To help solve this problem you can set the cache to be assumed valued for a specific set of time. The downside of this is that new or editing communities/collections may not show up the website for a period of time. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.bistream.mods</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.bistream.mods = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Optionally, you may configure Manakin to take advantage of metadata stored as a bitstream. The MODS metadata file must be inside the "METADATA" bundle and named MODS.xml. If this option is set to 'true' and the bitstream is present then it is made available to the theme for display. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.bitstream.mets</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.bitstream.mets = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Optionally, you may configure Manakin to take advantage of metadata stored as a bitstream. The METS metadata file must be inside the "METADATA" bundle and named METS.xml. If this option is set to "true" and the bitstream is present then it is made available to the theme for display. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.google.analytics.key</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.google.analytics.key = UA-XXXXXX-X</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> If you would like to use Google Analytics to track general website statistics then use the following parameter to provide your analytics key. First sign up for an account at <a href="http://analytics.google.com" title="http://analytics.google.com">http://analytics.google.com</a>, then create an entry for your repositories website. Google Analytics will give you a snippet of javascript code to place on your site, inside that snip it is your Google Analytics key usually found in the line: &#95;uacct = "UA-XXXXXXX-X" Take this key (just the UA-XXXXXX-X part) and place it here in this parameter. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.controlpanel.activity.max</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.controlpanel.activity.max = 250</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Assign how many page views will be recorded and displayed in the control panel's activity viewer. The activity tab allows an administrator to debug problems in a running DSpace by understanding who and how their dspace is currently being used. The default value is 250. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>xmlui.controlpanel.activity.ipheader</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>xmlui.controlpanel.activity.ipheader = X-Forward-For</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Determine where the control panel's activity viewer receives an events IP address from. If your DSpace is in a load balanced environment or otherwise behind a context-switch then you will need to set the parameter to the HTTP parameter that records the original IP address. </td>
</tr>
</tbody></table>
</div>



<h3><a name="Configuration-OAIPMHConfigurationandActivation"></a>OAI-PMH Configuration and Activation</h3>

<p>In the following sections, you will learn how to configure OAI-PMH and activate additional OAI-PMH crosswalks. The user is also referred to 9.2OAI-PMH Data Provider for greater depth details of the program.</p>

<h4><a name="Configuration-OAIPMHConfiguration"></a>OAI-PMH Configuration</h4>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>oai.didl.maxresponse</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>oai.didle.maxresponse = 0</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Max response size for DIDL. This is the maximum size in bytes of the files you wish to enclose Base64 encoded in your responses, remember that the base64 encoding process uses a lot of memory. We recommend at most 200000 for answers of 30 records each on a 1 Gigabyte machine. Ultimately this will change to a streaming model and remove this restriction. Also please remember to allocate plenty of memory, at least 512 MB to your Tomcat. Optional: DSpace uses 100 records as the limit for the oai responses. You can alter this by changing <em>/[dspace-source]/dspace-oai/dspace-oai-api/src/main/java/org/dspace/app/oai/DSpaceOAICatalog.java</em> to codify the declaration: private final int MAX_RECORDS = 100 to private final int MAX_RECORDS = 30 </td>
</tr>
</tbody></table>
</div>



<h4><a name="Configuration-ActivatingAdditionalOAIPMHCrosswalks"></a>Activating Additional OAI-PMH Crosswalks</h4>

<p>DSpace comes with an unqualified DC Crosswalk used in the default OAI-PMH data provider. There are also other Crosswalks bundled with the DSpace distribution which can be activated by editing one or more configuration files. How to do this for each available Crosswalk is described below. The DSpace source includes the following crosswalk plugins available for use with OAI-PMH:</p>

<ul>
	<li><b><em>mets</em></b> &#45; The manifest document from a DSpace METS SIP.</li>
	<li><b><em>mods</em></b> &#45; MODS metadata, produced by the table-driven MODS dissemination crosswalk.</li>
	<li><b><em>qdc</em></b> &#45; Qualified Dublin Core, produced by the configurable QDC crosswalk. Note that this QDC does <em>not</em> include all of the DSpace "dublin core" metadata fields, since the XML standard for QDC is defined for a different set of elements and qualifiers.<br/>
OAI-PMH crosswalks based on Crosswalk Plugins are activated as follows:</li>
</ul>


<ol>
	<li>Uncomment the appropriate <tt>[dspace]/config/oaicat.properties</tt> of the form: <tt>Crosswalks.plugin_name=org.dspace.app.oai.PluginCrosswalk</tt> (where <tt>plugin_name</tt> is the actual plugin's name, e.g. "mets" or "qdc").  These lines are all near the bottom of the file.
	<ul>
		<li>You can also add a brand new custom crosswalk plugin.  Just make sure that the crosswalk plugin has a lower-case name (possibly in addition to its upper-case name) in the plugin configuration in <tt>dspace.cfg</tt>. Then add a line similar to above to the <tt>oaicat.properties</tt> file.</li>
	</ul>
	</li>
	<li>Restart your servlet container, e.g. Tomcat, for the change to take effect.</li>
	<li>Verify the Crosswalk is activated by accessing a URL such as <tt><a href="http://mydspace/oai/request?verb=ListRecords&amp;metadataPrefix=mets">http://mydspace/oai/request?verb=ListRecords&amp;metadataPrefix=mets</a></tt></li>
</ol>


<h5><a name="Configuration-DIDL"></a>DIDL</h5>

<p>By activating the DIDL provider, DSpace items are represented as MPEG-21 DIDL objects. These DIDL objects are XML documents that wrap both the Dublin Core metadata that describes the DSpace item and its actual bitstreams. A bitstream is provided inline in the DIDL object in a base64 encoded manner, and/or by means of a pointer to the bitstream. The data provider exposes DIDL objects via the metadataPrefix didl.</p>

<p>The crosswalk does not deal with special characters and purposely skips dissemination of the <em>license.txt</em> file awaiting a better understanding on how to map DSpace rights information to MPEG21-DIDL.</p>

<p>The DIDL Crosswalk can be activated as follows:</p>

<ol>
	<li>Uncomment the <tt>oai.didl.maxresponse</tt> configuration in <tt>dspace.cfg</tt></li>
	<li>Uncomment the DIDL Crosswalk entry from the <tt>[dspace]/config/oaicat.properties</tt> file</li>
	<li>Restart your servlet container, e.g. Tomcat, for the change to take effect.</li>
	<li>Verify the Crosswalk is activated by accessing a URL such as <tt><a href="http://mydspace/oai/request?verb=ListRecords&amp;metadataPrefix=didl">http://mydspace/oai/request?verb=ListRecords&amp;metadataPrefix=didl</a></tt></li>
</ol>



<h3><a name="Configuration-OAIOREHarvesterConfiguration"></a>OAI-ORE Harvester Configuration</h3>

<p>This section describes the parameters used in configuring the OAI-ORE harvester.</p>

<h4><a name="Configuration-OAIOREConfiguration"></a>OAI-ORE Configuration</h4>

<p>There are many possible configuration options for the OAI harvester. Most of them are technical and therefore omitted from the dspace.cfg file itself, using hard-coded defaults instead. However, should you wish to modify those values, including them in <em>dspace.cfg</em> will override the system defaults.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvester.eperson</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>harvester.eperson = admin@myu.edu</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The EPerson under whose authorization automatic harvesting will be performed. This field does not have a default value and must be specified in order to use the harvest scheduling system. This will most likely be the DSpace admin account created during installation. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>dspace.oai.url</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>dspace.oai.url =</tt> <tt><a href="http://myu.edu:8080/oai_">http://myu.edu:8080/oai&#95;</a></tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The base url of the OAI-PMH disseminator webapp (i.e. do not include the /request on the end). This is necessary in order to mint URIs for ORE Resource Maps. The default value of <tt>[http://$]{dspace.hostname}:8080/oai</tt> will work for a typical installation, but should be changed if appropriate. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>ore.authoritative.source</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>ore.authoritative.source = oai &#124; xmlui</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The webapp responsible for minting the URIs for ORE Resource Maps. If using oai, the dspace.oai.uri config value must be set. The URIs generated for ORE ReMs follow the following convention for both cases._baseURI/metadata/handle/theHandle/ore.xml}} </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvester.autoStart</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>harvester.autoStart = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Determines whether the harvest scheduler process starts up automatically when the XMLUI webapp is redeployed. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvester.oai.metadataformats.PluginName</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">harvester.oai.metadataformats.PluginName = \
http:<span class="code-comment">//www.openarchives.org/OAI/2.0/oai_dc/, Simple Dublin Core</span></pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This field can be repeated and serves as a link between the metadata formats supported by the local repository and those supported by the remote OAI-PMH provider. It follows the form <tt>harvester.oai.metadataformats.PluginName = NamespaceURI,Optional Display Name</tt> . The pluginName designates the metadata schemas that the harvester "knows" the local DSpace repository can support. Consequently, the PluginName must correspond to a previously declared ingestion crosswalk. The namespace value is used during negotiation with the remote OAI-PMH provider, matching it against a list returned by the ListMetadataFormats request, and resolving it to whatever metadataPrefix the remote provider has assigned to that namespace. Finally, the optional display name is the string that will be displayed to the user when setting up a collection for harvesting. If omitted, the PluginName:NamespaceURI combo will be displayed instead. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvester.oai.oreSerializationFormat.OREPrefix</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">harvester.oai.oreSerializationFormat.OREPrefix = \
http:<span class="code-comment">//www.w3.org/2005/Atom</span></pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> This field works in much the same way as <tt>harvester.oai.metadataformats.PluginName</tt> . The <tt>OREPrefix</tt> must correspond to a declared ingestion crosswalk, while the Namespace must be supported by the target OAI-PMH provider when harvesting content. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvester.timePadding</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>harvester.timePadding = 120</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Amount of time subtracted from the from argument of the PMH request to account for the time taken to negotiate a connection. Measured in seconds. Default value is 120. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvester.harvestFrequency</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>harvester.harvestFrequency = 720</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> How frequently the harvest scheduler checks the remote provider for updates. Should always be longer than &#95;timePadding &#95;. Measured in minutes. Default value is 720. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvester.minHeartbeat</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>harvester.minHeartbeat = 30</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The heartbeat is the frequency at which the harvest scheduler queries the local database to determine if any collections are due for a harvest cycle (based on the <em>harvestFrequency</em>) value. The scheduler is optimized to then sleep until the next collection is actually ready to be harvested. The <em>minHeartbeat</em> and <em>maxHeartbeat</em> are the lower and upper bounds on this timeframe. Measured in seconds. Default value is 30. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvester.maxHeartbeat</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>harvester.maxHeartbeat = 3600</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The heartbeat is the frequency at which the harvest scheduler queries the local database to determine if any collections are due for a harvest cycle (based on the <em>harvestFrequency</em>) value. The scheduler is optimized to then sleep until the next collection is actually ready to be harvested. The <em>minHeartbeat</em> and <em>maxHeartbeat</em> are the lower and upper bounds on this timeframe. Measured in seconds. Default value is 3600 (1 hour). </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvester.maxThreads</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>harvester.maxThreads = 3</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> How many harvest process threads the scheduler can spool up at once. Default value is 3. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvester.threadTimeout</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>harvester.threadTimeout = 24</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> How much time passes before a harvest thread is terminated. The termination process waits for the current item to complete ingest and saves progress made up to that point. Measured in hours. Default value is 24. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvester.unknownField</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>harvester.unkownField = fail &#124; add &#124; ignore</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> You have three (3) choices. When a harvest process completes for a single item and it has been passed through ingestion crosswalks for ORE and its chosen descriptive metadata format, it might end up with DIM values that have not been defined in the local repository. This setting determines what should be done in the case where those DIM values belong to an already declared schema. <em>Fail</em> will terminate the harvesting task and generate an error. <b><em>Ignore</em></b> will quietly omit the unknown fields. <b><em>Add</em></b> will add the missing field to the local repository's metadata registry. Default value: <b><em>fail</em></b>. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvester.unknownSchema</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>harvester.unknownSchema = fail &#124; add &#124; ignore</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> When a harvest process completes for a single item and it has been passed through ingestion crosswalks for ORE and its chosen descriptive metadata format, it might end up with DIM values that have not been defined in the local repository. This setting determines what should be done in the case where those DIM values belong to an unknown schema. <b>Fail</b> will terminate the harvesting task and generate an error. <b>Ignore</b> will quietly omit the unknown fields. <b>Add</b> will add the missing schema to the local repository's metadata registry, using the schema name as the prefix and "unknown" as the namespace. Default value: <b><em>fail</em></b>. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvester.acceptedHandleServer</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">harvester.acceptedHandleServer = \
hdl.handle.net, handle.test.edu</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> A harvest process will attempt to scan the metadata of the incoming items (identifier.uri field, to be exact) to see if it looks like a handle. If so, it matches the pattern against the values of this parameter. If there is a match the new item is assigned the handle from the metadata value instead of minting a new one. Default value: <em>hdl.handle.net</em>. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>harvester.rejectedHandlePrefix</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>harvester.rejectedHandlePrefix = 123456789, myeduHandle</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Pattern to reject as an invalid handle prefix (known test string, for example) when attempting to find the handle of harvested items. If there is a match with this config parameter, a new handle will be minted instead. Default value: <em>123456789</em>. </td>
</tr>
</tbody></table>
</div>




<h3><a name="Configuration-DSpaceSOLRStatisticsConfiguration"></a>DSpace SOLR Statistics Configuration</h3>

<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>solr.log.server</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>solr.log.server = ${dspace.baseUrl}/solr/statistics</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Is used by the SolrLogger Client class to connect to the SOLR server over http and perform updates and queries. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>solr.spidersfile</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>solr.spidersfile = ${dspace.dir}/config/spiders.txt</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Spiders file is utilized by the SolrLogger, this will be populated by running the following command:<tt>dsrun org.dspace.statistics.util.SpiderDetector &#45;i &lt;httpd log file&gt;</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>solr.dbfile</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>solr.dbfile = ${dspace.dir}/config/GeoLiteCity.dat</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The following refers to the GeoLiteCity database file utilized by the <em>LocationUtils</em> to calculate the location of client requests based on IP address. During the Ant build process (both <em>fresh_install</em> and <em>update</em>) this file will be downloaded from <a href="http://www.maxmind.com/app/geolitecity">http://www.maxmind.com/app/geolitecity</a> if a new version has been published or it is absent from your <tt>[dspace]/config</tt> directory. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>solr.resolver.timeout</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>solr.resolver.timeout = 200</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Timeout for the resolver in the DNS lookup time in milliseconds, defaults to 200 for backward compatibility; your system's default is usually set in <tt>/etc/resolv.conf</tt> and varies between 2 to 5 seconds, too high a value might result in solr exhausting your connection pool. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>statistics.item.authorization.admin</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>statistics.item.authorization.admin = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Enables access control restriction on DSpace Statistics pages, Restrictions are based on access rights to Community, Collection and Item Pages. This will require the user to sign on to see that statistics. Setting the statistics to "false" will make them publicly available. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>solr.statistics.logBots</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> {{solr.statistics.logBots = true }} </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Enable/disable logging of spiders in solr statistics.  If false, and IP matches an address in solr.spiderips.urls, event is not logged. If true, event will be logged with the 'isBot' field set to true (see <tt>solr.statistics.query.filter.&#42;</tt> for query filter options) Default value is true. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>solr.statistics.query.filter.spiderIp</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>solr.statistics.query.filter.spiderIp = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Controls solr statistics querying to filter out spider IPs.  False by default. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> {{solr.statistics.query.filter.isBot }} </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>solr.statistics.query.filter.isBot = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Controls solr statistics querying to look at "isBot" field to determine if record is a bot. True by default. </td>
</tr>
<tr>
<td class='confluenceTd'> Property: </td>
<td class='confluenceTd'> <tt>solr.spiderips.urls</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">solr.spiderips.urls = http:<span class="code-comment">//iplists.com/google.txt, \
</span>                      http:<span class="code-comment">//iplists.com/inktomi.txt, \
</span>                      http:<span class="code-comment">//iplists.com/lycos.txt, \
</span>                      http:<span class="code-comment">//iplists.com/infoseek.txt, \
</span>                      http:<span class="code-comment">//iplists.com/altavista.txt,\
</span>                      http:<span class="code-comment">//iplists.com/excite.txt, \
</span>                      http:<span class="code-comment">//iplists.com/misc.txt, \
</span>                      http:<span class="code-comment">//iplists.com/excite.txt, \
</span>                      http:<span class="code-comment">//iplists.com/misc.txt, \
</span>                      http:<span class="code-comment">//iplists.com/non_engines.txt</span></pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> URLs to download IP addresses of search engine spiders from </td>
</tr>
</tbody></table>
</div>




<h2><a name="Configuration-OptionalorAdvancedConfigurationSettings"></a>Optional or Advanced Configuration Settings</h2>

<p>The following section explains how to configure either optional features or advanced features that are not necessary to make DSpace "out-of-the-box"</p>

<h3><a name="Configuration-TheMetadataFormatandBitstreamFormatRegistries"></a>The Metadata Format and Bitstream Format Registries</h3>

<p>The <em>[dspace]/config/registries</em> directory contains three XML files. These are used to load the <em>initial</em> contents of the Dublin Core Metadata registry and Bitstream Format registry and SWORD metadata registry. After the initial loading (performed by <em>ant fresh_install</em> above), the registries reside in the database; the XML files are not updated.</p>

<p>In order to change the registries, you may adjust the XML files before the first installation of DSpace. On an already running instance it is recommended to change bitstream registries via DSpace admin UI, but the metadata registries can be loaded again at any time from the XML files without difficult. The changes made via admin UI are not reflected in the XML files.</p>

<h4><a name="Configuration-MetadataFormatRegistries"></a>Metadata Format Registries</h4>

<p>The default metadata schema is Dublin Core, so DSpace is distributed with a default Dublin Core Metadata Registry. Currently, the system requires that every item have a Dublin Core record.</p>

<p>There is a set of Dublin Core Elements, which is used by the system and should not be removed or moved to another schema, see Appendix: Default Dublin Core Metadata registry.</p>

<p><b>Note</b>: altering a Metadata Registry has no effect on corresponding parts, e.g. item submission interface, item display, item import and vice versa. Every metadata element used in submission interface or item import must be registered before using it.</p>

<p><b>Note</b> also that deleting a metadata element will delete all its corresponding values.</p>

<p>If you wish to add more metadata elements, you can do this in one of two ways. Via the DSpace admin UI you may define new metadata elements in the different available schemas. But you may also modify the XML file (or provide an additional one), and re-import the data as follows:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">[dspace]/bin/dsrun org.dspace.administer.MetadataImporter -f [xml file]</pre>
</div></div>
<p>The XML file should be structured as follows:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;dspace-dc-types&gt;
    &lt;dc-type&gt;
        &lt;schema&gt;dc&lt;/schema&gt;
        &lt;element&gt;contributor&lt;/element&gt;
        &lt;qualifier&gt;advisor&lt;/qualifier&gt;
        &lt;scope_note&gt;Use primarily <span class="code-keyword">for</span> thesis advisor.&lt;/scope_note&gt;
    &lt;/dc-type&gt;
&lt;/dspace-dc-types&gt;</pre>
</div></div>

<h4><a name="Configuration-BitstreamFormatRegistry"></a>Bitstream Format Registry</h4>

<p>The bitstream formats recognized by the system and levels of support are similarly stored in the bitstream format registry. This can also be edited at install-time via <em>[dspace]/config/registries/bitstream-formats.xml</em> or by the administration Web UI. The contents of the bitstream format registry are entirely up to you, though the system requires that the following two formats are present:</p>

<ul>
	<li><em>Unknown</em></li>
	<li><em>License</em><br/>
Deleting a format will cause any existing bitstreams of this format to be reverted to the unknown bitstream format.</li>
</ul>




<h3><a name="Configuration-XPDFFilter"></a>XPDF Filter</h3>

<p>This is an alternative suite of MediaFilter plugins that offers faster and more reliable text extraction from PDF Bitstreams, as well as thumbnail image generation. It replaces the built-in default PDF MediaFilter.</p>

<p>If this filter is so much better, why isn't it the default? The answer is that it relies on external executable programs which must be obtained and installed for your server platform. This would add too much complexity to the installation process, so it left out as an optional "extra" step.</p>

<h4><a name="Configuration-InstallationOverview"></a>Installation Overview</h4>

<p>Here are the steps required to install and configure the filters:</p>

<ol>
	<li>Install the xpdf tools for your platform, from the downloads at <a href="http://www.foolabs.com/xpdf/" title="http://www.foolabs.com/xpdf">http://www.foolabs.com/xpdf</a></li>
	<li>Acquire the Sun Java Advanced Imaging Tools and create a local Maven package.</li>
	<li>Edit DSpace configuration properties to add location of xpdf executables, reconfigure MediaFilter plugins.</li>
	<li>Build and install DSpace, adding &#45;Pxpdf-mediafilter-support to Maven invocation.</li>
</ol>


<h4><a name="Configuration-InstallXPDFTools"></a>Install XPDF Tools</h4>

<p>First, download the XPDF suite found at: <a href="http://www.foolabs.com/xpdf/" title="http://www.foolabs.com/xpdf">http://www.foolabs.com/xpdf</a> and install it on your server. The executables can be located anywhere, but make a note of the full path to each command.</p>

<p>You may be able to download a binary distribution for your platform, which simplifies installation. Xpdf is readily available for Linux, Solaris, MacOSX, Windows, NetBSD, HP-UX, AIX, and OpenVMS, and is reported to work on AIX, OS/2, and many other systems.</p>

<p>The only tools you <em>really</em> need are:</p>

<ul>
	<li><em>pdfinfo</em> &#45; displays properties and Info dict</li>
	<li><em>pdftotext</em> &#45; extracts text from PDF</li>
	<li><em>pdftoppm</em> &#45; images PDF for thumbnails</li>
</ul>


<h4><a name="Configuration-FetchandinstalljaiimageioJAR"></a>Fetch and install jai_imageio JAR</h4>

<p>Fetch and install the Java Advanced Imaging Image I/O Tools.</p>

<p>For AIX, Sun support has the following: "JAI has native acceleration for the above but it also works in pure Java mode. So as long as you have an appropriate JDK for AIX (1.3 or later, I believe), you should be able to use it. You can download any of them, extract just the jars, and put those in your $CLASSPATH."</p>

<p>Download the <em>jai_imageio</em> library version 1.0_01 or 1.1 found at: <a href="https://jai-imageio.dev.java.net/binary-builds.html#Stable_builds" title="https://jai-imageio.dev.java.net/binary-builds.html#Stable_builds">https://jai-imageio.dev.java.net/binary-builds.html#Stable_builds</a> .</p>

<p>For these filters you do NOT have to worry about the native code, just the JAR, so choose a download for any platform.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">curl -O http:<span class="code-comment">//download.java.net/media/jai-imageio/builds/release/1.1/jai_imageio-1_1-lib-linux-i586.tar.gz
</span>tar xzf jai_imageio-1_1-lib-linux-i586.tar.gz
</pre>
</div></div>
<p>The preceding example leaves the JAR in <b><em>jai_imageio-1_1/lib/jai_imageio.jar</em></b> . Now install it in your local Maven repository, e.g.: (changing the path after <em>file=</em> if necessary)</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">       mvn install:install-file                       \
          -Dfile=jai_imageio-1_1/lib/jai_imageio.jar  \
          -DgroupId=com.sun.media                     \
          -DartifactId=jai_imageio                    \
          -Dversion=1.0_01                            \
          -Dpackaging=jar                             \
          -DgeneratePom=<span class="code-keyword">true</span>
</pre>
</div></div>
<p>You may have to repeat this procedure for the <em>jai_core.jar</em> library, as well, if it is not available in any of the public Maven repositories. Once acquired, this command installs it locally:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">mvn install:install-file -Dfile=jai_core-1.1.2_01.jar  \
    -DgroupId=javax.media -DartifactId=jai_core -Dversion=1.1.2_01 -Dpackaging=jar -DgeneratePom=<span class="code-keyword">true</span></pre>
</div></div>

<h4><a name="Configuration-EditDSpaceConfiguration"></a>Edit DSpace Configuration</h4>

<p>First, be sure there is a value for <em>thumbnail.maxwidth</em> and that it corresponds to the size you want for preview images for the UI, e.g.: (<em>NOTE:</em> this code doesn't pay any attention to <em>thumbnail.maxheight</em> but it's best to set it too so the other thumbnail filters make square images.)</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">        # maximum width and height of generated thumbnails
        thumbnail.maxwidth= 80
        thumbnail.maxheight = 80</pre>
</div></div>
<p>Now, add the absolute paths to the XPDF tools you installed. In this example they are installed under <em>/usr/local/bin</em> (a logical place on Linux and MacOSX), but they may be anywhere.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">        xpdf.path.pdftotext = /usr/local/bin/pdftotext
        xpdf.path.pdftoppm = /usr/local/bin/pdftoppm
        xpdf.path.pdfinfo = /usr/local/bin/pdfinfo</pre>
</div></div>
<p>Change the MediaFilter plugin configuration to remove the old <em>org.dspace.app.mediafilter.PDFFilter</em> and add the new filters, e.g: (New sections are in bold)</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">        filter.plugins = \
        PDF Text Extractor, \
        PDF Thumbnail, \
        HTML Text Extractor, \
        Word Text Extractor, \
        JPEG Thumbnail
         plugin.named.org.dspace.app.mediafilter.FormatFilter = \
        org.dspace.app.mediafilter.XPDF2Text = PDF Text Extractor, \
        org.dspace.app.mediafilter.XPDF2Thumbnail = PDF Thumbnail, \
        org.dspace.app.mediafilter.HTMLFilter = HTML Text Extractor, \
        org.dspace.app.mediafilter.WordFilter = Word Text Extractor, \
        org.dspace.app.mediafilter.JPEGFilter = JPEG Thumbnail, \
        org.dspace.app.mediafilter.BrandedPreviewJPEGFilter = Branded Preview JPEG        </pre>
</div></div>
<p>Then add the input format configuration properties for each of the new filters, e.g.:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">filter.org.dspace.app.mediafilter.XPDF2Thumbnail.inputFormats = Adobe PDFfilter.org.dspace.app.mediafilter.XPDF2Text.inputFormats = Adobe PDF</pre>
</div></div>
<p>Finally, if you want PDF thumbnail images, don't forget to add that filter name to the <em>filter.plugins</em> property, e.g.:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">          filter.plugins = PDF Thumbnail,  PDF Text Extractor, ... </pre>
</div></div>

<h4><a name="Configuration-BuildandInstall"></a>Build and Install</h4>

<p>Follow your usual DSpace installation/update procedure, only add <em>&#45;Pxpdf-mediafilter-support</em> to the Maven invocation:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">     mvn -Pxpdf-mediafilter-support <span class="code-keyword">package</span>
     ant -Dconfig=\[dspace\]/config/dspace.cfg update</pre>
</div></div>


<h3><a name="Configuration-CreatinganewMedia%2FFormatFilter"></a>Creating a new Media/Format Filter</h3>

<h4><a name="Configuration-CreatingasimpleMediaFilter"></a>Creating a simple Media Filter</h4>

<p>New Media Filters <b>must implement</b> the <em>org.dspace.app.mediafilter.FormatFilter</em> interface. More information on the methods you need to implement is provided in the <em>FormatFilter.java</em> source file. For example:</p>

<p><tt>public class MySimpleMediaFilter implements FormatFilter</tt></p>

<p>Alternatively, you could extend the <em>org.dspace.app.mediafilter.MediaFilter</em> class, which just defaults to performing no pre/post-processing of bitstreams before or after filtering.</p>

<p><tt>public class MySimpleMediaFilter extends MediaFilter</tt></p>

<p>You must give your new filter a "name", by adding it and its name to the <em>plugin.named.org.dspace.app.mediafilter.FormatFilter</em> field in <em>dspace.cfg</em>. In addition to naming your filter, make sure to specify its input formats in the <em>filter.&lt;class path&gt;.inputFormats</em> config item. Note the input formats must match the <em>short description</em> field in the Bitstream Format Registry (i.e. <em>bitstreamformatregistry</em> table).</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.named.org.dspace.app.mediafilter.FormatFilter = \
        org.dspace.app.mediafilter.MySimpleMediaFilter = My Simple Text Filter, \ ...

filter.org.dspace.app.mediafilter.MySimpleMediaFilter.inputFormats =
        Text</pre>
</div></div>
<p>If you neglect to define the <em>inputFormats</em> for a particular filter, the <em>MediaFilterManager</em> will never call that filter, since it will never find a bitstream which has a format matching that filter's input format(s).</p>

<p>If you have a complex Media Filter class, which actually performs different filtering for different formats (e.g. conversion from Word to PDF <b>and</b> conversion from Excel to CSV), you should define this as described in Chapter 13.3.2.2 .</p>


<h4><a name="Configuration-CreatingaDynamicor%22SelfNamed%22FormatFilter"></a>Creating a Dynamic or "Self-Named" Format Filter</h4>

<p>If you have a more complex Media/Format Filter, which actually performs <b>multiple</b> filtering or conversions for different formats (e.g. conversion from Word to PDF <b>and</b> conversion from Excel to CSV), you should have define a class which implements the <em>FormatFilter</em> interface, while also extending the Chapter 13.3.2.2 <em>SelfNamedPlugin</em> class. For example:</p>

<p><tt>public class MyComplexMediaFilter extends SelfNamedPlugin implements FormatFilter</tt></p>

<p>Since <em>SelfNamedPlugins</em> are self-named (as stated), they must provide the various names the plugin uses by defining a getPluginNames() method. Generally speaking, each "name" the plugin uses should correspond to a different type of filter it implements (e.g. "Word2PDF" and "Excel2CSV" are two good names for a complex media filter which performs both Word to PDF and Excel to CSV conversions).</p>

<p>Self-Named Media/Format Filters are also configured differently in <em>dspace.cfg</em>. Below is a general template for a Self Named Filter (defined by an imaginary <em>MyComplexMediaFilter</em> class, which can perform both Word to PDF and Excel to CSV conversions):</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">#Add to a list of all Self Named filters
plugin.selfnamed.org.dspace.app.mediafilter.FormatFilter = \
        org.dspace.app.mediafilter.MyComplexMediaFilter
#Define input formats <span class="code-keyword">for</span> each <span class="code-quote">"named"</span> plugin <span class="code-keyword">this</span> filter <span class="code-keyword">implements</span>
        filter.org.dspace.app.mediafilter.MyComplexMediaFilter.Word2PDF.inputFormats = Microsoft Word
        filter.org.dspace.app.mediafilter.MyComplexMediaFilter.Excel2CSV.inputFormats = Microsoft Excel</pre>
</div></div>
<p>As shown above, each Self-Named Filter class must be listed in the <tt>plugin.selfnamed.org.dspace.app.mediafilter.FormatFilter</tt> item in <tt>dspace.cfg</tt>. In addition, each Self-Named Filter <b>must</b> define the input formats for <em>each named plugin</em> defined by that filter. In the above example the <em>MyComplexMediaFilter</em> class is assumed to have defined two named plugins, <tt>Word2PDF</tt> and <tt>Excel2CSV</tt>. So, these two valid plugin names ("Word2PDF" and "Excel2CSV") <b>must</b> be returned by the <tt>getPluginNames()</tt> method of the <tt>MyComplexMediaFilter</tt> class.</p>

<p>These named plugins take different input formats as defined above (see the corresponding <em>inputFormats</em> setting).</p>
<div class='panelMacro'><table class='noteMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="images/icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>If you neglect to define the <tt>inputFormats</tt> for a particular named plugin, the <tt>MediaFilterManager</tt> will never call that plugin, since it will never find a bitstream which has a format matching that plugin's input format(s).</td></tr></table></div>

<p>For a particular Self-Named Filter, you are also welcome to define additional configuration settings in <em>dspace.cfg</em>. To continue with our current example, each of our imaginary plugins actually results in a different output format (Word2PDF creates "Adobe PDF", while Excel2CSV creates "Comma Separated Values"). To allow this complex Media Filter to be even more configurable (especially across institutions, with potential different "Bitstream Format Registries"), you may wish to allow for the output format to be customizable for each named plugin. For example:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">#Define output formats <span class="code-keyword">for</span> each named plugin
filter.org.dspace.app.mediafilter.MyComplexMediaFilter.Word2PDF.output Format = Adobe PDF
filter.org.dspace.app.mediafilter.MyComplexMediaFilter.Excel2CSV.outputFormat = Comma Separated Values</pre>
</div></div>
<p>Any custom configuration fields in <em>dspace.cfg</em> defined by your filter are ignored by the <em>MediaFilterManager</em>, so it is up to your custom media filter class to read those configurations and apply them as necessary. For example, you could use the following sample Java code in your <em>MyComplexMediaFilter</em> class to read these custom <em>outputFormat</em> configurations from <em>dspace.cfg</em>:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">#Get <span class="code-quote">"outputFormat"</span> configuration from dspace.cfg
<span class="code-object">String</span> outputFormat =  ConfigurationManager.getProperty(MediaFilterManager.FILTER_PREFIX + <span class="code-quote">"."</span> + MyComplexMediaFilter.class.getName() + <span class="code-quote">"."</span> + <span class="code-keyword">this</span>.getPluginInstanceName() + <span class="code-quote">".outputFormat"</span>);</pre>
</div></div>


<h3><a name="Configuration-ConfiguringUsageInstrumentationPlugins"></a>Configuring Usage Instrumentation Plugins</h3>

<p>A usage instrumentation plugin is configured as a singleton plugin for the abstract class org.dspace.app.statistics.AbstractUsageEvent.</p>

<h4><a name="Configuration-ThePassivePlugin"></a>The Passive Plugin</h4>

<p>The Passive plugin is provided as the class org.dspace.app.statistics.PassiveUsageEvent. It absorbs events without effect. Use the Passive plugin when you have no use for usage event postings. This is the default if no plugin is configured.</p>


<h4><a name="Configuration-TheTabFileLoggerPlugin"></a>The Tab File Logger Plugin</h4>

<p>The Tab File Logger plugin is provided as the class org.dspace.app.statistics.UsageEventTabFileLogger. It writes event records to a file in tab-separated column format. If left unconfigured, an error will be noted in the DSpace log and no file will be produced. To specify the file path, provide an absolute path as the value for usageEvent.tabFileLogger.file in dspace.cfg.</p>


<h4><a name="Configuration-TheXMLLoggerPlugin"></a>The XML Logger Plugin</h4>

<p>The XML Logger plugin is provided as the class org.dspace.app.statistics.UsageEventXMLLogger. It writes event records to a file in a simple XML-like format. If left unconfigured, an error will be noted in the DSpace log and no file will be produced. To specify the file path, provide an absolute path as the value for usageEvent.xmlLogger.file in dspace.cfg.</p>



<h3><a name="Configuration-SWORDConfiguration"></a>SWORD Configuration</h3>

<p>SWORD (Simple Web-service Offering Repository Deposit) is a protocol that allows the remote deposit of items into repositories. DSpace implements the SWORD protocol via the 'sword' web application. The version of SWORD currently supported by DSpace is 1.3. The specification and further information can be downloaded from<a href="http://swordapp.org/" title="http://swordapp.org">http://swordapp.org</a>.</p>

<p>SWORD is based on the Atom Publish Protocol and allows service documents to be requested which describe the structure of the repository, and packages to be deposited.</p>
<div class='table-wrap'>
<table class='confluenceTable'><tbody>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>sword.mets-ingester.package-ingester</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sword.mets-ingester.package-ingester = METS</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The property key tell the SWORD METS implementation which package ingester to use to install deposited content. This should refer to one of the classes configured for:
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">                        plugin.named.org.dspace.content.packager.PackageIngester</pre>
</div></div>
<p>The value of sword.mets-ingester.package-ingester tells the system which named plugin for this interface should be used to ingest SWORD METS packages. </p></td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>mets.submission.crosswalk.EPDCX</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>mets.submission.crosswalk.EPDCX = SWORD</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Define the metadata type EPDCX (EPrints DC XML)to be handled by the SWORD crosswalk configuration. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>crosswalk.submission.SWORD.stylesheet</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>crosswalk.submission.SWORD.stylesheet = crosswalks/sword-swap-ingest.xsl</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Define the stylesheet which will be used by the self-named XSLTIngestionCrosswalk class when asked to load the SWORD configuration (as specified above). This will use the specified stylesheet to crosswalk the incoming SWAP metadata to the DIM format for ingestion. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>sword.deposit.url</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sword.deposit.url =</tt> <tt><a href="http://www.myu.ac.uk/sword/deposit_">http://www.myu.ac.uk/sword/deposit&#95;</a></tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The base URL of the SWORD deposit. This is the URL from which DSpace will construct the deposit location URLs for collections. The default is <em>{dspace.baseUrl}/sword/deposit</em>. In the event that you are not deploying DSpace as the ROOT application in the servlet container, this will generate incorrect URLs, and you should override the functionality by specifying in full as shown in the example value. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> {{sword.servicedocument.url }} </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> {{sword.servicedocument.url = <a href="http://www.myu.ac.uk/sword/servicedocument_">http://www.myu.ac.uk/sword/servicedocument&#95;</a> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The base URL of the SWORD service document. This is the URL from which DSpace will construct the service document location URLs for the site, and for individual collections. The default is <em>{dspace.baseUrl}/sword/servicedocument</em> . In the event that you are not deploying DSpace as the ROOT application in the servlet container, this will generate incorrect URLs, and you should override the functionality by specifying in full as shown in the example value. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>sword.media-link.url</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sword.media-link.url =</tt> <tt><a href="http://www.myu.ac.uk/sword/media-link_">http://www.myu.ac.uk/sword/media-link&#95;</a></tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The base URL of the SWORD media links. This is the URL which DSpace will use to construct the media link URLs for items which are deposited via sword. The default is {<tt>dspace.baseUrl}/sword/media-link</tt>. In the event that you are not deploying DSpace as the ROOT application in the servlet container, this will generate incorrect URLs, and you should override the functionality by specifying in full as shown in the example value. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>sword.generator.url</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sword.generator.url =</tt> <tt><a href="http://www.dspace.org/ns/sword/1.3.1_">http://www.dspace.org/ns/sword/1.3.1&#95;</a></tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The URL which identifies the sword software which provides the sword interface. This is the URL which DSpace will use to fill out the atom:generator element of its atom documents. The default is: {{[http://www.dspace.org/ns/sword/1.3.1&#95; </td>
<td class='confluenceTd'> [http://www.dspace.org/ns/sword/1.3.1_]]}}. If you have modified your sword software, you should change this URI to identify your own version. If you are using the standard dspace-sword module you will not, in general, need to change this setting. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>sword.updated.field</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sword.updated.field = dc.date.updated</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The metadata field in which to store the updated date for items deposited via SWORD. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>sword.slug.field</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sword.slug.field = dc.identifier.slug</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The metadata field in which to store the value of the slug header if it is supplied. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">sword.accept-packaging.METSDSpaceSIP.identifier
sword.accept-packaging.METSDSpaceSIP.q</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">sword.accept-packaging.METSDSpaceSIP.identifier = http:<span class="code-comment">//purl.org/net/sword-types/METSDSpaceSIP
</span>sword.accept-packaging.METSDSpaceSIP.q = 1.0</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The accept packaging properties, along with their associated quality values where appropriate. This is a Global Setting; these will be used on all DSpace collections </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">sword.accept-packaging.[handle].METSDSpaceSIP.identifier
sword.accept-packaging.[handle].METSDSpaceSIP.q</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">sword.accept-packaging.[handle].METSDSpaceSIP.identifier = http:<span class="code-comment">//purl.org/net/sword-types/METSDSpaceSIP
</span>sword.accept-packaging.[handle].METSDSpaceSIP.q = 1.0</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Collection Specific settings: these will be used on the collections with the given handles. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>sword.expose-items</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sword.expose-items = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Should the server offer up items in collections as sword deposit targets. This will be effected by placing a URI in the collection description which will list all the allowed items for the depositing user in that collection on request. <b>NOTE:</b> this will require an implementation of deposit onto items, which will not be forthcoming for a short while. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>sword.expose-communities</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sword.expose-communities = false</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Should the server offer as the default the list of all Communities to a Service Document request. If false, the server will offer the list of all collections, which is the default and recommended behavior at this stage. <b>NOTE:</b> a service document for Communities will not offer any viable deposit targets, and the client will need to request the list of Collections in the target before deposit can continue. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>sword.max-upload-size</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sword.max-upload-size = 0</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The maximum upload size of a package through the sword interface, in bytes. This will be the combined size of all the files, the metadata and any manifest data. It is NOT the same as the maximum size set for an individual file upload through the user interface. If not set, or set to 0, the sword service will default to no limit. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>sword.keep-original-package</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sword.keep-original-package = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Whether or not DSpace should store a copy of the original sword deposit package. <b>NOTE:</b> this will cause the deposit process to run slightly slower, and will accelerate the rate at which the repository consumes disk space. BUT, it will also mean that the deposited packages are recoverable in their original form. It is strongly recommended, therefore, to leave this option turned on. When set to "true", this requires that the configuration option <em>upload.temp.dir</em> above is set to a valid location. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>sword.bundle.name</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sword.bundle.name = SWORD</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> The bundle name that SWORD should store incoming packages under if sword.keep-original-package is set to true. The default is "SWORD" if not value is set </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>sword.identify-version</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sword.identify-version = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Should the server identify the sword version in a deposit response. It is recommended to leave this unchanged. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>sword.on-behalf-of.enable</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sword.on-behalf-of.enable = true</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Should mediated deposit via sword be supported. If enabled, this will allow users to deposit content packages on behalf of other users. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.named.org.dspace.sword.SWORDingester</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">plugin.named.org.dspace.sword.SWORDIngester = \
  org.dspace.sword.SWORDMETSIngester = http:<span class="code-comment">//purl.org/net/sword-types/METSDSpaceSIP \
</span>  org.dspace.sword.SimpleFileIngester = SimpleFileIngester</pre>
</div></div> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> Configure the plugins to process incoming packages. The form of this configuration is as per the Plugin Manager's Named Plugin documentation: {{plugin.named.[interface] = [implementation] = [package format identifier] }}. Package ingesters should implement the SWORDIngester interface, and will be loaded when a package of the format specified above in: {{sword.accept-packaging.[package format].identifier = [package format identifier]}}is received. In the event that this is a simple file deposit, with no package format, then the class named by "SimpleFileIngester" will be loaded and executed where appropriate. This case will only occur when a single file is being deposited into an existing DSpace Item. </td>
</tr>
<tr>
<td class='confluenceTd'> Properties: </td>
<td class='confluenceTd'> <tt>sword.accepts</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Example Value: </td>
<td class='confluenceTd'> <tt>sword.accepts = application/zip, foo/bar</tt> </td>
</tr>
<tr>
<td class='confluenceTd'> Informational Note: </td>
<td class='confluenceTd'> A comma separated list of MIME types that SWORD will accept. </td>
</tr>
</tbody></table>
</div>


				    
                    			    </td>
		    </tr>
	    </table>
	    <table border="0" cellpadding="0" cellspacing="0" width="100%">
			<tr>
				<td height="12" background="https://wiki.duraspace.org/images/border/border_bottom.gif"><img src="images/border/spacer.gif" width="1" height="1" border="0"/></td>
			</tr>
		    <tr>
			    <td align="center"><font color="grey">Document generated by Confluence on Mar 25, 2011 19:21</font></td>
		    </tr>
	    </table>
    </body>
</html>