var Holder=Holder||{};!function(t,e){var n=!1,a=!1,o=document.createElement("canvas");function r(t){t=t.match(/^(\W)?(.*)/);var e=document["getElement"+(t[1]?"#"==t[1]?"ById":"sByClassName":"sByTagName")](t[2]),n=[];return null!=e&&(n=e.length?e:0==e.length?e:[e]),n}function s(t,e){var n={};for(var a in t)n[a]=t[a];for(var i in e)n[i]=e[i];return n}function l(t,e,n,a){var i=function(t,e,n){e=parseInt(e,10),t=parseInt(t,10);var a=Math.max(e,t),i=Math.min(e,t),o=Math.min(.75*i,.75*a*(1/12));return{height:Math.round(Math.max(n.size,o))}}(e.width,e.height,n).height,r=e.width*a,s=e.height*a,l=n.font?n.font:"sans-serif";o.width=r,o.height=s,t.textAlign="center",t.textBaseline="middle",t.fillStyle=n.background,t.fillRect(0,0,r,s),t.fillStyle=n.foreground,t.font="bold "+i+"px "+l;var d=n.text?n.text:Math.floor(e.width)+"x"+Math.floor(e.height),u=t.measureText(d).width;return u/r>=.75&&(i=Math.floor(.75*i*(r/u))),t.font="bold "+i*a+"px "+l,t.fillText(d,r/2,s/2,r),o.toDataURL("image/png")}function d(t,e,n,i){var o=n.dimensions,r=n.theme,d=n.text?decodeURIComponent(n.text):n.text,c=o.width+"x"+o.height;r=d?s(r,{text:d}):r,r=n.font?s(r,{font:n.font}):r,"image"==t?(e.setAttribute("data-src",i),e.setAttribute("alt",d||(r.text?r.text+" ["+c+"]":c)),!a&&n.auto||(e.style.width=o.width+"px",e.style.height=o.height+"px"),a?e.style.backgroundColor=r.background:e.setAttribute("src",l(g,o,r,m))):"background"==t?a||(e.style.backgroundImage="url("+l(g,o,r,m)+")",e.style.backgroundSize=o.width+"px "+o.height+"px"):"fluid"==t&&(e.setAttribute("data-src",i),e.setAttribute("alt",d||(r.text?r.text+" ["+c+"]":c)),"%"==o.height.substr(-1)?e.style.height=o.height:e.style.height=o.height+"px","%"==o.width.substr(-1)?e.style.width=o.width:e.style.width=o.width+"px","inline"!=e.style.display&&""!=e.style.display||(e.style.display="block"),a?e.style.backgroundColor=r.background:(e.holderData=n,p.push(e),u(e)))}function u(t){var e;for(i in e=null==t.nodeType?p:[t]){var n=e[i];if(n.holderData){var a=n.holderData;n.setAttribute("src",l(g,{height:n.clientHeight,width:n.clientWidth},a.theme,m))}}}function c(e,n){var a={theme:x.themes.gray},i=!1;for(sl=e.length,j=0;j<sl;j++){var o=e[j];t.flags.dimensions.match(o)?(i=!0,a.dimensions=t.flags.dimensions.output(o)):t.flags.fluid.match(o)?(i=!0,a.dimensions=t.flags.fluid.output(o),a.fluid=!0):t.flags.colors.match(o)?a.theme=t.flags.colors.output(o):n.themes[o]?a.theme=n.themes[o]:t.flags.text.match(o)?a.text=t.flags.text.output(o):t.flags.font.match(o)?a.font=t.flags.font.output(o):t.flags.auto.match(o)&&(a.auto=!0)}return!!i&&a}if(document.getElementsByClassName||(document.getElementsByClassName=function(t){var e,n,a,i=document,o=[];if(i.querySelectorAll)return i.querySelectorAll("."+t);if(i.evaluate)for(n=".//*[contains(concat(' ', @class, ' '), ' "+t+" ')]",e=i.evaluate(n,i,null,0,null);a=e.iterateNext();)o.push(a);else for(e=i.getElementsByTagName("*"),n=new RegExp("(^|\\s)"+t+"(\\s|$)"),a=0;a<e.length;a++)n.test(e[a].className)&&o.push(e[a]);return o}),window.getComputedStyle||(window.getComputedStyle=function(t,e){return this.el=t,this.getPropertyValue=function(e){var n=/(\-([a-z]){1})/g;return"float"==e&&(e="styleFloat"),n.test(e)&&(e=e.replace(n,function(){return arguments[2].toUpperCase()})),t.currentStyle[e]?t.currentStyle[e]:null},this}),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(t){var e=this.__proto__||this.constructor.prototype;return t in this&&(!(t in e)||e[t]!==this[t])}),o.getContext)if(o.toDataURL("image/png").indexOf("data:image/png")<0)a=!0;else var g=o.getContext("2d");else a=!0;var h=1,f=1;a||(h=window.devicePixelRatio||1,f=g.webkitBackingStorePixelRatio||g.mozBackingStorePixelRatio||g.msBackingStorePixelRatio||g.oBackingStorePixelRatio||g.backingStorePixelRatio||1);var m=h/f,p=[],x={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}},stylesheet:".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}"};for(var y in t.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(t){var e=this.regex.exec(t);return{width:+e[1],height:+e[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(t){var e=this.regex.exec(t);return{width:e[1],height:e[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(t){var e=this.regex.exec(t);return{size:x.themes.gray.size,foreground:"#"+e[2],background:"#"+e[1]}}},text:{regex:/text\:(.*)/,output:function(t){return this.regex.exec(t)[1]}},font:{regex:/font\:(.*)/,output:function(t){return this.regex.exec(t)[1]}},auto:{regex:/^auto$/}},t.flags)t.flags.hasOwnProperty(y)&&(t.flags[y].match=function(t){return t.match(this.regex)});t.add_theme=function(e,n){return null!=e&&null!=n&&(x.themes[e]=n),t},t.add_image=function(e,n){var a=r(n);if(a.length)for(var i=0,o=a.length;i<o;i++){var s=document.createElement("img");s.setAttribute("data-src",e),a[i].appendChild(s)}return t},t.run=function(e){var a=s(x,e),i=[],o=[],l=[];for("string"==typeof a.images?o=r(a.images):window.NodeList&&a.images instanceof window.NodeList?o=a.images:window.Node&&a.images instanceof window.Node&&(o=[a.images]),"string"==typeof a.bgnodes?l=r(a.bgnodes):window.NodeList&&a.elements instanceof window.NodeList?l=a.bgnodes:window.Node&&a.bgnodes instanceof window.Node&&(l=[a.bgnodes]),n=!0,f=0,h=o.length;f<h;f++)i.push(o[f]);var u=document.getElementById("holderjs-style");u||((u=document.createElement("style")).setAttribute("id","holderjs-style"),u.type="text/css",document.getElementsByTagName("head")[0].appendChild(u)),a.nocss||(u.styleSheet?u.styleSheet.cssText+=a.stylesheet:u.appendChild(document.createTextNode(a.stylesheet)));for(var g=new RegExp(a.domain+'/(.*?)"?\\)'),h=l.length,f=0;f<h;f++){var m=window.getComputedStyle(l[f],null).getPropertyValue("background-image"),p=m.match(g),y=l[f].getAttribute("data-background-src");if(p)(w=c(p[1].split("/"),a))&&d("background",l[f],w,m);else if(null!=y){(w=c(y.substr(y.lastIndexOf(a.domain)+a.domain.length+1).split("/"),a))&&d("background",l[f],w,m)}}for(h=i.length,f=0;f<h;f++){var w,v=attr_data_src=m=null;try{v=i[f].getAttribute("src"),attr_datasrc=i[f].getAttribute("data-src")}catch(t){}if(null==attr_datasrc&&v&&v.indexOf(a.domain)>=0?m=v:attr_datasrc&&attr_datasrc.indexOf(a.domain)>=0&&(m=attr_datasrc),m)(w=c(m.substr(m.lastIndexOf(a.domain)+a.domain.length+1).split("/"),a))&&(w.fluid?d("fluid",i[f],w,m):d("image",i[f],w,m))}return t},function(t,e){var n="complete",a="readystatechange",i=!1,o=!0,r=t.document,s=r.documentElement,l=r.addEventListener?"addEventListener":"attachEvent",d=r.addEventListener?"removeEventListener":"detachEvent",u=r.addEventListener?"":"on",c=function(o){(o.type!=a||r.readyState==n)&&(("load"==o.type?t:r)[d](u+o.type,c,!1),!i&&(i=!0)&&e.call(t,null))},g=function(){try{s.doScroll("left")}catch(t){return void setTimeout(g,50)}c("poll")};if(r.readyState==n)e.call(t,"lazy");else{if(r.createEventObject&&s.doScroll){try{o=!t.frameElement}catch(t){}o&&g()}r[l](u+"DOMContentLoaded",c,!1),r[l](u+a,c,!1),t[l](u+"load",c,!1)}}(e,function(){window.addEventListener?(window.addEventListener("resize",u,!1),window.addEventListener("orientationchange",u,!1)):window.attachEvent("onresize",u),n||t.run()}),"function"==typeof define&&define.amd&&define("Holder",[],function(){return t})}(Holder,window);