#
# The contents of this file are subject to the license and copyright
# detailed in the LICENSE and NOTICE files at the root of the source
# tree and available online at
#
# http://www.dspace.org/license/
#

#
# Spring Boot's application.properties
#
# This properties file is used by Spring Boot to initialize its ApplicationContext and configure
# default Spring beans. It also uses the "dspace.dir" custom setting to locate your DSpace installation,
# and load all DSpace services and configurations.
#
# WARNING: Because this properties file initializes Spring Boot, it loads *before* any DSpace specific
# configurations/settings. Therefore settings in this file CANNOT depend on any DSpace configurations.
# The *only* DSpace configuration allowed in this file is "dspace.dir", which is documented below.
#
# HOW TO OVERRIDE SPRING SETTINGS: Since the DSpace Configuration Service loads early in the Spring Boot
# startup process (see DSpaceConfigurationInitializer), most Spring Boot properties can be OVERRIDDEN in
# your local.cfg.
#
# Docs (including info on how to override these default settings)
#    http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html
# For common settings see:
#    http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html
#


########################
# DSpace Settings
#
# DSpace home/installation directory
# REQUIRED to be specified in this application.properties file, as it is used to locate and initialize
# the DSpace Kernel and all Services (including configuration).
#  * See org.dspace.app.rest.utils.DSpaceKernelInitializer.getDSpaceHome()
# NOTE: this configuration is filled out by Apache Ant during the DSpace install/update process. It does NOT
# interact with or read its configuration from dspace.cfg.


# -----------------------------------------------------------------------------
# Spring Shell Configuration
# -----------------------------------------------------------------------------
spring.shell.interactive.enabled=false
spring.shell.script.enabled=true

# -----------------------------------------------------------------------------
# Database Configuration (H2 in-memory para testes)
# -----------------------------------------------------------------------------
spring.datasource.url=jdbc:h2:mem:testdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# -----------------------------------------------------------------------------
# Flyway Configuration
# -----------------------------------------------------------------------------
spring.flyway.enabled=false
spring.flyway.baseline-on-migrate=true
spring.flyway.locations=classpath:db/migration

# -----------------------------------------------------------------------------
# DSpace Configuration (Mock/Test values)
# -----------------------------------------------------------------------------
dspace.dir=/tmp/dspace-test
dspace.server.url=http://localhost:8080/server

#spring.main.web-application-type=none
#spring.main.banner-mode=off
## Enable Spring Shell test modes
#spring.config.activate.on-profile: dev


# Desabilitar inicialização real do DSpace
dspace.kernel.init=false

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
logging.level.org.dspace=DEBUG
logging.level.org.springframework.shell=DEBUG
logging.level.org.flywaydb=INFO

# -----------------------------------------------------------------------------
# Test Specific Settings
# -----------------------------------------------------------------------------
spring.main.allow-bean-definition-overriding=true
spring.test.database.replace=none